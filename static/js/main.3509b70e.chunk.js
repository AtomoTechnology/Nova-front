(this["webpackJsonptaller-nico"]=this["webpackJsonptaller-nico"]||[]).push([[0],{19:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n={startLogin:"[auth] start the login auth",finshLogin:"[auth] finsish login auth",finishChecking:"[auth] finish checking",logout:"[auth] start logout",getAllWorks:"[work] get all works",getAllOrders:"[order] get all orders",setOneWork:"[work] set one work",getAllClients:"[client]get all the client form tha db",setOneClient:"[client] set one client",setWorksClient:"[client]set all works client",resetWorksClient:"[client]reset the state if there is no works",filterWorksState:"[works] filter the works bt state",filtrarClient:"[client] filter the clients by dni",updateClientAvatar:"[client] update client avatar"}},280:function(e,t){},282:function(e,t){},312:function(e,t){},313:function(e,t){},424:function(e,t){},611:function(e,t,s){"use strict";s.r(t),s.d(t,"authReducer",(function(){return r}));var n=s(13),c=s(19),a={checking:!0},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.startLogin:return Object(n.a)(Object(n.a)(Object(n.a)({},e),t.payload),{},{checking:!1});case c.a.finishChecking:return Object(n.a)(Object(n.a)({},e),{},{checking:!1});case c.a.logout:return{checking:!1};default:return e}}},612:function(e,t,s){},613:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s(88),a=s.n(c),r=s(10),i=s(11),l=s(22),o=s(8),d=s.n(o),j=s(16),b=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat("https://novatechnology.herokuapp.com/api/").concat(e);return console.log(t),console.log(n),"GET"===s?fetch(n):fetch(n,{method:s,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},u=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat("https://novatechnology.herokuapp.com/api/").concat(e);console.log(n);var c=localStorage.getItem("token")||"";return console.log("llega"),"GET"===s?fetch(n,{headers:{"x-token":c}}):(console.log("post"),fetch(n,{method:s,headers:{"Content-type":"application/json","x-token":c},body:JSON.stringify(t)}))},h=s(19),m=s(18),x=s.n(m),O=function(){return function(e){localStorage.removeItem("token"),localStorage.removeItem("token-start-date"),e(p())}},p=function(){return{type:h.a.logout}},v=function(){return{type:h.a.finishChecking}},g=function(e){return{type:h.a.startLogin,payload:e}},f=s(6),N=s(89),k=s(13),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),s=Object(f.a)(t,2),c=s[0],a=s[1],r=function(){a(e)},i=function(e){var t=e.target;a(Object(k.a)(Object(k.a)({},c),{},Object(N.a)({},t.name,t.value)))};return[c,i,r]},y=s.p+"static/media/logo03.57274dd7.png",C=s(1),S=function(e){e.history;var t=Object(r.b)(),s=w({username:"",password:""}),n=Object(f.a)(s,2),c=n[0],a=n[1],i=c.username,l=c.password,o=function(){var e=!0;return i.trim().length<5&&(e=!1),l.trim().length<6&&(e=!1),!!e};return Object(C.jsx)("div",{className:"auth__login",children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(i,l),o()?t(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e,t),s.next=3,b("auth/login",{username:e,password:t},"POST");case 3:return c=s.sent,s.next=6,c.json();case 6:a=s.sent,console.log(a),a.ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-start-date",(new Date).getTime()),n(g({uid:a.uid,username:a.username,role:a.role}))):x.a.fire("error",a.msg,"error");case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(i,l)):console.log("verifica los datos")},className:"auth__login-form",children:[Object(C.jsx)("div",{className:"header-logo",children:Object(C.jsx)("img",{src:y,width:"45",alt:"Nova Technology"})}),Object(C.jsx)("h3",{children:"Nova Technology"}),Object(C.jsx)("label",{children:"Username"}),Object(C.jsx)("input",{value:i,onChange:a,type:"text",name:"username"}),Object(C.jsx)("label",{children:"password"}),Object(C.jsx)("input",{value:l,onChange:a,type:"password",name:"password"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:"btn",type:"submit",children:"Inicia Sesion"})]})})},E=function(){return Object(C.jsx)("div",{className:"loading",children:Object(C.jsxs)("div",{class:"sk-circle",children:[Object(C.jsx)("div",{class:"sk-circle1 sk-child"}),Object(C.jsx)("div",{class:"sk-circle2 sk-child"}),Object(C.jsx)("div",{class:"sk-circle3 sk-child"}),Object(C.jsx)("div",{class:"sk-circle4 sk-child"}),Object(C.jsx)("div",{class:"sk-circle5 sk-child"}),Object(C.jsx)("div",{class:"sk-circle6 sk-child"}),Object(C.jsx)("div",{class:"sk-circle7 sk-child"}),Object(C.jsx)("div",{class:"sk-circle8 sk-child"}),Object(C.jsx)("div",{class:"sk-circle9 sk-child"}),Object(C.jsx)("div",{class:"sk-circle10 sk-child"}),Object(C.jsx)("div",{class:"sk-circle11 sk-child"}),Object(C.jsx)("div",{class:"sk-circle12 sk-child"})]})})},T=function(e){var t=e.history,s=Object(r.b)(),c=Object(n.useState)(!0),a=Object(f.a)(c,2),i=a[0],l=a[1],o=Object(n.useState)(!1),u=Object(f.a)(o,2),h=u[0],m=u[1],O=w({username:"",password:""}),p=Object(f.a)(O,3),v=p[0],g=p[1],N=p[2],k=v.username,y=v.password,S=function(){var e=!0;return k.trim().length<5&&(e=!1),y.trim().length<6&&(e=!1),l(e),console.log(e),!!e};return Object(C.jsx)("div",{className:"auth__register",children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),S()?(s(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b("auth/createUser",{username:e,password:t,role:"user"},"POST");case 2:return c=s.sent,s.next=5,c.json();case 5:(a=s.sent).ok?x.a.fire({position:"center",icon:"success",title:"Usuario registrado con exito...",showConfirmButton:!1,timer:3e3}):x.a.fire("error",a.msg,"error");case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(k,y)),N(),t.push("/")):console.log("verifica los datos"),m(!1)},className:"register-form",children:[Object(C.jsx)("h3",{children:"Registrar Usuario"}),!i&&Object(C.jsxs)("ul",{className:"error-form",children:[Object(C.jsx)("li",{className:"help-1",children:"Verifica que el usuario y la contrase\xf1a son correctos"}),Object(C.jsx)("br",{}),Object(C.jsx)("li",{className:"help-2",children:"Deben tener como minimo 6 caracteres y el usuario debe ser unico."})]}),Object(C.jsx)("label",{children:"Username"}),Object(C.jsx)("input",{value:k,onChange:g,type:"text",name:"username"}),Object(C.jsx)("label",{children:"password"}),Object(C.jsx)("input",{value:y,onChange:g,type:"password",name:"password"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:"btn",type:"submit",children:h?"Registrando...":"Registrarse"})]})})},D=x.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",x.a.stopTimer),e.addEventListener("mouseleave",x.a.resumeTimer)}}),L=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("clients");case 3:return s=e.sent,e.next=6,s.json();case 6:(n=e.sent).ok&&t(A(n.clients)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a,r,i,l,o;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!t){s.next=22;break}return s.next=4,b("clients/upload",{file:t},"POST");case 4:return c=s.sent,s.next=7,c.json();case 7:if(a=s.sent,console.log(a),!a.ok){s.next=20;break}return e.pathImg=a.url,console.log(e),s.next=14,u("clients",e,"POST");case 14:return r=s.sent,s.next=17,r.json();case 17:i=s.sent,console.log(i),i.ok&&D.fire({icon:"success",title:i.msg});case 20:s.next=30;break;case 22:return s.next=24,u("clients",e,"POST");case 24:return l=s.sent,s.next=27,l.json();case 27:o=s.sent,console.log(o),o.ok?D.fire({icon:"success",title:o.msg}):D.fire({icon:"error",title:o.msg});case 30:s.next=36;break;case 32:s.prev=32,s.t0=s.catch(0),console.log(s.t0),D.fire({icon:"error",title:s.t0});case 36:case"end":return s.stop()}}),s,null,[[0,32]])})));return function(e){return s.apply(this,arguments)}}()},M=function(){return{type:h.a.resetWorksClient}},P=function(e){return{type:h.a.setWorksClient,payload:e}},I=function(e){return{type:h.a.setOneClient,payload:e}},A=function(e){return{type:h.a.getAllClients,payload:e}},Y=s(15),B=s.n(Y),q=function(e){return e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{fechaInicio:B()(e.fechaInicio).toDate()})}))},W=x.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",x.a.stopTimer),e.addEventListener("mouseleave",x.a.resumeTimer)}}),F=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("works");case 3:return s=e.sent,e.next=6,s.json();case 6:n=e.sent,c=q(n.works),console.log(c),n.ok&&t(G(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("works/".concat(e));case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,console.log(c.work),c.ok?s(H(c.work)):W.fire({icon:"error",title:"Error al recuperar los datos del cliente"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),W.fire({icon:"error",title:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u("works/".concat(t),e,"PUT");case 3:return c=s.sent,s.next=6,c.json();case 6:a=s.sent,console.log(a),console.log(a.updateWork),a.ok?(n(H(a.updateWork)),W.fire({icon:"success",title:"Trabajo editado con exito!!!"})):x.a.fire("error","Hubo un error en la consula intente de nuevo","error"),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),x.a.fire("error",s.t0,"error");case 15:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(e){return s.apply(this,arguments)}}()},G=function(e){return{type:h.a.getAllWorks,payload:e}},H=function(e){return{type:h.a.setOneWork,payload:e}},U=(s.p,s.p+"static/media/userLogo.4bac9738.png"),$=function(e){var t,s,n,c,a,l,o,d,j,b,u,h,m,x,O=e.work;console.log(O);var p=B()(B()().format("YYYY-MM-DD")),v=Object(r.c)((function(e){return e.auth})).role,g="";switch(null===O||void 0===O?void 0:O.state[(null===O||void 0===O?void 0:O.state.length)-1].nombre){case"Revision":g="red-700";break;case"Presupuesto":g="gray-600";break;case"En Reparacion":g="yellow-500";break;case"Terminado":g="pink-400";break;default:g="green-700"}return Object(C.jsxs)(i.b,{to:"/works/".concat(null===O||void 0===O||null===(t=O.work)||void 0===t?void 0:t._id),className:"work work-state",children:[Object(C.jsx)("div",{className:"title p-1",children:Object(C.jsx)("span",{className:"capitalize text-"+g,children:(null===O||void 0===O||null===(s=O.work)||void 0===s?void 0:s.marca)+"   "+(null===O||void 0===O||null===(n=O.work)||void 0===n?void 0:n.modelo)})}),Object(C.jsx)("div",{className:"observaciones p-1",children:Object(C.jsxs)("span",{children:[null===O||void 0===O||null===(c=O.work)||void 0===c?void 0:c.observaciones.slice(0,100)," ",(null===O||void 0===O||null===(a=O.work)||void 0===a?void 0:a.observaciones.length)>100?"...":null]})}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-300",children:"Hace "+p.diff(B()(B()(null===O||void 0===O?void 0:O.state[(null===O||void 0===O?void 0:O.state.length)-1].fecha).format("YYYY-MM-DD")),"days")+" Dias"}),Object(C.jsx)("p",{children:null===O||void 0===O||null===(l=O.work)||void 0===l?void 0:l.codigo})]}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm bg-".concat(g," p-1"),children:null===O||void 0===O?void 0:O.state[(null===O||void 0===O?void 0:O.state.length)-1].nombre}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+g})]}),Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===O||void 0===O||null===(o=O.work)||void 0===o||null===(d=o.cliente)||void 0===d?void 0:d.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===O||void 0===O||null===(j=O.work)||void 0===j||null===(b=j.cliente)||void 0===b?void 0:b.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:U}),Object(C.jsxs)("h3",{className:"capitalize font-serif",children:[null===O||void 0===O||null===(u=O.work)||void 0===u||null===(h=u.cliente)||void 0===h||null===(m=h.name)||void 0===m?void 0:m.slice(0,13),"..."]}),"admin"==v&&Object(C.jsx)("span",{className:"work-precio text-"+g,children:" $ "+(null===O||void 0===O||null===(x=O.work)||void 0===x?void 0:x.total.toFixed(2))})]})]})},V=s(620),J=s(615),X=s(616),K=s(617),Q=s(618),Z=(s(140),s(141),s(142),s(143),function(){return Object(C.jsxs)("div",{class:"spinner",children:[Object(C.jsx)("div",{class:"bounce1"}),Object(C.jsx)("div",{class:"bounce2"}),Object(C.jsx)("div",{class:"bounce3"}),Object(C.jsx)("span",{children:"Cargando..."})]})}),ee=function(e){var t,s,n,c,a=e.work,l=e.idChange,o=e.setIdChange,b=Object(r.b)();console.log(l);var h=Object(r.c)((function(e){return e.auth})).role,m="";switch(a.estado.name){case"Revision":m="red-700";break;case"Presupuesto":m="gray-600";break;case"En Reparacion":m="yellow-500";break;case"Terminado":m="pink-400";break;default:m="green-700"}return Object(C.jsxs)("div",{className:"work",children:[Object(C.jsx)("ul",{className:"action-work",children:Object(C.jsxs)("li",{onClick:function(){x.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el trabajo definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){var t;e.isConfirmed&&(b((t=null===a||void 0===a?void 0:a._id,console.log("Estoy..."),function(){var e=Object(j.a)(d.a.mark((function e(s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("works/".concat(t),[],"DELETE");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c),c.ok?W.fire({icon:"success",title:"Trabajo borrado con exito!!!"}):x.a.fire("error",c.msg,"error"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),x.a.fire("error",e.t0,"error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),o(null===a||void 0===a?void 0:a._id),console.log(l))}))},children:[Object(C.jsx)("span",{children:"Borrar"}),Object(C.jsx)("i",{class:"fas fa-trash"})]})}),Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===a||void 0===a||null===(t=a.cliente)||void 0===t?void 0:t.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===a||void 0===a||null===(s=a.cliente)||void 0===s?void 0:s.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:U}),Object(C.jsxs)("h3",{className:"capitalize font-serif",children:[null===a||void 0===a||null===(n=a.cliente)||void 0===n||null===(c=n.name)||void 0===c?void 0:c.slice(0,10),"..."]}),"admin"==h&&Object(C.jsx)("i",{class:"fas fa-ellipsis-v"})]}),Object(C.jsx)(i.b,{to:"/works/".concat(a._id),className:"title p-1",children:Object(C.jsxs)("span",{className:"capitalize text-"+m,children:[(null===a||void 0===a?void 0:a.marca)+" - "+(null===a||void 0===a?void 0:a.modelo),(null===a||void 0===a?void 0:a.tieneContrasena)&&Object(C.jsx)("i",{class:"fas fa-lock work-lock"})]})}),Object(C.jsx)("div",{className:"observaciones p-1",children:Object(C.jsxs)("span",{children:[null===a||void 0===a?void 0:a.observaciones.slice(0,60)," ",(null===a||void 0===a?void 0:a.observaciones.length)>60?"...":null]})}),Object(C.jsx)("div",{className:"p-1",children:(null===a||void 0===a?void 0:a.tieneContrasena)?null===a||void 0===a?void 0:a.contrasena:null}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm text-white bg-".concat(m," p-1"),children:null===a||void 0===a?void 0:a.estado.name}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+m})]})]})},te=function(e){var t,s,n,c,a=e.work,l=Object(r.c)((function(e){return e.auth})).role,o="";switch(a.estado.name){case"Revision":o="red-700";break;case"Presupuesto":o="gray-600";break;case"En Reparacion":o="yellow-500";break;case"Terminado":o="pink-400";break;default:o="green-700"}return Object(C.jsxs)(i.b,{to:"/works/".concat(a._id),className:"work",children:[Object(C.jsx)("div",{className:"title p-1",children:Object(C.jsx)("span",{className:"capitalize text-"+o,children:(null===a||void 0===a?void 0:a.marca)+"   "+(null===a||void 0===a?void 0:a.modelo)})}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-700",children:null===a||void 0===a?void 0:a.codigo})]}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-300",children:B()(null===a||void 0===a?void 0:a.fechaInicio).format("DD-MM-yyyy")})]}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm text-white bg-".concat(o," p-1"),children:null===a||void 0===a?void 0:a.estado.name}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+o})]}),Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===a||void 0===a||null===(t=a.cliente)||void 0===t?void 0:t.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===a||void 0===a||null===(s=a.cliente)||void 0===s?void 0:s.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:U}),Object(C.jsxs)("h3",{className:"capitalize font-serif",children:[null===a||void 0===a||null===(n=a.cliente)||void 0===n||null===(c=n.name)||void 0===c?void 0:c.slice(0,10),"..."]}),"admin"==l&&Object(C.jsx)("span",{className:"work-precio text-"+o,children:"$"+(null===a||void 0===a?void 0:a.total.toFixed(2))})]})]})};V.a.use([J.a,X.a,K.a,Q.a]);var se=function(){var e=Object(r.b)(),t=Object(n.useState)([]),s=Object(f.a)(t,2),c=s[0],a=s[1],l=Object(n.useState)(!0),o=Object(f.a)(l,2),b=o[0],u=o[1],h=Object(n.useState)(!0),m=Object(f.a)(h,2);m[0],m[1];Object(n.useEffect)((function(){e(L())}),[e]),Object(n.useEffect)((function(){e(F())}),[e]);var x=Object(r.c)((function(e){return e.clients})).clients,O=Object(r.c)((function(e){return e.works})).works;Object(n.useEffect)((function(){fetch("".concat("https://novatechnology.herokuapp.com/api/","work_state")).then((function(e){return e.json()})).then((function(e){a(e.work_state),u(!1)}))}),[u,a]);var p=[];O.map((function(e){"Terminado"===e.estado.name&&p.push(e)})),console.log(p);var v=B()(B()().format("YYYY-MM-DD")),g=[];c.map((function(e){var t=B()(B()(e.state[e.state.length-1].fecha).format("YYYY-MM-DD"));v.diff(t,"days")>=3&&("Revision"==e.state[e.state.length-1].nombre||"Presupuesto"==e.state[e.state.length-1].nombre)&&g.push(e)}));var N=function(e){var t=document.getElementById(e.target.parentElement.parentElement.classList[0]);t.scrollLeft-=t.offsetWidth},k=function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=document.getElementById(t.target.parentElement.parentElement.classList[0])).scrollLeft+=s.offsetWidth;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"home",children:[Object(C.jsxs)("div",{className:"home__statistics shadow mb-2 p-1",children:[Object(C.jsxs)("div",{className:"users",children:[Object(C.jsxs)("div",{className:"users-content rounded-t",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:x.length}),Object(C.jsx)("h3",{children:"clientes"})]}),Object(C.jsx)("i",{className:"fas fa-user"})]}),Object(C.jsx)("div",{className:"users-foot rounded-b",children:Object(C.jsxs)(i.b,{to:"clients",children:["mas info",Object(C.jsx)("i",{className:"fas fa-angle-double-right"})," "]})})]}),Object(C.jsxs)("div",{className:"works",children:[Object(C.jsxs)("div",{className:"works-content rounded-t",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:O.length}),Object(C.jsx)("h3",{children:"Trabajos"})]}),Object(C.jsx)("i",{class:"fas fa-th-list"})]}),Object(C.jsx)("div",{className:"works-foot rounded-b",children:Object(C.jsxs)(i.b,{to:"/works",children:["mas info",Object(C.jsx)("i",{className:"fas fa-angle-double-right"})," "]})})]})]}),b?Object(C.jsx)(Z,{}):g.length>0&&Object(C.jsxs)("div",{className:"home__section-recent-works shadow my-1 p-2",children:[Object(C.jsx)("h3",{className:"text-red-400",children:"AVISO"}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"avisos",id:"avisos",children:[Object(C.jsx)("button",{className:"btn btn-left-carrousel",onClick:N,id:"btn-left",children:Object(C.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),g.map((function(e){return Object(C.jsx)($,{work:e},null===e||void 0===e?void 0:e._id)})),Object(C.jsx)("button",{onClick:k,className:"btn btn-right-carrousel",id:"btn-right",children:Object(C.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]}),p.length>0&&Object(C.jsxs)("div",{className:"home__section-recent-works shadow my-1 p-2",children:[Object(C.jsx)("h3",{className:"text-red-400",children:"Trabajos Terminados"}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"confirmados",id:"confirmados",children:[Object(C.jsx)("button",{className:"btn btn-left-carrousel",onClick:N,id:"btn-left",children:Object(C.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),p.map((function(e){return Object(C.jsx)(te,{work:e},null===e||void 0===e?void 0:e._id)})),Object(C.jsx)("button",{onClick:k,className:"btn btn-right-carrousel",id:"btn-right",children:Object(C.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]})]})},ne=s.p+"static/media/adminLogo.4d8edb82.png",ce=function(){var e=Object(r.b)(),t=function(e){e.target.parentElement.parentElement.classList.toggle("active"),console.log(e.target.parentElement.parentElement.style.display="none")},s=Object(r.c)((function(e){return e.auth})),n=s.username,c=s.role;return Object(C.jsxs)("div",{className:"content-header",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-open-menu-mobile",className:"fas fa-bars"}),Object(C.jsxs)("div",{onMouseOut:function(){var e=document.querySelector(".menu-user");e.style.visibility="hidden",e.style.opacity=0},onMouseOver:function(){var e=document.querySelector(".menu-user");e.style.visibility="visible",e.style.opacity=1},onClick:function(e){document.querySelector(".menu-user").classList.toggle("active-mobile")},className:"content-header-right",children:[Object(C.jsxs)("div",{className:"user-logo",children:["admin"===c?Object(C.jsx)("img",{src:ne}):Object(C.jsx)("img",{src:U}),Object(C.jsx)("span",{className:"user-name",children:n})]}),Object(C.jsx)("div",{className:"menu-user",children:Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{className:"menu-item link-lateral active",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Home"}),Object(C.jsxs)(i.b,{to:"/",className:"",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-home"})}),Object(C.jsx)("span",{className:"title",children:"Home"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Clientes"}),Object(C.jsxs)(i.b,{to:"/clients",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-users"})," "]}),Object(C.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(C.jsxs)(i.b,{to:"/works",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Trabajos"})]})]}),"admin"===c&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Registrar Usuario"}),Object(C.jsxs)(i.b,{to:"/auth/register",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-user-plus"})}),Object(C.jsx)("span",{className:"title",children:"Registar Usuario "})]})]}),"admin"===c&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Ordenes"}),Object(C.jsxs)(i.b,{to:"/orders",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Ordenes"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(C.jsxs)(i.b,{to:"/client/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(C.jsxs)(i.b,{to:"/work/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===c&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(C.jsxs)(i.b,{to:"/works/histories/all",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-history"})," "]}),Object(C.jsx)("span",{className:"title",children:"Historial De Trabajo"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Novedades"}),Object(C.jsxs)(i.b,{to:"/news",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-star-and-crescent"})," "]}),Object(C.jsx)("span",{className:"title",children:"Novedades"})]})]}),Object(C.jsxs)("li",{onClick:function(){e(O())},className:"menu-item",children:[Object(C.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(C.jsxs)(i.b,{to:"#",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(C.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})]})})]})]})},ae=s.p+"static/media/logoNovaWhite.80a4b1d0.png",re=function(){var e=Object(r.c)((function(e){return e.auth})),t=(e.uid,e.role),s=function(e){e.target.parentElement.parentElement.classList.toggle("active"),console.log(e.target.parentElement.parentElement.style.display="none")},n=Object(r.b)();return Object(C.jsx)("div",{className:"navbar",children:Object(C.jsxs)("div",{className:"navbar__container",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-close-mobil",className:"fas fa-times"}),Object(C.jsxs)("div",{className:"navegation",children:[Object(C.jsxs)("div",{className:"navegation-header",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active-mini-menu"),document.querySelector(".content-principal").classList.toggle("toggleContentPrincipal"),document.querySelector(".content-header").classList.toggle("toggleContentHeader")},class:"fas fa-bars"}),Object(C.jsx)("div",{className:"img",children:Object(C.jsx)("img",{src:ae,alt:"Logo Nova",width:"25"})})]}),Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{className:"menu-item link-lateral active",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Home"}),Object(C.jsxs)(i.b,{to:"/",className:"",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-home"})}),Object(C.jsx)("span",{className:"title",children:"Home"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Clientes"}),Object(C.jsxs)(i.b,{to:"/clients",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-users"})," "]}),Object(C.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(C.jsxs)(i.b,{to:"/works",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Trabajos"})]})]}),"admin"===t&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Registrar Usuario"}),Object(C.jsxs)(i.b,{to:"/auth/register",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-user-plus"})}),Object(C.jsx)("span",{className:"title",children:"Registar Usuario "})]})]}),"admin"===t&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Ordenes"}),Object(C.jsxs)(i.b,{to:"/orders",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Ordenes"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(C.jsxs)(i.b,{to:"/client/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(C.jsxs)(i.b,{to:"/work/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===t&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:s,children:[Object(C.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(C.jsxs)(i.b,{to:"/works/histories/all",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-history"})," "]}),Object(C.jsx)("span",{className:"title",children:"Hist. Trab/Gastos"})]})]})]}),Object(C.jsx)("div",{className:"navegation-footer",children:Object(C.jsxs)("li",{onClick:function(){n(O())},className:"menu-item",children:[Object(C.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(C.jsxs)(i.b,{to:"#",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(C.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})})]})]})})},ie=function(e){return{type:h.a.getAllOrders,payload:e}},le=(s(275),s(258)),oe=s(138),de=s.n(oe),je=s.p+"static/media/3.37f87e4b.png",be=function(e){var t,s,c,a=e.order,r=Object(n.useState)(!1),i=Object(f.a)(r,2),l=i[0],o=i[1],b=Object(n.useState)(!1),u=Object(f.a)(b,2);u[0],u[1];if(null===a.work)return Object(C.jsx)("div",{children:"Orden no existe ...."});var h=a.work,m=(h.marca,h.cliente,function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),de.a.post("".concat("https://novatechnology.herokuapp.com/api/","orders/").concat(null===a||void 0===a?void 0:a._id),{}).then((function(){return de.a.get("".concat("https://novatechnology.herokuapp.com/api/","orders/fetchPdf/download"),{responseType:"blob"})})).then((function(e){var t;console.log(e);var s=new Blob([e.data],{type:"application/pdf"});Object(le.saveAs)(s,"".concat(null===(t=a.work)||void 0===t?void 0:t.codigo,".pdf")),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(C.jsxs)("div",{className:"orden",children:[Object(C.jsx)("div",{className:"photo",children:Object(C.jsx)("img",{src:je,alt:""})}),Object(C.jsxs)("div",{className:"body-pdf",children:[Object(C.jsx)("h3",{className:"codigo",children:null===(t=a.work)||void 0===t?void 0:t.codigo}),Object(C.jsxs)("h5",{className:"marca",children:[" ",null===(s=a.work)||void 0===s?void 0:s.marca," "]}),Object(C.jsxs)("h5",{className:"modelo",children:[" ",null===(c=a.work)||void 0===c?void 0:c.modelo," "]}),Object(C.jsx)("button",{onClick:m,className:"btn-download-pdf",children:l?Object(C.jsx)("span",{children:"Descargando..."}):Object(C.jsxs)("span",{className:"flex justify-between gap-x-3 align-center  ",children:[Object(C.jsx)("span",{children:"Descargar"}),Object(C.jsx)("i",{className:"fas fa-arrow-circle-down text-white text-center text-lg  bg-blue-600 shadow-md rounded-full flex align-center justify-center w-7 h-7"})]})})]})]})},ue=function(){var e=Object(r.b)(),t=Object(n.useState)(!0),s=Object(f.a)(t,2),c=s[0],a=s[1];Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("orders");case 3:return s=e.sent,e.next=6,s.json();case 6:n=e.sent,console.log(n),n.ok&&t(ie(n.orders)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),a(!1)}),[e]);var i=Object(r.c)((function(e){return e.orders})).orders;return console.log(i),Object(C.jsxs)("div",{className:"orders",children:[Object(C.jsx)("span",{className:"title-header",children:"Ordenes"}),c?Object(C.jsx)(Z,{}):i.length<=0?Object(C.jsx)("div",{className:"p-2 mt-3 bg-red-200 shadow rounded text-center text-2xl text-red-600",children:"No hay Ordenes disponibles por el momento..."}):Object(C.jsx)("div",{className:"ordenes   shadow-lg ",children:i.map((function(e){return Object(C.jsx)(be,{order:e},e._id)}))})]})},he=function(e){var t=e.history,s=Object(r.b)(),c=Object(n.useState)(""),a=Object(f.a)(c,2),i=(a[0],a[1],Object(n.useState)([])),l=Object(f.a)(i,2),o=l[0],b=l[1],u=Object(n.useState)(!1),h=Object(f.a)(u,2),m=h[0],x=h[1],O=Object(n.useState)(""),p=Object(f.a)(O,2),v=p[0],g=p[1],N=w({name:"",dni:"",phone1:"",phone2:"",direction:"",nota:"",file:"",pathImg:""}),k=Object(f.a)(N,3),y=k[0],S=k[1],E=k[2],T=y.name,D=y.dni,L=y.phone1,M=y.phone2,P=y.direction,I=y.nota,A=function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),n.preventDefault(),Y()?(console.log(v),s(_(y,v)),E(),setTimeout((function(){t.push("/clients")}),1e3)):console.log(o),x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=!0,t=[];return T&&0!==T.trim().length||(e=!1,t.name=!0),(!D||D.length<8||D.length>11)&&(e=!1,t.dni=!0),(!L||L.length<7)&&(e=!1,t.phone1=!0),b(t),!!e};return Object(C.jsx)("div",{className:"user-add ",children:Object(C.jsxs)("form",{onSubmit:A,className:"user-add-form shadow-lg rounded-md",children:[Object(C.jsx)("h3",{children:"Agregar Cliente"}),Object(C.jsxs)("div",{className:"form-grid",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Nombre Cliente ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:S,value:T,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),o.name?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["DNI ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:S,value:D,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),o.dni?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Telefono 1 ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:S,value:L,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),o.phone1?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Telefono 2"}),Object(C.jsx)("input",{onChange:S,value:M,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Direcci\xf3n"}),Object(C.jsx)("input",{className:"shadow",onChange:S,value:P,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Nota"}),Object(C.jsx)("input",{className:"shadow",onChange:S,value:I,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(C.jsxs)("div",{className:"my-2",children:[Object(C.jsxs)("label",{htmlFor:"loadImg",style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"loadImage gap-x-2 hover:bg-gray-800 bg-gray-900 text-white cursor-pointer flex justify-between p-1 rounded align-center",children:[Object(C.jsx)("i",{className:"fas fa-plus-circle text-center align-center text-white text-3xl  flex rounded-full p-1 justify-between"}),Object(C.jsx)("span",{className:"text-white",children:" Subir Foto"})]}),Object(C.jsx)("input",{id:"loadImg",onChange:function(e){if(console.log(e.target.files[0].size),e.target.files[0]){var t=new FileReader;t.onload=function(e){var t=e.target.result;g(t),document.querySelector(".imgLoad").setAttribute("src",t)},t.readAsDataURL(e.target.files[0])}},type:"file",className:"hidden",name:"file",accept:"image/*"})]}),Object(C.jsx)("img",{className:"w-32 imgLoad"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{disabled:m,className:"btn shadow-lg",type:"submit",children:m?"agregando Usuario":" Agregar Cliente"})]})})},me=function(e){var t=e.match,s=e.history;console.log(t);var c=t.params.clientId,a=Object(n.useState)([]),l=Object(f.a)(a,2),o=l[0],b=l[1],h=Object(n.useState)(!0),m=Object(f.a)(h,2),O=m[0],p=m[1],v=Object(r.c)((function(e){return e.auth})).role,g=Object(r.b)(),N=Object(n.useState)(!1),k=Object(f.a)(N,2),y=k[0],S=k[1];Object(n.useEffect)((function(){g(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("clients/".concat(e));case 3:return n=t.sent,t.next=6,n.json();case 6:(c=t.sent).ok&&s(I(c.client)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[g,c]);var E=Object(r.c)((function(e){return e.clients})).client,T=w({name:null===E||void 0===E?void 0:E.name,dni:null===E||void 0===E?void 0:E.dni,phone1:null===E||void 0===E?void 0:E.phone1,phone2:null===E||void 0===E?void 0:E.phone2,direction:null===E||void 0===E?void 0:E.direction,nota:null===E||void 0===E?void 0:E.nota}),L=Object(f.a)(T,3),_=L[0],A=L[1],Y=L[2];Object(n.useEffect)((function(){var e;g((e=null===E||void 0===E?void 0:E._id,function(){var t=Object(j.a)(d.a.mark((function t(s){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("works/client/".concat(e));case 3:return n=t.sent,t.next=6,n.json();case 6:(c=t.sent).ok?s(P(c.works)):s(M()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),p(!1)}),[g,p,null===E||void 0===E?void 0:E._id]);var q=_.name,W=_.dni,F=_.phone1,R=_.phone2,z=_.direction,G=_.nota,H=function(){var e=!0,t=[];return q&&0!==q.trim().length||(e=!1,t.name=!0),(!W||W.length<8||W.length>11)&&(e=!1,t.dni=!0),(!F||F.length<7)&&(e=!1,t.phone1=!0),b(t),!!e},$=Object(r.c)((function(e){return e.clients})).clientWorks,V=function(){document.querySelector(".modal-client-img").classList.toggle("hidden")},J=function(e){document.querySelector(".edit-client").classList.toggle("active");Y()},X=function(e){document.querySelector(".delete-client-box").classList.toggle("active")};return console.log(q,W,F,z),Object(C.jsxs)("div",{className:"userBox",children:[Object(C.jsxs)("div",{className:"delete-client-box",children:[Object(C.jsx)("div",{className:"delete-client-overlay",onClick:X}),Object(C.jsxs)("div",{className:"delete-client shadow rounded",children:[Object(C.jsx)("div",{className:"delete-client-header",children:"Borrar Cliente"}),Object(C.jsxs)("div",{className:"delete-client-body",children:[Object(C.jsxs)("h3",{children:["Estas seguro de borrar el cliente? ",Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"username bg-gray-800 text-red-300 p-2 mt-1 shadow rounded",children:null===E||void 0===E?void 0:E.dni})]}),Object(C.jsx)("div",{className:"delete-cliente-response",children:Object(C.jsxs)("div",{className:"user-header-action flex justify-between gap-2",children:[Object(C.jsx)("button",{className:" bg-red-600 shadow-md rounded-full hover:bg-red-700 ",onClick:function(e){g(function(e){return console.log(e),function(){var t=Object(j.a)(d.a.mark((function t(s){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("clients/".concat(e),[],"DELETE");case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,console.log(c),c.ok?D.fire({icon:"success",title:"Cliente Borrado con exito"}):x.a.fire("error",c.msg,"error"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),x.a.fire("error",t.t0,"error");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(c)),document.querySelector(".delete-client-box").classList.toggle("active"),setTimeout((function(){s.push("/clients")}),500)},children:"SI"}),Object(C.jsx)("button",{onClick:X,className:" bg-gray-800 shadow hover:bg-gray-900 rounded-full ",children:"NO"})]})})]})]})]}),Object(C.jsx)("div",{className:"user-header",children:Object(C.jsxs)("div",{className:"one-user",children:[Object(C.jsx)("div",{onClick:V,className:"shadow-md cursor-pointer",children:(null===E||void 0===E?void 0:E.pathImg)?Object(C.jsx)("img",{className:"w-32 h-32 ",src:"/assets/img/client/".concat(null===E||void 0===E?void 0:E.pathImg),alt:null===E||void 0===E?void 0:E.name}):Object(C.jsx)("img",{src:U,className:"rounded-full h-full w-full"})}),Object(C.jsxs)("div",{className:"user-info",children:[Object(C.jsxs)("h4",{children:["Nombre : ",null===E||void 0===E?void 0:E.name]}),Object(C.jsxs)("h4",{children:["DNI : ",null===E||void 0===E?void 0:E.dni]}),Object(C.jsxs)("h4",{children:["Direcci\xf3n : ",(null===E||void 0===E?void 0:E.direction)?E.direction:"---"]}),Object(C.jsxs)("h4",{children:["Tel 01 : ",null===E||void 0===E?void 0:E.phone1]}),Object(C.jsxs)("h4",{children:["Tel 02 : ",(null===E||void 0===E?void 0:E.phone2)?E.phone2:"---"]}),Object(C.jsxs)("h4",{children:["Nota : ",(null===E||void 0===E?void 0:E.nota)?E.nota:"---"]}),Object(C.jsxs)("h4",{children:["Fecha de Alta : ",B()(null===E||void 0===E?void 0:E.createdAt).format("DD-MM-yyyy")]})]}),"admin"===v&&Object(C.jsxs)("div",{className:"user-header-action flex flex-col gap-2",children:[Object(C.jsx)("button",{className:" bg-blue-700 shadow-md rounded-full hover:bg-blue-900 ",onClick:J,children:"Edit"}),Object(C.jsx)("button",{onClick:X,className:" bg-red-700 shadow rounded-full ",children:"Borar"})]})]})}),Object(C.jsxs)("div",{className:"works-grid",children:[$.length>0?O?Object(C.jsx)(Z,{}):$.map((function(e){return Object(C.jsx)(ee,{work:e},e._id)})):Object(C.jsxs)("div",{className:"no-result",children:[Object(C.jsxs)("h1",{className:"no-works",children:[Object(C.jsxs)("span",{children:[null===E||void 0===E?void 0:E.name," "]}),"nunca hizo un trabajo..."]}),Object(C.jsx)("i",{class:"fas fa-sad-tear"})]}),Object(C.jsx)("div",{className:"bg-gray-200 add-work-user shadow rounded hover:bg-gray-300 hover:shadow-lg",children:Object(C.jsx)(i.b,{to:"/work/add#".concat(null===E||void 0===E?void 0:E._id),className:"flex justify-center items-center h-full text-pink-500",children:Object(C.jsx)("i",{class:"fas fa-plus-circle duration-800"})})})]}),Object(C.jsxs)("div",{className:"edit-client",children:[Object(C.jsx)("div",{onClick:J,className:"edit-client-overlay"}),Object(C.jsx)("div",{className:"form-update-box",children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("entra"),S(!0),H()?(g(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u("clients/".concat(t),e,"PUT");case 3:return c=s.sent,s.next=6,c.json();case 6:a=s.sent,console.log(a),a.ok?(n(I(a.clientModified)),D.fire({icon:"success",title:"Cliente editado con exito!!!"})):D.fire({icon:"error",title:a.msg}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),D.fire({icon:"error",title:s.t0});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(_,c)),document.querySelector(".edit-client").classList.toggle("active")):console.log(o),S(!1)},className:"user-edit-form  shadow-lg rounded-md",children:[Object(C.jsx)("span",{onClick:J,className:"close absolute right-2 top-2",children:Object(C.jsx)("i",{className:"fas fa-times-circle p-2 bg-red-500 hover:bg-red-700 text-white rounded-full shadow-md cursor-pointer"})}),Object(C.jsx)("h3",{children:"Actualizar Cliente"}),Object(C.jsxs)("div",{className:"form-grid",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Nombre Cliente ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:A,value:q,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),o.name?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["DNI ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:A,value:W,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),o.dni?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Telefono 1 ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:A,value:F,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),o.phone1?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Telefono 2"}),Object(C.jsx)("input",{onChange:A,value:R,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Direcci\xf3n"}),Object(C.jsx)("input",{className:"shadow",onChange:A,value:z,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Nota"}),Object(C.jsx)("input",{className:"shadow",onChange:A,value:G,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{disabled:y,className:"btn shadow-lg",type:"submit",children:y?"Actualizando... ":" Actualizar Cliente"})]})})]}),Object(C.jsxs)("div",{className:"modal-client-img hidden absolute z-10 bg-gray-600 w-full bg-opacity-50 place-content-center max-h-auto min-h-screen flex justify-center items-center top-0 left-0",children:[Object(C.jsx)("div",{onClick:V,className:"overlay  absolute h-full w-full top-0 left-0"}),Object(C.jsx)("div",{id:"img-client",className:"flex justify-center  items-center",children:Object(C.jsx)("img",{className:"max-w-lg z-20 border-2 border-bg-red-200",src:U})}),Object(C.jsx)("span",{onClick:V,className:"absolute text-center flex justify-center items-center text-right top-10 right-10 h-10 w-10 rounded-full bg-white shadow-md p-1 cursor-pointer",children:Object(C.jsx)("i",{class:"far fa-times-circle text-3xl text-red-300"})})]})]})},xe=function(e){var t=e.username,s=e.width,n="",c=Math.floor(6*Math.random());switch(console.log(c),c){case 1:n="green-500";break;case 2:n="yellow-300";break;case 3:n="red-400";break;case 4:n="gray-500";break;case 5:n="pink-500";break;default:n="blue-300"}return Object(C.jsx)("div",{className:"avatar-default bg-"+n,style:{width:s},children:Object(C.jsx)("span",{className:"letter",children:t[0]})})},Oe=function(e){var t=e.client;return console.log(t),Object(C.jsxs)(i.b,{to:"clients/".concat(t._id),className:"user",children:[Object(C.jsx)("div",{className:"img-user",children:(null===t||void 0===t?void 0:t.pathImg)&&"htt"==t.pathImg.slice(0,3)?Object(C.jsx)("img",{className:"rounded-full w-24 h-24 shadow-md border-2",src:null===t||void 0===t?void 0:t.pathImg}):Object(C.jsx)(xe,{username:null===t||void 0===t?void 0:t.name})}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"user-info",children:[Object(C.jsx)("h4",{className:"capitalize",children:t.name}),Object(C.jsx)("h4",{className:"capitalize",children:t.dni})]})]})},pe=function(){var e=Object(r.b)(),t=Object(n.useState)(""),s=Object(f.a)(t,2),c=s[0],a=s[1],l=Object(n.useState)([]),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(n.useState)(!0),u=Object(f.a)(b,2),h=u[0],m=u[1];Object(n.useEffect)((function(){e(L()),m(!1)}),[e]);var x=Object(r.c)((function(e){return e.clients})).clients;Object(n.useEffect)((function(){m(!0),j(x.filter((function(e){return e.dni.includes(c)||e.name.toLowerCase().includes(c.toLowerCase())}))),m(!1)}),[c]);return Object(C.jsxs)("div",{className:"users",children:[Object(C.jsx)("span",{className:"title-header",children:"Clientes"}),Object(C.jsx)("div",{className:"add-client-flotante",children:Object(C.jsx)(i.b,{to:"/client/add",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})})}),x.length>=10&&Object(C.jsx)("div",{className:"box-search relative",children:Object(C.jsxs)("div",{className:"search-box-userworks bg-gray-800 ",children:[Object(C.jsx)("form",{className:"w-full",children:Object(C.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},placeholder:"Buscar cliente por nombre o dni...",name:"searchClient",type:"text",autoComplete:"off",className:"text-gray-900",id:"searchClientInput"})}),Object(C.jsx)("i",{onClick:function(){a(""),j([])},class:"fas fa-times cursor-pointer duration-500 text-gray-600  right-3 bg-gray-100 hover:text-white hover:bg-red-500"})]})}),c.length>0&&0===d.length&&Object(C.jsx)("div",{className:"message-result-empty   bg-red-500 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),h?Object(C.jsx)(Z,{}):d.length>0?Object(C.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:d.map((function(e){return Object(C.jsx)(Oe,{client:e},e._id)}))}):x.length>0?Object(C.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:x.map((function(e){return Object(C.jsx)(Oe,{client:e},e._id)}))}):Object(C.jsxs)("div",{className:"no-cliente",children:[Object(C.jsx)("span",{className:"text-center text-2xl",children:"No hay cliente por el momento"}),Object(C.jsx)(i.b,{to:"/client/add",className:"btn add-client text-white p-3",children:"Agregar Cliente"})]})]})},ve=function(e){var t=e.history,s=Object(r.b)();Object(n.useEffect)((function(){s(L())}),[s]);var c=Object(r.c)((function(e){return e.clients})).clients,a=Object(n.useState)([]),i=Object(f.a)(a,2),l=i[0],o=i[1],h=Object(n.useState)(!1),m=Object(f.a)(h,2),O=m[0],p=m[1],v=Object(n.useState)(!1),g=Object(f.a)(v,2),N=g[0],k=g[1],y=Object(n.useState)(!1),S=Object(f.a)(y,2),E=S[0],T=S[1],D=Object(n.useState)(!1),_=Object(f.a)(D,2),M=_[0],P=(_[1],Object(n.useState)(!1)),I=Object(f.a)(P,2),A=I[0],Y=(I[1],Object(n.useState)("")),q=Object(f.a)(Y,2),F=q[0],R=q[1],z=Object(n.useState)(0),G=Object(f.a)(z,2),H=(G[0],G[1],Object(n.useState)(null)),U=Object(f.a)(H,2),$=(U[0],U[1],Object(n.useState)([])),V=Object(f.a)($,2),J=V[0],X=V[1],K=Object(n.useState)(!1),Q=Object(f.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(null),se=Object(f.a)(te,2),ne=se[0],ce=(se[1],Object(n.useState)(null)),ae=Object(f.a)(ce,2),re=ae[0];ae[1];Object(n.useEffect)((function(){fetch("".concat("https://novatechnology.herokuapp.com/api/","state")).then((function(e){return e.json()})).then((function(e){console.log(e),X(e.states)}))}),[X]);var ie=w({marca:"",modelo:"",emei:"",estado:"",precio:0,descuento:0,fachasEncontradas:"",observaciones:"",descripcion:"",recargo:0,cliente:"",fechaInicio:B()().format("yyyy MM DD"),fechaFin:null,tieneContrasena:M,esPatron:A,contrasena:"",patron:"",total:0}),le=Object(f.a)(ie,3),oe=le[0],de=le[1],je=le[2];console.log(ne);var be=oe.marca,ue=oe.modelo,he=oe.emei,me=oe.estado,xe=oe.precio,Oe=oe.descuento,pe=oe.fachasEncontradas,ve=oe.descripcion,ge=oe.observaciones,fe=oe.recargo,Ne=oe.cliente,ke=oe.esPatron,we=oe.tieneContrasena,ye=oe.contrasena,Ce=oe.patron,Se=function(){var e=!0,t=[];return be&&0!==be.trim().length||(e=!1,t.marca=!0),ue&&0!==ue.trim().length||(e=!1,t.modelo=!0),Ne||(e=!1,t.cliente=!0),me||(e=!1,t.estado=!0),ge&&0!==ge.trim().length||(e=!1,t.observaciones=!0),we&&(ke||0!=ye.length?p(!1):(p(!0),e=!1)),ke&&(0==Ce.length?(p(!0),e=!1):p(!1)),o(t),!!e};return Object(C.jsxs)("div",{className:"work-add",children:[Object(C.jsx)("h3",{children:"Agregar Trabajo"}),Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ee(!0),Se()?(s(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(n){var c,a,r,i,l,o;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!t){s.next=21;break}return s.next=4,b("works/uploadFileWork",t,"POST");case 4:return c=s.sent,s.next=7,c.json();case 7:if(a=s.sent,console.log(a),!a.ok){s.next=19;break}return e.images=a.pathImg,s.next=13,u("works",e,"POST");case 13:return r=s.sent,s.next=16,r.json();case 16:i=s.sent,console.log(i),i.ok?W.fire({icon:"success",title:"Se agreg\xf3 con exito el trabajo!!!"}):W.fire({icon:"error",title:i.msg});case 19:s.next=28;break;case 21:return s.next=23,u("works",e,"POST");case 23:return l=s.sent,s.next=26,l.json();case 26:(o=s.sent).ok?W.fire({icon:"success",title:"Se agreg\xf3 con exito el trabajo!!!"}):W.fire({icon:"error",title:o.msg});case 28:s.next=34;break;case 30:s.prev=30,s.t0=s.catch(0),console.log(s.t0),x.a.fire("error","Hubo un fallo al hacer la petition...","error");case 34:case"end":return s.stop()}}),s,null,[[0,30]])})));return function(e){return s.apply(this,arguments)}}()}(oe,re)),je(),t.replace("/works")):(console.log(l),console.log(oe)),ee(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(C.jsxs)("div",{className:"grid-content",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Marca",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:de,value:be,type:"text",name:"marca",placeholder:"ingresa la marca"}),l.marca?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Modelo",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:de,value:ue,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),l.modelo?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Cliente",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",value:Ne,onChange:de,name:"cliente",list:"clientes"}),Object(C.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),c.map((function(e){return Object(C.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),l.cliente?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Estado",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("select",{value:me,onChange:de,name:"estado",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),J.map((function(e){return Object(C.jsxs)("option",{value:e._id,children:[" ",e.name," "]},e._id)}))]}),l.estado?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Emei / Serie"}),Object(C.jsx)("input",{onChange:de,value:he,type:"text",name:"emei"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"recargo"}),Object(C.jsx)("input",{value:fe,onChange:de,type:"text",name:"recargo",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"precio"}),Object(C.jsx)("input",{value:xe,onChange:de,type:"text",name:"precio",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"descuento"}),Object(C.jsx)("input",{onChange:de,type:"text",name:"descuento",value:Oe,min:0})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Observaciones",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("textarea",{value:ge,onChange:de,name:"observaciones",children:" "}),l.observaciones?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(C.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(C.jsx)("textarea",{value:pe,onChange:de,name:"fachasEncontradas"}),Object(C.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(C.jsx)("textarea",{value:ve,onChange:de,name:"descripcion"})]}),Object(C.jsxs)("div",{className:"flex items-center",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(k(!0),oe.tieneContrasena=!0):(k(!1),oe.tieneContrasena=!1,oe.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(C.jsx)("br",{}),N&&Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{className:"flex items-center mb-1",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(T(!0),oe.esPatron=!0,oe.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(oe.contrasena="",oe.patron="",R(""),T(!1),oe.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(C.jsxs)("div",{id:"input-password",children:[Object(C.jsxs)("label",{children:["Contrase\xf1a ",Object(C.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(C.jsx)("input",{value:ye,onChange:de,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(C.jsx)("br",{}),E&&Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",onClick:function(e){R(F+e.target.textContent),oe.patron=F+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),O?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(C.jsx)("br",{}),E?Object(C.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:F}):null,Object(C.jsx)("button",{className:"btn",type:"submit",children:Z?"Espere...":"  Agregar Trabajo"})]})]})},ge=s(621),fe=s(619);V.a.use([J.a,X.a,K.a,Q.a]);var Ne=function(e){var t,s,c,a,l,o=e.match,b=e.history,h=Object(r.b)();Object(n.useEffect)((function(){h(L())}),[h]);Object(r.c)((function(e){return e.clients})).clients;var m=Object(n.useState)(200),x=Object(f.a)(m,2),O=x[0],p=x[1],v=Object(r.c)((function(e){return e.auth})).role,g=Object(n.useState)([]),N=Object(f.a)(g,2),k=N[0],y=N[1],S=Object(n.useState)([]),E=Object(f.a)(S,2),T=E[0],D=E[1],_=Object(n.useState)([]),M=Object(f.a)(_,2),P=M[0],I=M[1],A=Object(n.useState)(!1),Y=Object(f.a)(A,2),q=Y[0],W=Y[1],F=o.params.workId;console.log(v),Object(n.useEffect)((function(){h(R(F))}),[h]),Object(n.useEffect)((function(){fetch("".concat("https://novatechnology.herokuapp.com/api/","state")).then((function(e){return e.json()})).then((function(e){y(e.states)}))}),[y]);var G=Object(r.c)((function(e){return e.works})).work,H=w({marca:null===G||void 0===G?void 0:G.marca,modelo:null===G||void 0===G?void 0:G.modelo,emei:null===G||void 0===G?void 0:G.emei,estado:null===G||void 0===G?void 0:G.estado._id,precio:null===G||void 0===G?void 0:G.precio,descuento:null===G||void 0===G?void 0:G.descuento,fachasEncontradas:null===G||void 0===G?void 0:G.fachasEncontradas,observaciones:null===G||void 0===G?void 0:G.observaciones,descripcion:null===G||void 0===G?void 0:G.descripcion,recargo:null===G||void 0===G?void 0:G.recargo,cliente:null===G||void 0===G?void 0:G.cliente,fechaInicio:null===G||void 0===G?void 0:G.fechaInicio,fechaFin:null===G||void 0===G?void 0:G.fechaFin}),$=Object(f.a)(H,3),V=$[0],J=$[1],X=$[2];Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("work_state/getStates/".concat(F));case 2:return t=e.sent,e.next=5,t.json();case 5:(s=e.sent).ok&&I(s.workState.state);case 7:case"end":return e.stop()}}),e)}))),[F]),console.log(G);var K=V.marca,Q=V.modelo,Z=V.emei,ee=V.estado,te=V.precio,se=V.descuento,ne=V.fachasEncontradas,ce=V.descripcion,ae=V.observaciones,re=V.recargo,ie="";switch(null===G||void 0===G?void 0:G.estado.name){case"Revision":ie="text-red-700";break;case"Presupuesto":ie="text-gray-400";break;case"En Reparaci\xf3n":ie="text-yellow-500";break;case"Terminado":ie="text-green-200";break;default:ie="text-green-500"}var le=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!oe()){e.next=19;break}return console.log(V),h(z(V,F)),e.next=6,u("work_state/getStates/".concat(null===G||void 0===G?void 0:G._id));case 6:return s=e.sent,e.next=9,s.json();case 9:(n=e.sent).ok&&I(n.workState.state),console.log(P),c="/works/".concat(F),X(),console.log(c),W(!q),setTimeout((function(){document.querySelector("#editWork").style.display="none",b.push(c)}),1e3),e.next=20;break;case 19:console.log(T);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=!0,t=[];return K&&0!==K.trim().length||(e=!1,t.marca=!0),Q&&0!==Q.trim().length||(e=!1,t.modelo=!0),ee||(e=!1,t.estado=!0),ae&&0!==ae.trim().length||(e=!1,t.observaciones=!0),D(t),!!e};return Object(C.jsxs)("div",{className:"one-work relative",children:[Object(C.jsx)("div",{className:"absolute hover:bg-gray-200 rounded-full",children:Object(C.jsx)("a",{href:"#editWork",className:"p-3 h-24 w-24 rounded-full text-white bg-red-600",children:Object(C.jsx)("i",{className:"fas fa-pen"})})}),Object(C.jsxs)("div",{className:"one-work-grid",children:[(null===G||void 0===G?void 0:G.images.length)>0?Object(C.jsx)(ge.a,{spaceBetween:2,slidesPerView:1,navigation:!0,pagination:{clickable:!0},onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},className:"oneWorkCarrousel",children:null===G||void 0===G?void 0:G.images.map((function(e){return Object(C.jsxs)(fe.a,{children:[" ",Object(C.jsx)("img",{className:"",src:"/assets/img/works/".concat(e.fileName)},e.fileName)]},e.fileName)}))}):Object(C.jsx)("i",{className:" fas fa-mobile-alt flex justify-center items-center "+ie}),Object(C.jsxs)("div",{className:"one-work-body grid grid-cols-2 grid-rows-2 gap-2",children:[Object(C.jsxs)("div",{className:"work-data shadow rounded bg-gray-700 text-white p-1",children:[Object(C.jsxs)("p",{children:["Codigo : ",null===G||void 0===G?void 0:G.codigo," "]}),Object(C.jsxs)("p",{children:["Marca : ",null===G||void 0===G?void 0:G.marca," "]}),Object(C.jsxs)("p",{children:["Modelo : ",null===G||void 0===G?void 0:G.modelo]}),Object(C.jsxs)("p",{children:["Imei : ",null===G||void 0===G?void 0:G.emei]}),Object(C.jsxs)("p",{children:["Estado:",null===G||void 0===G?void 0:G.estado.name]}),(null===G||void 0===G?void 0:G.tieneContrasena)&&Object(C.jsxs)("p",{children:["Contrase\xf1a : ",null===G||void 0===G?void 0:G.contrasena]})]}),(null===G||void 0===G?void 0:G.cliente)?Object(C.jsxs)("div",{className:"client-data rounded shadow bg-pink-500 p-1",children:[Object(C.jsx)("img",{className:"rounded-full h-12 w-12",src:U}),Object(C.jsxs)("p",{children:["Cliente :"," ",Object(C.jsxs)(i.b,{className:"underline text-white",to:"/clients/".concat(null===G||void 0===G||null===(t=G.cliente)||void 0===t?void 0:t._id),children:[" ",null===G||void 0===G||null===(s=G.cliente)||void 0===s?void 0:s.name," "]})]}),Object(C.jsxs)("p",{children:["DNI : ",null===G||void 0===G||null===(c=G.cliente)||void 0===c?void 0:c.dni]}),Object(C.jsxs)("p",{children:["Celular 1 : ",null===G||void 0===G||null===(a=G.cliente)||void 0===a?void 0:a.phone1]})]}):Object(C.jsx)("div",{className:"cliente-no-existe flex justify-center items-center text-white text-center client-data rounded shadow bg-pink-700",children:Object(C.jsxs)("h3",{children:["Cliente no encontrado... ",Object(C.jsx)("br",{}),"Puede ser que se haya borrado anteriormente."]})}),Object(C.jsxs)("div",{className:"price-data rounded shadow bg-blue-400 p-1",children:[Object(C.jsxs)("p",{children:["Precio: ",null===G||void 0===G?void 0:G.precio]}),Object(C.jsxs)("p",{children:["Pecargo: ",null===G||void 0===G?void 0:G.recargo]}),Object(C.jsxs)("p",{children:["descuento: ",null===G||void 0===G?void 0:G.descuento]}),Object(C.jsxs)("p",{children:["Total: ",null===G||void 0===G?void 0:G.total]})]}),Object(C.jsxs)("div",{className:"price-data rounded shadow bg-red-400 p-1",children:[Object(C.jsxs)("span",{className:"text-white text-lg underline",children:["Historiales de Estados"," "]}),P.map((function(e){return Object(C.jsx)("p",{children:e.nombre+" - "+B()(e.fecha).format("DD-MM-YY hh:mm:ss a")})}))]}),(null===G||void 0===G?void 0:G.fachasEncontradas)&&Object(C.jsx)("div",{className:"trouble-data rounded shadow bg-green-400 p-1",children:Object(C.jsxs)("p",{children:["facha(s) Encontradas : ",null===G||void 0===G?void 0:G.fachasEncontradas]})}),(null===G||void 0===G?void 0:G.observaciones)&&Object(C.jsx)("div",{className:"trouble-data transition duration-1000 ease-in-out rounded shadow bg-yellow-400 p-1",children:Object(C.jsxs)("p",{className:"transition duration-1000 ease-in-out",children:["Observaciones : ",Object(C.jsx)("br",{})," ",null===G||void 0===G?void 0:G.observaciones.slice(0,O),(null===G||void 0===G?void 0:G.observaciones.length)>200?Object(C.jsx)("span",{onClick:function(e){p(null===G||void 0===G?void 0:G.observaciones.length),e.target.classList.add("hidden"),document.querySelector(".ver-menos").classList.remove("hidden")},className:"ver-mas cursor-pointer text-white duration-500",children:"...Ver M\xe1s"}):null,Object(C.jsx)("span",{onClick:function(e){p(200),e.target.classList.add("hidden"),document.querySelector(".ver-mas").classList.remove("hidden")},className:"ver-menos cursor-pointer text-pink-400 duration-500 hidden",children:"...Ver Menos"})]})}),(null===G||void 0===G?void 0:G.descripcion)&&Object(C.jsx)("div",{className:"trouble-data rounded-md bg-pink-400 p-1",children:Object(C.jsxs)("p",{children:["descripcion : ",Object(C.jsx)("br",{})," ",null===G||void 0===G?void 0:G.descripcion]})})]})]}),(null===G||void 0===G?void 0:G.esPatron)&&Object(C.jsxs)("div",{className:"patron grid grid-cols-2 p-2 shadow my-2",children:[Object(C.jsx)("div",{className:"text-green-500 text-4xl text-center flex justify-center items-center",children:null===G||void 0===G?void 0:G.patron}),Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",className:(null===G||void 0===G?void 0:G.patron.includes(e))?"bg-green-700  w-8 h-8 flex justify-center items-center hover:bg-green-400 duration-600 ":"bg-gray-200  w-8 h-8 flex justify-center items-center hover:bg-green-400  duration-600",children:e},e)}))})]}),Object(C.jsxs)("div",{className:"update-state",children:[Object(C.jsx)("button",{className:"bg-gray-400 hover:bg-gray-600",children:"Presupuesto"}),Object(C.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-600",children:"Terminado"}),Object(C.jsx)("button",{className:"bg-green-300 hover:bg-green-400",children:"Reparaci\xf3n"}),Object(C.jsx)("button",{className:"bg-green-500 hover:bg-green-700",children:"Entregado"})]}),Object(C.jsxs)("div",{id:"editWork",className:"overlay",children:[Object(C.jsx)("a",{href:"#",className:"close-modal"}),Object(C.jsxs)("div",{className:"modal-edit-work",children:[Object(C.jsxs)("h3",{children:["Editar Trabajo ",null===G||void 0===G?void 0:G.codigo," "]}),Object(C.jsxs)("form",{onSubmit:le,className:"work-edit-form",children:[Object(C.jsxs)("div",{className:"grid-content",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Marca",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:J,value:K,type:"text",name:"marca",placeholder:"ingresa la marca"}),T.marca?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Modelo",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:J,value:Q,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),T.modelo?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),"admin"==v&&Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Cliente",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{readOnly:!0,value:null===G||void 0===G||null===(l=G.cliente)||void 0===l?void 0:l.dni})}),T.cliente?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Estado",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("select",{value:ee,onChange:J,name:"estado",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),k.map((function(e){return Object(C.jsxs)("option",{value:e._id,children:[" ",e.name," "]},e._id)}))]}),T.estado?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),"admin"==v&&Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Emei",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:J,value:Z,type:"text",name:"emei"})]}),"admin"==v&&Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"recargo"}),Object(C.jsx)("input",{value:re,onChange:J,type:"text",name:"recargo"})]}),"admin"==v&&Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"precio"}),Object(C.jsx)("input",{value:te,onChange:J,type:"text",name:"precio"})]}),"admin"==v&&Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"descuento"}),Object(C.jsx)("input",{onChange:J,type:"text",name:"descuento",value:se})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Observaciones",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("textarea",{value:ae,onChange:J,name:"observaciones",children:" "}),Object(C.jsx)("label",{children:"Facha(s) Detectada(s)"}),Object(C.jsx)("textarea",{value:ne,onChange:J,name:"fachasEncontradas"}),Object(C.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(C.jsx)("textarea",{value:ce,onChange:J,name:"descripcion"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:"btn",type:"submit",children:"Editar Trabajo"})]}),Object(C.jsx)("a",{href:"#",className:"close",children:"x"})]})]})]})},ke=function(){var e=w({estado:""}),t=Object(f.a)(e,2),s=t[0],c=t[1],a=s.estado,l=Object(n.useState)(""),o=Object(f.a)(l,2),d=o[0],j=o[1],b=Object(n.useState)(!0),u=Object(f.a)(b,2),h=u[0],m=u[1],x=Object(n.useState)([]),O=Object(f.a)(x,2),p=O[0],v=O[1],g=Object(n.useState)(null),N=Object(f.a)(g,2),k=N[0],y=N[1],S=Object(r.b)();Object(n.useEffect)((function(){S(F()),m(!1)}),[k,y]);var E=Object(r.c)((function(e){return e.works})).works;Object(n.useEffect)((function(){v(E),v("Todos"==a||""==a?E:E.filter((function(e){return e.estado.name===a})))}),[a]),Object(n.useEffect)((function(){console.log(d),v(E),""!==d&&v(p.filter((function(e){return e.codigo.includes(d)})))}),[d]);return Object(C.jsxs)("div",{className:"works ",children:[Object(C.jsx)("span",{className:"title-header",children:"Trabajos"}),Object(C.jsx)("div",{className:"add-client-flotante",children:Object(C.jsx)(i.b,{to:"/work/add",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})})}),Object(C.jsx)("div",{className:"search-box-all-works w-full overflow-hidden shadow my-2 p-2",children:Object(C.jsxs)("form",{className:"flex w-full flex-wrap lg:justify-center gap-y-2 flex-col sm:flex-row md:justify-between items-center sm:gap-x-2",children:[Object(C.jsxs)("select",{className:"sm:rounded-full shadow  sm:w-min w-full",name:"estado",onChange:c,value:a,children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Filtrar por estado"}),["Revision","Presupuesto","En Reparacion","Terminado","Entregado","Todos"].map((function(e){return Object(C.jsx)("option",{value:e,children:e},e)}))]}),Object(C.jsx)("input",{name:"codigo",className:"shadow sm:rounded-full   sm:w-min w-full",value:d,onChange:function(e){j(e.target.value)},placeholder:"Buscar codigo de trabajo",type:"text"})]})}),0===p.length&&Object(C.jsx)("div",{className:"message-result-empty hidden  bg-red-500 text-gray-100 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),h?Object(C.jsx)(Z,{}):E.length<=0&&p.length<=0?Object(C.jsx)("div",{className:"w-full",children:Object(C.jsxs)("div",{className:"w-full mb-4 w-12/12 no-hay-trabajo",children:[Object(C.jsx)("span",{className:"bg-red-500 text-gray-100 p-2 ",children:"No hay trabajo para mostrar por el momento..."}),Object(C.jsx)(i.b,{className:"h-32  p-2 border-2 rounded-full shadow-lg border-gray-200",to:"/work/add",children:"Cargar Trabajo"})]})}):Object(C.jsx)("div",{className:"works-grid p-1",children:p.length<=0?E.map((function(e){return Object(C.jsx)(ee,{idChange:k,setIdChange:y,work:e},e._id)})):p.map((function(e){return Object(C.jsx)(ee,{idChange:k,setIdChange:y,work:e},e._id)}))})]})},we=function(e){var t,s=e.work;return Object(C.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:text-white hover:bg-gray-800 duration-900 shadow cursor-pointer",children:[Object(C.jsx)("td",{className:"text-green-500 flex-1 hover:text-green-400 hover:underline",children:Object(C.jsx)(i.b,{to:"/works/".concat(null===s||void 0===s?void 0:s._id),children:null===s||void 0===s?void 0:s.codigo})}),Object(C.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.marca)+" - "+s.modelo}),Object(C.jsx)("td",{className:"flex-1 p-2 capitalize",children:null===s||void 0===s||null===(t=s.cliente)||void 0===t?void 0:t.name}),Object(C.jsx)("td",{className:"flex-1 p-2",children:"$ "+(null===s||void 0===s?void 0:s.total)}),Object(C.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.fechaFin)?B()(null===s||void 0===s?void 0:s.fechaFin).format("DD-MM-YYYY"):"--"})]})},ye=x.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",x.a.stopTimer),e.addEventListener("mouseleave",x.a.resumeTimer)}}),Ce=function(e){var t=e.gasto,s=e.setOutGoingChange,n=e.outGoingChange;console.log(n);var c=function(){var e=Object(j.a)(d.a.mark((function e(){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("outgoings/".concat(t._id),[],"DELETE");case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,console.log(a),a.ok&&(s(!n),ye.fire({icon:"success",title:a.msg}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:bg-gray-300 duration-300 shadow cursor-pointer",children:[Object(C.jsx)("td",{className:"",children:B()(null===t||void 0===t?void 0:t.date).format("DD-MM-yyyy")}),Object(C.jsx)("td",{className:"flex-1 p-2",children:t.description}),Object(C.jsxs)("td",{className:"flex-1 p-2 text-red-600",children:["- $ ",t.amount," "]}),Object(C.jsx)("td",{className:"flex-1 p-2 text-red-600",children:Object(C.jsx)("i",{onClick:function(){x.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el gasto definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&c()}))},class:"fas fa-trash p-2 shadow  rounded-full text-white bg-red-800 hover:shadow-md hover:bg-red-600 hover:p-3"})})]})},Se=x.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",x.a.stopTimer),e.addEventListener("mouseleave",x.a.resumeTimer)}}),Ee=B()(new Date).format("YYYY-MM-DD"),Te=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(Ee),r=Object(f.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(Ee),b=Object(f.a)(o,2),h=b[0],m=b[1],x=Object(n.useState)([]),O=Object(f.a)(x,2),p=O[0],v=O[1],g=Object(n.useState)(!0),N=Object(f.a)(g,2),k=N[0],y=N[1],S=Object(n.useState)([]),E=Object(f.a)(S,2),T=E[0],D=E[1],L=Object(n.useState)([]),_=Object(f.a)(L,2),M=_[0],P=_[1],I=Object(n.useState)(!1),A=Object(f.a)(I,2),Y=A[0],q=A[1],W=w({description:"",amount:0}),F=Object(f.a)(W,3),R=F[0],z=F[1],G=F[2],H=R.description,U=R.amount;Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("works/historialWork/all");case 2:return t=e.sent,e.next=5,t.json();case 5:(s=e.sent).ok&&c(s.works),y(!1);case 8:case"end":return e.stop()}}),e)}))),[]);var $=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("outgoings");case 2:return t=e.sent,e.next=5,t.json();case 5:(s=e.sent).ok&&D(s.gastos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$()}),[Y]);Object(n.useEffect)((function(){v(s.filter((function(e){return B()(B()(e.fechaFin).format("YYYY-MM-DD")).isSameOrAfter(i)&&B()(B()(e.fechaFin).format("YYYY-MM-DD")).isSameOrBefore(h)}))),P(T.filter((function(e){return B()(B()(e.date).format("YYYY-MM-DD")).isSameOrAfter(i)&&B()(B()(e.date).format("YYYY-MM-DD")).isSameOrBefore(h)})))}),[i,h]),console.log(i,h);var V=0,J=0;p.length>0&&p.map((function(e){J+=e.total})),s&&s.length>0&&s.map((function(e){V+=e.total}));var X=0,K=0;M.length>0&&M.map((function(e){K+=e.amount})),T&&T.length>0&&T.map((function(e){X+=e.amount}));var Q=function(e){document.querySelector(".add-outgoing-box").classList.toggle("active")},ee=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!=H&&""!=U&&H.length<50)){e.next=11;break}return e.next=4,u("outgoings",R,"POST");case 4:return s=e.sent,e.next=7,s.json();case 7:(n=e.sent).ok?(Se.fire({icon:"success",title:n.msg}),G(),Q(),$()):Se.fire({icon:"error",title:n.msg}),e.next=12;break;case 11:console.log(H.length);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){document.querySelector(".gastos").classList.toggle("active")},se=function(){document.querySelector(".work-entregados").classList.toggle("active")};return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"add-outgoing-box",children:[Object(C.jsx)("div",{className:"add-outgoing-overlay",onClick:Q}),Object(C.jsxs)("div",{className:"outgoing-content shadow",children:[Object(C.jsxs)("div",{className:"outgoing-header bg-green-700",children:[Object(C.jsx)("span",{children:"Agregar Gasto"}),Object(C.jsx)("i",{onClick:Q,className:"fas fa-times-circle"})]}),Object(C.jsx)("div",{className:"outgoing-body",children:Object(C.jsxs)("form",{onSubmit:ee,children:[Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("label",{htmlFor:"description",children:"Descripcion"}),Object(C.jsx)("input",{type:"text",name:"description",onChange:z,value:H})]}),Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("label",{htmlFor:"amount",children:"Costo"}),Object(C.jsx)("input",{type:"number",name:"amount",onChange:z,value:U})]}),Object(C.jsxs)("fieldset",{className:"outgoing-actions",children:[Object(C.jsx)("button",{className:"shadow rounded bg-green-800",type:"submit",children:"Agregar"}),Object(C.jsx)("button",{className:"shadow rounded bg-gray-800",type:"button",children:"Cancelar"})]})]})})]})]}),Object(C.jsx)("span",{className:"title-header",children:"historiales Trabajos/Gastos"}),Object(C.jsxs)("div",{className:"search search-histories p-3 mt-2  sticky bg-white",children:[Object(C.jsx)("h1",{className:"text-4xl text-green-500 mb-1  p-1 ",children:"Filtrar"}),Object(C.jsxs)("div",{className:"flex box-input-filter mb-2 justify-between gap-1",children:[Object(C.jsxs)("div",{className:"flex-grow relative",children:[Object(C.jsx)("div",{className:"start-day capitalize text-green-400 text-2xl",children:"fecha Inicio"}),Object(C.jsxs)("div",{className:"relative",children:[Object(C.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:i,onChange:function(e){l(e.target.value)}}),Object(C.jsx)("i",{onClick:function(e){l(Ee)},className:"fas fa-times flex h-full items-center justify-center top-0  cursor-pointer ml-1 p-2 text-red-700 text-lg right-0 absolute"})]})]}),Object(C.jsxs)("div",{className:"flex-grow relative",children:[Object(C.jsx)("div",{className:"end-day capitalize text-green-400 text-2xl",children:"fecha Fin"}),Object(C.jsxs)("div",{className:"relative",children:[Object(C.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:h,onChange:function(e){m(e.target.value)}}),Object(C.jsx)("i",{onClick:function(e){m(Ee)},className:"fas fa-times flex h-full items-center justify-center top-0  cursor-pointer ml-1 p-2 text-red-700 text-lg right-0 absolute"})]})]})]})]}),k?Object(C.jsx)(Z,{}):p.length>0?Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(C.jsx)("span",{children:"Trab. Entregados"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(C.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(C.jsx)("thead",{className:"bg-green-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Codigo"}),Object(C.jsx)("th",{children:"Marca/Modelo"}),Object(C.jsx)("th",{children:"Cliente"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Fecha Entrega"})]})}),Object(C.jsx)("tbody",{children:p.map((function(e){return Object(C.jsx)(we,{work:e},e._id)}))})]}),Object(C.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(C.jsx)("span",{children:"Gastos"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"}),Object(C.jsx)("div",{onClick:Q,className:"add-gastos-flotante cursor-pointer",children:Object(C.jsxs)("div",{to:"#",children:[Object(C.jsx)("i",{class:"fas fa-plus-circle"}),Object(C.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(C.jsxs)("table",{className:"shadow-md gastos",children:[Object(C.jsx)("thead",{className:"bg-red-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Fecha"}),Object(C.jsx)("th",{children:"Descripci\xf3n"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Borrar"})]})}),Object(C.jsx)("tbody",{children:M.map((function(e){return Object(C.jsx)(Ce,{setOutGoingChange:q,outGoingChange:Y,gasto:e},e._id)}))})]}),Object(C.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(C.jsxs)("span",{children:["Ganancia : "," $ "+J," "]}),Object(C.jsxs)("span",{children:["Gastos : "," $ "+K," "]}),Object(C.jsxs)("span",{children:[" Diferencias : "," $ "+(J-K)," "]})]})]}):Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(C.jsx)("span",{children:"Trab. Entregados"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(C.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(C.jsx)("thead",{className:"bg-green-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Codigo"}),Object(C.jsx)("th",{children:"Marca/Modelo"}),Object(C.jsx)("th",{children:"Cliente"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Fecha Entrega"})]})}),Object(C.jsx)("tbody",{children:s.map((function(e){return Object(C.jsx)(we,{work:e},e._id)}))})]}),Object(C.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(C.jsx)("span",{children:"Gastos"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"}),Object(C.jsx)("div",{onClick:Q,className:"add-gastos-flotante cursor-pointer",children:Object(C.jsxs)("div",{to:"#",children:[Object(C.jsx)("i",{class:"fas fa-plus-circle"}),Object(C.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(C.jsxs)("table",{className:"shadow-md gastos",children:[Object(C.jsx)("thead",{className:"bg-red-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Fecha"}),Object(C.jsx)("th",{children:"Descripci\xf3n"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Borrar"})]})}),Object(C.jsx)("tbody",{children:T.map((function(e){return Object(C.jsx)(Ce,{setOutGoingChange:q,outGoingChange:Y,gasto:e},e._id)}))})]}),Object(C.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(C.jsxs)("span",{children:["Ganancia : "," $ "+V," "]}),Object(C.jsxs)("span",{children:["Gastos : "," $ "+X," "]}),Object(C.jsxs)("span",{children:[" Diferencias : "," $ "+(V-X)," "]})]})]})]})},De=function(){return Object(C.jsx)("div",{className:"footer ",children:Object(C.jsx)("div",{className:"footer-container",children:Object(C.jsxs)("ul",{className:"footer-list",children:[Object(C.jsxs)("span",{className:"text-red-400 text-lg",children:[" ","\xa9 NovaTechnology ",(new Date).getFullYear()]}),Object(C.jsx)("img",{src:y,width:"30",alt:"Nova Logo"})]})})})},Le=(x.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",x.a.stopTimer),e.addEventListener("mouseleave",x.a.resumeTimer)}}),function(e){var t,s=e.match,c=(e.history,Object(r.b)()),a=Object(r.c)((function(e){return e.clients})).clients,i=Object(n.useState)([]),l=Object(f.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(!1),b=Object(f.a)(j,2),u=b[0],h=b[1],m=Object(n.useState)(!1),x=Object(f.a)(m,2),O=x[0],p=x[1],v=Object(n.useState)(!1),g=Object(f.a)(v,2),N=g[0],k=g[1],y=Object(n.useState)(!1),S=Object(f.a)(y,2),E=S[0],T=(S[1],Object(n.useState)(!1)),D=Object(f.a)(T,2),L=D[0],_=(D[1],Object(n.useState)("")),M=Object(f.a)(_,2),P=M[0],I=M[1],A=Object(n.useState)([]),Y=Object(f.a)(A,2),B=Y[0],q=(Y[1],Object(n.useState)(!1)),W=Object(f.a)(q,2),F=W[0],z=W[1],G=Object(n.useState)(null),H=Object(f.a)(G,2),U=(H[0],H[1],Object(n.useState)(null)),$=Object(f.a)(U,2),V=($[0],$[1],s.params.id);Object(n.useEffect)((function(){c(R(V))}),[c,V]);var J=Object(r.c)((function(e){return e.works})).work;console.log(J);var X=w({marca:null===J||void 0===J?void 0:J.marca,modelo:null===J||void 0===J?void 0:J.modelo,emei:null===J||void 0===J?void 0:J.emei,estado:null===J||void 0===J||null===(t=J.estado)||void 0===t?void 0:t.name,precio:null===J||void 0===J?void 0:J.precio,descuento:null===J||void 0===J?void 0:J.descuento,fachasEncontradas:null===J||void 0===J?void 0:J.fachasEncontradas,observaciones:null===J||void 0===J?void 0:J.observaciones,descripcion:"",recargo:0,cliente:"",fechaFin:null,tieneContrasena:E,esPatron:L,contrasena:"",patron:"",total:0}),K=Object(f.a)(X,3),Q=K[0],Z=K[1],ee=K[2],te=J.marca,se=J.modelo,ne=J.emei,ce=J.estado,ae=J.precio,re=J.descuento,ie=J.fachasEncontradas,le=J.descripcion,oe=J.observaciones,de=J.recargo,je=J.cliente,be=J.esPatron,ue=J.tieneContrasena,he=J.contrasena,me=J.patron,xe=function(){var e=!0,t=[];return te&&0!==te.trim().length||(e=!1,t.marca=!0),se&&0!==se.trim().length||(e=!1,t.modelo=!0),je||(e=!1,t.cliente=!0),ce||(e=!1,t.estado=!0),oe&&0!==oe.trim().length||(e=!1,t.observaciones=!0),ue&&(be||0!=he.length?h(!1):(h(!0),e=!1)),be&&(0==me.length?(h(!0),e=!1):h(!1)),d(t),!!e};return Object(C.jsxs)("div",{className:"work-add",children:[Object(C.jsx)("h3",{children:"Editar Trabajo "}),Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),z(!0),xe()?ee():(console.log(o),console.log(Q)),z(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(C.jsxs)("div",{className:"grid-content",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Marca",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:Z,value:null===J||void 0===J?void 0:J.marca,type:"text",name:"marca",placeholder:"ingresa la marca"}),o.marca?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Modelo",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:Z,value:se,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),o.modelo?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Cliente",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",value:je,onChange:Z,name:"cliente",list:"clientes"}),Object(C.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),a.map((function(e){return Object(C.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),o.cliente?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Estado",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("select",{value:ce,onChange:Z,name:"estado",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),B.map((function(e){return Object(C.jsxs)("option",{value:e._id,children:[" ",e.name," "]},e._id)}))]}),o.estado?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Emei / Serie"}),Object(C.jsx)("input",{onChange:Z,value:ne,type:"number",name:"emei",min:1,minLength:25})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"recargo"}),Object(C.jsx)("input",{value:de,onChange:Z,type:"number",name:"recargo",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"precio"}),Object(C.jsx)("input",{value:ae,onChange:Z,type:"number",name:"precio",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"descuento"}),Object(C.jsx)("input",{onChange:Z,type:"number",name:"descuento",value:re,min:0})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Observaciones",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("textarea",{value:oe,onChange:Z,name:"observaciones",children:" "}),o.observaciones?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(C.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(C.jsx)("textarea",{value:ie,onChange:Z,name:"fachasEncontradas"}),Object(C.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(C.jsx)("textarea",{value:le,onChange:Z,name:"descripcion"})]}),Object(C.jsxs)("div",{className:"flex items-center",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(p(!0),Q.tieneContrasena=!0):(p(!1),Q.tieneContrasena=!1,Q.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(C.jsx)("br",{}),O&&Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{className:"flex items-center mb-1",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(k(!0),Q.esPatron=!0,Q.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(Q.contrasena="",Q.patron="",I(""),k(!1),Q.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(C.jsxs)("div",{id:"input-password",children:[Object(C.jsxs)("label",{children:["Contrase\xf1a ",Object(C.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(C.jsx)("input",{value:he,onChange:Z,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(C.jsx)("br",{}),N&&Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",onClick:function(e){I(P+e.target.textContent),Q.patron=P+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),u?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(C.jsx)("br",{}),N?Object(C.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:P}):null,Object(C.jsx)("button",{className:"btn",type:"submit",children:F?"Espere...":"  Agregar Trabajo"})]})]})}),_e=function(){return Object(C.jsx)("div",{className:"news  bg-gray-100",children:Object(C.jsxs)("div",{className:"news-container",children:[Object(C.jsx)("h1",{className:"text-3xl text-green-800",children:"Historial de cambios "}),Object(C.jsxs)("section",{className:"news-section shadow-md",children:[Object(C.jsx)("h4",{className:"fecha-update bg-green-600 text-white p-1",children:"14/12/2021 - 00:30"}),Object(C.jsxs)("ul",{className:"py-3 news-list",children:[Object(C.jsx)("li",{children:"Poder borrar un trabajo"}),Object(C.jsx)("li",{children:"Cambiar los campos de tipo number en textos (Precio , Descuento , Recargo)"}),Object(C.jsxs)("li",{children:["Sacar la imagen en trabajo y poner la contrase\xf1a en vez del codigo"," "]}),Object(C.jsx)("li",{children:"Al borrar un trabajo borrar sus estados tambien"}),Object(C.jsx)("li",{children:"Poder borrar un gasto "}),Object(C.jsx)("li",{children:"Acomodar los gastos iguales que los trabajos Entregados "})]})]})]})})};function Me(){return Object(C.jsxs)("div",{className:"taller",children:[Object(C.jsx)(re,{}),Object(C.jsxs)("div",{className:"content-principal",children:[Object(C.jsx)(ce,{}),Object(C.jsx)("div",{className:"content-principal-margin",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{exact:!0,path:"/",component:se}),Object(C.jsx)(l.b,{exact:!0,path:"/works",component:ke}),Object(C.jsx)(l.b,{exact:!0,path:"/clients",component:pe}),Object(C.jsx)(l.b,{exact:!0,path:"/works/:workId/",component:Ne}),Object(C.jsx)(l.b,{exact:!0,path:"/orders",component:ue}),Object(C.jsx)(l.b,{exact:!0,path:"/works/histories/all",component:Te}),Object(C.jsx)(l.b,{exact:!0,path:"/work/edit/:id",component:Le}),Object(C.jsx)(l.b,{exaxt:!0,path:"/news",component:_e}),Object(C.jsx)(l.b,{exact:!0,path:"/clients/:clientId",component:me}),Object(C.jsx)(l.b,{exact:!0,path:"/client/add",component:he}),Object(C.jsx)(l.b,{exact:!0,path:"/work/add",component:ve}),Object(C.jsx)(l.b,{exact:!0,path:"/auth/register",component:T}),Object(C.jsx)(l.a,{to:"/"})]})}),Object(C.jsx)(De,{})]})]})}var Pe=s(90),Ie=["isLogged","component"],Ae=function(e){var t=e.isLogged,s=e.component,n=Object(Pe.a)(e,Ie);return Object(C.jsx)(l.b,Object(k.a)(Object(k.a)({},n),{},{component:function(e){return t?Object(C.jsx)(s,Object(k.a)({},e)):Object(C.jsx)(l.a,{to:"/auth/login"})}}))},Ye=["isLogged","component"],Be=function(e){var t=e.isLogged,s=e.component,n=Object(Pe.a)(e,Ye);return Object(C.jsx)(l.b,Object(k.a)(Object(k.a)({},n),{},{component:function(e){return t?Object(C.jsx)(l.a,{to:"/"}):Object(C.jsx)(s,Object(k.a)({},e))}}))};function qe(){var e=Object(r.b)();Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(),e.next=3,u("auth/renewJwt");case 3:return s=e.sent,e.next=6,s.json();case 6:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-start-date",(new Date).getTime()),t(g({uid:n.uid,username:n.username,role:n.role}))):t(v());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(r.c)((function(e){return e.auth})),s=t.uid;return t.checking?Object(C.jsx)(E,{}):Object(C.jsx)(i.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(Be,{isLogged:!!s,exact:!0,path:"/auth/login",component:S}),Object(C.jsx)(Ae,{isLogged:!!s,path:"/",component:Me}),Object(C.jsx)(l.a,{to:"/auth/login"})]})})})}var We=s(259),Fe={orders:[]},Re={clients:[],client:null,clientWorks:[],clientSearch:[]},ze={works:[],worksState:[],work:null},Ge=s(614),He=Ge.createStore,Ue=Ge.compose,$e=Ge.applyMiddleware,Ve=(0,Ge.combineReducers)({auth:s(611).authReducer,works:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllWorks:return Object(k.a)(Object(k.a)({},e),{},{works:t.payload});case h.a.setOneWork:return Object(k.a)(Object(k.a)({},e),{},{work:t.payload});case h.a.filterWorksState:return Object(k.a)(Object(k.a)({},e),{},{worksState:t.payload.works});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllClients:return Object(k.a)(Object(k.a)({},e),{},{clients:t.payload});case h.a.setOneClient:return Object(k.a)(Object(k.a)({},e),{},{client:t.payload});case h.a.setWorksClient:return Object(k.a)(Object(k.a)({},e),{},{clientWorks:t.payload});case h.a.resetWorksClient:return Object(k.a)(Object(k.a)({},e),{},{clientWorks:[]});case h.a.filtrarClient:return Object(k.a)(Object(k.a)({},e),{},{clientSearch:t.payload});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;return t.type===h.a.getAllOrders?Object(k.a)(Object(k.a)({},e),{},{orders:t.payload}):e}}),Je=He(Ve,("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue)($e(We.a))),Xe=function(){return Object(C.jsx)(r.a,{store:Je,children:Object(C.jsx)(qe,{})})};s(612);a.a.render(Object(C.jsx)(Xe,{}),document.getElementById("root"))}},[[613,1,2]]]);
//# sourceMappingURL=main.3509b70e.chunk.js.map