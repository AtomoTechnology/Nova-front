(this["webpackJsonptaller-nico"]=this["webpackJsonptaller-nico"]||[]).push([[0],{7:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a={startLogin:"[auth] start the login auth",finshLogin:"[auth] finsish login auth",finishChecking:"[auth] finish checking",logout:"[auth] start logout",getAllWorks:"[work] get all works",getAllOrders:"[order] get all orders",setOneWork:"[work] set one work",getAllClients:"[client]get all the client form tha db",setOneClient:"[client] set one client",setWorksClient:"[client]set all works client",resetWorksClient:"[client]reset the state if there is no works",filterWorksState:"[works] filter the works bt state",filtrarClient:"[client] filter the clients by dni",updateClientAvatar:"[client] update client avatar",statusSuccess:"success",statusFail:"fail",updatePassword:"error update password"}},83:function(e,t,s){"use strict";s.r(t),s.d(t,"authReducer",(function(){return r}));var a=s(9),c=s(7),n={checking:!0,updatePasswordError:""},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.startLogin:return Object(a.a)(Object(a.a)(Object(a.a)({},e),t.payload),{},{checking:!1});case c.a.finishChecking:return Object(a.a)(Object(a.a)({},e),{},{checking:!1});case c.a.logout:return{checking:!1};case c.a.updatePassword:return Object(a.a)(Object(a.a)({},e),{},{updatePasswordError:t.payload});default:return e}}},84:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(21),n=s.n(c),r=s(5),i=s(6),l=s(14),o=s(4),d=s.n(o),j=s(8),b=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat("https://novatechnology.herokuapp.com/api/v1/").concat(e);return"GET"===s?fetch(a):fetch(a,{method:s,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},u=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat("https://novatechnology.herokuapp.com/api/v1/").concat(e),c=localStorage.getItem("token")||"",n="Bearer "+c;return"GET"===s?fetch(a,{headers:{authorization:n}}):fetch(a,{method:s,headers:{"Content-type":"application/json",authorization:n},body:JSON.stringify(t)})},h=s(7),x=s(11),m=s.n(x),O=function(){var e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)},p=function(e,t){O();var s='<div class="alert alert--'.concat(e,'">').concat(t,"</div>");document.querySelector("body").insertAdjacentHTML("afterbegin",s),window.setTimeout(O,5e3)},v=function(){return function(e){console.log("heree logout "),localStorage.removeItem("token"),localStorage.removeItem("token-start-date"),e(f())}},g=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u("users/updateMyPassword",e,"PATCH");case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,console.log(c),c.status===h.a.statusSuccess?(localStorage.setItem("token",c.token),localStorage.setItem("token-start-date",(new Date).getTime()),s(w({uid:c.data.user._id,username:c.data.user.name,role:c.data.user.role})),m.a.fire("Exito","Tu contrase\xf1a se cambi\xf3 con exito","success")):m.a.fire("Actual Contrase\xf1a ",c.message,"error");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return{type:h.a.logout}},N=function(){return{type:h.a.finishChecking}},w=function(e){return{type:h.a.startLogin,payload:e}},k=s(3),y=s(24),C=s(9),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),s=Object(k.a)(t,2),c=s[0],n=s[1],r=function(){n(e)},i=function(e){var t=e.target;n(Object(C.a)(Object(C.a)({},c),{},Object(y.a)({},t.name,t.value)))};return[c,i,r]},E=s.p+"static/media/logo03.57274dd7.png",T=s(0),D=function(e){var t=e.history;console.log(t);var s=Object(r.b)(),c=S({dni:"",password:""}),n=Object(k.a)(c,2),l=n[0],o=n[1],u=Object(a.useState)({}),x=Object(k.a)(u,2),m=x[0],O=x[1],v=l.dni,g=l.password,f=function(){var e=!0,t={};return v.trim().length<8&&(e=!1,t.dni=!0),g.trim().length<6&&(e=!1,t.password=!0),O(t),!!e};return Object(T.jsx)("div",{className:"auth__login",children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f()?s(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var c,n;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e,t),s.next=3,b("users/signin",{dni:e,password:t},"POST");case 3:return c=s.sent,s.next=6,c.json();case 6:n=s.sent,console.log(n),n.status===h.a.statusSuccess?(localStorage.setItem("token",n.token),localStorage.setItem("token-start-date",(new Date).getTime()),a(w({uid:n.data.user._id,username:n.data.user.name,role:n.data.user.role})),p("success","Inicio de sesion con exito")):p("error",n.message);case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(v,g)):(console.log("verifica los datos"),console.log(m))},className:"auth__login-form",children:[Object(T.jsx)("i",{onClick:function(){t.push("/index")},class:"fas fa-home w-8 h-8 rounded-full shadow bg-blue-600 text-white flex items-center justify-center cursor-pointer hover:w-12 hover:shadow-md hover:bg-blue-900 hover:h-12"}),Object(T.jsx)("div",{className:"header-logo",children:Object(T.jsx)("img",{src:E,width:"45",alt:"Nova Technology"})}),Object(T.jsx)("h3",{children:"Nova Technology"}),Object(T.jsx)("label",{children:"DNI"}),Object(T.jsx)("input",{value:v,onChange:o,type:"text",name:"dni"}),m.dni?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Ingrese un DNI valido "}):null," ",Object(T.jsx)("label",{children:"Contrase\xf1a"}),Object(T.jsx)("input",{value:g,onChange:o,type:"password",name:"password"}),m.password?Object(T.jsxs)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:["Ingrese su una contrase\xf1a"," "]}):null," ",Object(T.jsx)("br",{}),Object(T.jsx)("button",{className:"btn",type:"submit",children:"Inicia Sesion"}),Object(T.jsx)("div",{className:"register-section text-sx text-blue-600 ",children:Object(T.jsxs)("span",{className:"text-sm",children:["\xbfAun no tiene una cuenta ?",Object(T.jsx)(i.b,{to:"/register",className:"text-pink-800 ml-1 hover:text-pink-700 hover:shadow hover:bg-gray-100 p-1",children:"Registrarse"})]})})]})})},I=s.p+"static/media/logoNovaSmall.c21dfb89.png",L=s.p+"static/media/bg.02bee48a.jpg",A=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"flex justify-between p-2 items-center gap-2 w-full bg-gray-700 sticky top-0",children:[Object(T.jsxs)("div",{className:"flex gap-3 justify-around items-center",children:[Object(T.jsx)("div",{className:"logo",children:Object(T.jsx)("img",{src:I,width:100,alt:"Logo Nova"})}),Object(T.jsxs)("ul",{className:"flex justify-center items-center gap-3 ml-10",children:[Object(T.jsx)("li",{className:"hover:text-pink-600",children:Object(T.jsx)("a",{href:"#home",children:"Inicio"})}),Object(T.jsx)("li",{className:"hover:text-pink-600",children:Object(T.jsx)("a",{href:"#services",children:"Servicios"})}),Object(T.jsx)("li",{className:"hover:text-pink-600",children:Object(T.jsx)("a",{href:"#about",children:"Sobre Nosotros"})}),Object(T.jsx)("li",{className:"hover:text-pink-600",children:Object(T.jsx)("a",{href:"#contact",children:"Contactanos"})})]})]}),Object(T.jsxs)("div",{className:"btn-login-btn-register",children:[Object(T.jsx)(i.b,{className:"p-1 shadow text-pink-600 text-xs m-2",to:"/login",children:"Inicia Session"}),Object(T.jsx)(i.b,{className:"p-1 bg-pink-800 text-white shadow rounded  m-2",to:"/register",children:"Registrarse"})]})]}),Object(T.jsx)("div",{className:"banner w-full h-36 bg-pink-600 p-2 text-center",children:"BANNNER"}),Object(T.jsxs)("div",{className:"services p-1",id:"services",children:[Object(T.jsx)("h3",{className:"title-services text-6xl text-center",children:"Servicios"}),Object(T.jsxs)("div",{className:"services-content p-3  gap-2 justify-center items-center",children:[Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]}),Object(T.jsxs)("div",{className:"card-service hover:shadow cursor-pointer  rounded shadow-md bg-red-800",children:[Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:L,alt:""})}),Object(T.jsx)("div",{className:"card-footer p-2 text-center",children:Object(T.jsx)("span",{children:"Reparaciones de Celulares "})})]})]})]}),Object(T.jsxs)("div",{className:"about-us",id:"about",children:[Object(T.jsx)("h3",{className:"title-services text-6xl text-center",children:"Servicios"}),Object(T.jsxs)("div",{className:"about-us-content",children:[Object(T.jsx)("div",{className:"text",children:"Somos una empresa con varios a\xf1os de trayectoria. Nos dedicamos a todo lo que se refiera a reparaciones de telefon\xeda celular e IPads. Realizamos todo lo que son cambio de piezas de diferentes marcas (Samsung, Motorola, Xiaomi, entre otras) y iPhone Trabajamos con los repuestos de la m\xe1xima calidad que se encuentran en el mercado para poder asegurarle al cliente una reparaci\xf3n exitosa y una experiencia de usuario igual a la que lo sorprendi\xf3 al usar su equipo por primera vez."}),Object(T.jsx)("img",{src:L,width:200,alt:""})]})]})]})},P=function(){return Object(T.jsx)("div",{className:"loading",children:Object(T.jsxs)("div",{className:"sk-circle",children:[Object(T.jsx)("div",{className:"sk-circle2 sk-child"}),Object(T.jsx)("div",{className:"sk-circle3 sk-child"}),Object(T.jsx)("div",{className:"sk-circle4 sk-child"}),Object(T.jsx)("div",{className:"sk-circle5 sk-child"}),Object(T.jsx)("div",{className:"sk-circle6 sk-child"}),Object(T.jsx)("div",{className:"sk-circle1 sk-child"}),Object(T.jsx)("div",{className:"sk-circle7 sk-child"}),Object(T.jsx)("div",{className:"sk-circle8 sk-child"}),Object(T.jsx)("div",{className:"sk-circle9 sk-child"}),Object(T.jsx)("div",{className:"sk-circle10 sk-child"}),Object(T.jsx)("div",{className:"sk-circle11 sk-child"}),Object(T.jsx)("div",{className:"sk-circle12 sk-child"})]})})},M=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),q=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("users");case 3:return s=e.sent,e.next=6,s.json();case 6:(a=e.sent).status===h.a.statusSuccess&&t(G(a.data.users)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e,t){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,b("users/signup",e,"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:(c=t.sent).status===h.a.statusSuccess?M.fire({icon:"success",title:"Usuario creado con existo."}):M.fire({icon:"error",title:c.message}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),M.fire({icon:"error",title:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("works/client/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(c=t.sent).status===h.a.statusSuccess?s(B(c.data.works)):s(Y()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(){return{type:h.a.resetWorksClient}},B=function(e){return{type:h.a.setWorksClient,payload:e}},F=function(e){return{type:h.a.setOneClient,payload:e}},G=function(e){return{type:h.a.getAllClients,payload:e}},z=function(e){var t=e.history,s=Object(r.b)(),c=Object(a.useState)([]),n=Object(k.a)(c,2),l=n[0],o=n[1],b=Object(a.useState)(!1),u=Object(k.a)(b,2),h=u[0],x=u[1],m=Object(a.useState)(""),O=Object(k.a)(m,2),p=(O[0],O[1],Object(r.c)((function(e){return e.auth}))),v=S({name:"",dni:"",phone1:"",phone2:"",direction:"",nota:"",file:"",pathImg:"",password:"",passwordConfirm:"",email:"",role:"user"}),g=Object(k.a)(v,3),f=g[0],N=g[1],w=g[2],y=f.name,C=f.dni,E=f.phone1,D=f.phone2,I=f.direction,L=f.nota,A=f.password,P=f.passwordConfirm,M=f.email,q=f.role,R=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),a.preventDefault(),Y()&&(s(_(f)),w(),setTimeout((function(){t.push("/clients")}),1e3)),x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=!0,t=[];return y||(e=!1,t.name=!0),(!A||A.trim().length<6)&&(e=!1,t.password=!0),P&&P===A||(e=!1,t.passwordConfirm=!0),(!C||C.length<8||C.length>11)&&(e=!1,t.dni=!0),M||(e=!1,t.email=!0),(!E||E.length<7)&&(e=!1,t.phone1=!0),o(t),!!e};return Object(T.jsxs)("div",{className:"user-add my-2 ",children:[Object(T.jsx)("h3",{className:"text-lg",children:"Crear Cuenta"}),Object(T.jsxs)("form",{onSubmit:R,className:"user-add-form  rounded",children:[Object(T.jsxs)("div",{className:"form-grid",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Nombre Cliente ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:N,value:y,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),l.name?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["DNI ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:N,value:C,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),l.dni?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Correo"}),Object(T.jsx)("input",{className:"shadow",onChange:N,value:M,type:"email",name:"email",placeholder:"Ingrese su correo electronico"}),l.email?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),"admin"===p.role&&Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Rol"}),Object(T.jsxs)("select",{name:"role",value:q,onChange:N,children:[Object(T.jsx)("option",{value:"user",children:" Usuario "}),Object(T.jsx)("option",{value:"tecnico",children:" Tecnico "}),Object(T.jsx)("option",{value:"admin",children:" Administrador "})]}),l.email?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Telefono 1 ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:N,value:E,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),l.phone1?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Contrase\xf1a"}),Object(T.jsx)("input",{className:"shadow",onChange:N,value:A,type:"password",name:"password",placeholder:"ingresa una contrase\xf1a"}),l.password?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Contrase\xf1a invalida. debe tener minimo 6 caracteres."}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Confirma Contrese\xf1a"}),Object(T.jsx)("input",{className:"shadow",onChange:N,value:P,type:"password",name:"passwordConfirm",placeholder:"Repetir contrase\xf1a"}),l.passwordConfirm?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Las Contrase\xf1as no coinciden"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Telefono 2"}),Object(T.jsx)("input",{onChange:N,value:D,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Direcci\xf3n"}),Object(T.jsx)("input",{className:"shadow",onChange:N,value:I,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Nota"}),Object(T.jsx)("input",{className:"shadow",onChange:N,value:L,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("button",{disabled:h,className:"btn shadow-lg",type:"submit",children:h?"agregando Usuario":" Agregar Cliente"}),Object(T.jsx)("div",{className:"register-section text-sx text-blue-600 text-center ",children:Object(T.jsxs)("span",{className:"text-sm",children:["\xbfYa tiene una cuenta ?",Object(T.jsx)(i.b,{to:"/login",className:"text-pink-800 ml-1 hover:text-pink-700 hover:shadow hover:bg-gray-300 p-1",children:"Inicia Session"})]})})]})]})},W=s(10),H=s.n(W),U=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var s=Object(j.a)(d.a.mark((function s(a){var c,n;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u("works?page=".concat(t,"&limit=").concat(e));case 3:return c=s.sent,s.next=6,c.json();case 6:(n=s.sent).status===h.a.statusSuccess&&a(X(n.data.works,n.total,n.page,n.results)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("works/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(c=t.sent).ok?s(K(c.work)):U.fire({icon:"error",title:"Error al recuperar los datos del cliente"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),U.fire({icon:"error",title:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("works/".concat(e),{},"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:(c=t.sent).status===h.a.statusSuccess?U.fire({icon:"success",title:"Trabajo borrado con exito!!!"}):m.a.fire("error",c.message,"info"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),m.a.fire("error",t.t0.message,"error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},X=function(e,t,s,a){return{type:h.a.getAllWorks,payload:{works:e,total:t,page:s,results:a}}},K=function(e){return{type:h.a.setOneWork,payload:e}},Q=s.p+"static/media/userLogo.4bac9738.png",Z=function(e){var t,s,a,c,n,l=e.work,o=H()(H()().format("YYYY-MM-DD")),d=Object(r.c)((function(e){return e.auth})).role,j="";switch(null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].nombre){case"Revision":j="red-700";break;case"Presupuesto":j="gray-600";break;case"En Reparacion":j="yellow-500";break;case"Terminado":j="pink-400";break;default:j="green-700"}return Object(T.jsxs)(i.b,{to:"/works/".concat(null===l||void 0===l?void 0:l._id),className:"work work-state",children:[Object(T.jsx)("div",{className:"title p-1",children:Object(T.jsx)("span",{className:"capitalize text-"+j,children:(null===l||void 0===l?void 0:l.marca)+"   "+(null===l||void 0===l?void 0:l.modelo)})}),Object(T.jsx)("div",{className:"observaciones p-1",children:Object(T.jsxs)("span",{children:[null===l||void 0===l?void 0:l.observaciones.slice(0,100)," ",(null===l||void 0===l?void 0:l.observaciones.length)>100?"...":null]})}),Object(T.jsxs)("div",{className:"p-1",children:[" ",Object(T.jsx)("p",{className:"text-gray-300",children:"Hace "+o.diff(H()(H()(null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].fecha).format("YYYY-MM-DD")),"days")+" Dias"}),Object(T.jsx)("p",{children:null===l||void 0===l?void 0:l.codigo})]}),Object(T.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(T.jsx)("span",{className:"rounded-sm bg-".concat(j," p-1"),children:null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].nombre}),Object(T.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+j})]}),Object(T.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===l||void 0===l||null===(t=l.cliente)||void 0===t?void 0:t.pathImg)?Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===l||void 0===l||null===(s=l.cliente)||void 0===s?void 0:s.pathImg)}):Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:Q}),Object(T.jsxs)("h3",{className:"capitalize font-serif",children:[null===l||void 0===l||null===(a=l.cliente)||void 0===a||null===(c=a.name)||void 0===c?void 0:c.slice(0,13),"..."]}),"admin"==d&&Object(T.jsx)("span",{className:"work-precio text-"+j,children:" $ "+(null===l||void 0===l||null===(n=l.total)||void 0===n?void 0:n.toFixed(2))})]})]})},ee=function(e){var t=e.text,s=void 0===t?"Cargando...":t,a=e.size,c=void 0===a?"big":a;return Object(T.jsxs)("div",{class:"spinner spinner-"+c,children:[Object(T.jsx)("div",{class:"bounce1"}),Object(T.jsx)("div",{class:"bounce2"}),Object(T.jsx)("div",{class:"bounce3"}),Object(T.jsx)("span",{children:s})]})},te=function(e){var t,s,a,c,n=e.work,l=Object(r.c)((function(e){return e.auth})).role,o="";switch(n.estado.name){case"Revision":o="red-700";break;case"Presupuesto":o="gray-600";break;case"En Reparacion":o="yellow-500";break;case"Terminado":o="pink-400";break;default:o="green-700"}return Object(T.jsxs)(i.b,{to:"/works/".concat(n._id),className:"work",children:[Object(T.jsx)("div",{className:"title p-1",children:Object(T.jsx)("span",{className:"capitalize text-"+o,children:(null===n||void 0===n?void 0:n.marca)+"   "+(null===n||void 0===n?void 0:n.modelo)})}),Object(T.jsxs)("div",{className:"p-1",children:[" ",Object(T.jsx)("p",{className:"text-gray-700",children:null===n||void 0===n?void 0:n.codigo})]}),Object(T.jsxs)("div",{className:"p-1",children:[" ",Object(T.jsx)("p",{className:"text-gray-300",children:H()(null===n||void 0===n?void 0:n.fechaInicio).format("DD-MM-yyyy")})]}),Object(T.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(T.jsx)("span",{className:"rounded-sm text-white bg-".concat(o," p-1"),children:null===n||void 0===n?void 0:n.estado.name}),Object(T.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+o})]}),Object(T.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===n||void 0===n||null===(t=n.cliente)||void 0===t?void 0:t.pathImg)?Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===n||void 0===n||null===(s=n.cliente)||void 0===s?void 0:s.pathImg)}):Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:Q}),Object(T.jsxs)("h3",{className:"capitalize font-serif",children:[null===n||void 0===n||null===(a=n.cliente)||void 0===a||null===(c=a.name)||void 0===c?void 0:c.slice(0,10),"..."]}),"admin"==l&&Object(T.jsx)("span",{className:"work-precio text-"+o,children:"$"+(null===n||void 0===n?void 0:n.total.toFixed(2))})]})]})},se=function(e){var t,s,a,c=e.work,n=e.history,l=Object(r.b)(),o=Object(r.c)((function(e){return e.auth})).role,d="";switch(c.estado.name){case"Revision":d="red-700";break;case"Presupuesto":d="gray-600";break;case"En Reparacion":d="yellow-500";break;case"Terminado":d="pink-400";break;default:d="green-700"}return Object(T.jsxs)("div",{className:"work",children:[Object(T.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-100  p-1 items-center",children:[(null===c||void 0===c||null===(t=c.cliente)||void 0===t?void 0:t.pathImg)?Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===c||void 0===c||null===(s=c.cliente)||void 0===s?void 0:s.pathImg)}):Object(T.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:Q}),Object(T.jsx)("h3",{className:"capitalize font-serif",children:null===c||void 0===c||null===(a=c.cliente)||void 0===a?void 0:a.name}),"admin"==o&&Object(T.jsxs)("div",{className:"header-action  relative",children:[Object(T.jsx)("i",{onClick:function(e){document.querySelectorAll(".header-action").forEach((function(t){t!==e.target.parentElement&&t.classList.remove("active")})),console.log(e.target.parentElement,e.target.parentElement.classList.toggle("active"))},class:"fas fa-ellipsis-v rounded cursor-pointer w-8 h-8 shadow bg-gray-100  flex justify-center items-center hover:shadow-md hover:rounded-full hover:bg-blue-100"}),Object(T.jsx)("div",{className:"hidden absolute flex justify-center gap-2 items-center right-0 p-1 bg-gray-100  shadow  ",children:Object(T.jsx)("span",{className:"w-8 h-8 rounded-full cursor-pointer hover:shadow-md hover:text-red-500  text-red-700  shadow p-1 flex justify-center items-center text-center bg-white",children:Object(T.jsx)("i",{class:"fas fa-trash ",onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el trabajo definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&(l(J(null===c||void 0===c?void 0:c._id)),n.push("/works"))}))}})})})]})]}),Object(T.jsx)(i.b,{to:"/works/".concat(c._id),className:"title p-1",children:Object(T.jsxs)("span",{className:"capitalize text-"+d,children:[(null===c||void 0===c?void 0:c.marca)+" - "+(null===c||void 0===c?void 0:c.modelo),(null===c||void 0===c?void 0:c.tieneContrasena)&&Object(T.jsx)("i",{class:"fas fa-lock work-lock"})]})}),Object(T.jsx)("div",{className:"observaciones p-1",children:Object(T.jsxs)("span",{children:[null===c||void 0===c?void 0:c.observaciones.slice(0,60)," ",(null===c||void 0===c?void 0:c.observaciones.length)>60?"...":null]})}),Object(T.jsx)("div",{className:"p-1",children:(null===c||void 0===c?void 0:c.tieneContrasena)?null===c||void 0===c?void 0:c.contrasena:null}),Object(T.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(T.jsx)("span",{className:"rounded-sm text-white bg-".concat(d," p-1"),children:null===c||void 0===c?void 0:c.estado.name}),Object(T.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+d})]})]})},ae=function(){var e=Object(r.b)(),t=Object(a.useState)([]),s=Object(k.a)(t,2),c=(s[0],s[1]),n=Object(a.useState)(!0),l=Object(k.a)(n,2),o=l[0],b=l[1],u=Object(r.c)((function(e){return e.auth})),h=u.role,x=u.uid;Object(a.useEffect)((function(){e(q())}),[e]),Object(a.useEffect)((function(){e($())}),[e]),Object(a.useEffect)((function(){e(R(x))}),[]);var m=Object(r.c)((function(e){return e.clients})),O=m.clients,p=m.clientWorks,v=Object(r.c)((function(e){return e.works})),g=v.works,f=v.total;Object(a.useEffect)((function(){fetch("".concat("https://novatechnology.herokuapp.com/api/v1/","work_state")).then((function(e){return e.json()})).then((function(e){c(e.work_state),b(!1)}))}),[b,c]);var N=[];g.forEach((function(e){"Terminado"===e.estado.name&&N.push(e)}));for(var w=H()(H()().format("YYYY-MM-DD")),y=[],C=0;C<g.length;C++){var S=H()(H()(g[C].states[g[C].states.length-1].fecha).format("YYYY-MM-DD"));w.diff(S,"days")>=3&&("Revision"===g[C].states[g[C].states.length-1].nombre||"Presupuesto"===g[C].states[g[C].states.length-1].nombre)&&y.push(g[C])}var E=function(e){var t=document.getElementById(e.target.parentElement.parentElement.classList[0]);t.scrollLeft-=t.offsetWidth},D=function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=document.getElementById(t.target.parentElement.parentElement.classList[0])).scrollLeft+=s.offsetWidth;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"user"!==h?Object(T.jsxs)("div",{className:"home",children:[Object(T.jsxs)("div",{className:"home__statistics shadow bg-gray-50 mb-2 p-1",children:[Object(T.jsx)(i.b,{to:"clients",className:"users",children:Object(T.jsxs)("div",{className:"users-content",children:[Object(T.jsxs)("div",{className:"content-left",children:[Object(T.jsx)("span",{children:O.length}),Object(T.jsx)("h3",{children:"Usuarios"})]}),Object(T.jsx)("i",{className:"fas fa-user text-gray-900"})]})}),Object(T.jsx)(i.b,{to:"works",className:"works",children:Object(T.jsxs)("div",{className:"works-content",children:[Object(T.jsxs)("div",{className:"content-left",children:[Object(T.jsx)("span",{children:f}),Object(T.jsx)("h3",{children:"Trabajos"})]}),Object(T.jsx)("i",{className:"fas fa-th-list text-yellow-700"})]})}),Object(T.jsx)("a",{href:"#worksaviso",className:"works-avisos",children:Object(T.jsxs)("div",{className:"works-content",children:[Object(T.jsxs)("div",{className:"content-left",children:[Object(T.jsx)("span",{children:o?Object(T.jsx)(ee,{text:"",size:"small"}):y.length}),Object(T.jsx)("h3",{children:"Avisos"})]}),Object(T.jsx)("i",{className:"fas fa-flag text-red-700"})]})}),Object(T.jsx)("a",{href:"#worksconfirm",className:"works-confirm",children:Object(T.jsxs)("div",{className:"works-content",children:[Object(T.jsxs)("div",{className:"content-left",children:[Object(T.jsx)("span",{children:N.length}),Object(T.jsx)("h3",{children:"Terminados"})]}),Object(T.jsx)("i",{className:"fas fa-calendar-check text-pink-400"})]})})]}),o?Object(T.jsx)(ee,{}):y.length>0&&Object(T.jsxs)("div",{id:"worksaviso",className:"home__section-recent-works shadow my-1 p-2",children:[Object(T.jsx)("h3",{className:"text-red-400",children:"AVISO"}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"avisos",id:"avisos",children:[Object(T.jsx)("button",{className:"btn btn-left-carrousel",onClick:E,id:"btn-left",children:Object(T.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),y.map((function(e){return Object(T.jsx)(Z,{work:e},null===e||void 0===e?void 0:e._id)})),Object(T.jsx)("button",{onClick:D,className:"btn btn-right-carrousel",id:"btn-right",children:Object(T.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]}),N.length>0&&Object(T.jsxs)("div",{id:"worksconfirm",className:"home__section-recent-works shadow my-1 p-2",children:[Object(T.jsx)("h3",{className:"text-red-400",children:"Trabajos Terminados"}),Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"confirmados",id:"confirmados",children:[Object(T.jsx)("button",{className:"btn btn-left-carrousel",onClick:E,id:"btn-left",children:Object(T.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),N.map((function(e){return Object(T.jsx)(te,{work:e},null===e||void 0===e?void 0:e._id)})),Object(T.jsx)("button",{onClick:D,className:"btn btn-right-carrousel",id:"btn-right",children:Object(T.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]})]}):Object(T.jsxs)("div",{className:"works ",children:[Object(T.jsx)("span",{className:"title-header",children:" Mis Trabajos "}),Object(T.jsx)("div",{className:"works-grid p-1 my-2",children:p.length>=0?p.map((function(e){return Object(T.jsx)(se,{work:e},e._id)})):null})]})},ce=s.p+"static/media/adminLogo.4d8edb82.png",ne=function(){var e=Object(r.b)(),t=function(e){},s=Object(r.c)((function(e){return e.auth})),a=s.username,c=s.role,n=s.uid;return Object(T.jsxs)("div",{className:"content-header",children:[Object(T.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-open-menu-mobile",className:"fas fa-bars"}),Object(T.jsxs)("div",{onMouseOut:function(){var e=document.querySelector(".menu-user");e.style.visibility="hidden",e.style.opacity=0},onMouseOver:function(){var e=document.querySelector(".menu-user");e.style.visibility="visible",e.style.opacity=1},onClick:function(e){document.querySelector(".menu-user").classList.toggle("active-mobile")},className:"content-header-right",children:[Object(T.jsxs)("div",{className:"user-logo",children:["admin"===c?Object(T.jsx)("img",{src:ce,alt:"logo admin"}):Object(T.jsx)("img",{src:Q,alt:"logo user commun"}),Object(T.jsx)("span",{className:"user-name",children:a})]}),Object(T.jsx)("div",{className:"menu-user",children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Home"}),Object(T.jsxs)(i.b,{to:"/",className:"",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-home"})}),Object(T.jsx)("span",{className:"title",children:"Home"})]})]}),"user"!==c&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Clientes"}),Object(T.jsxs)(i.b,{to:"/clients",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-users"})," "]}),Object(T.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(T.jsxs)(i.b,{to:"/works",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{className:"fas fa-th-list"})}),Object(T.jsx)("span",{className:"title",children:"Trabajos"})]})]}),Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(T.jsxs)(i.b,{to:"/client/add",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-plus-circle"})}),Object(T.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(T.jsxs)(i.b,{to:"/work/add",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(T.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===c&&Object(T.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(T.jsxs)(i.b,{to:"/works/histories/all",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-history"})," "]}),Object(T.jsx)("span",{className:"title",children:"Hist. Trab/Gastos"})]})]}),Object(T.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Novedades"}),Object(T.jsxs)(i.b,{to:"/news",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-star-and-crescent"})," "]}),Object(T.jsx)("span",{className:"title",children:"Novedades"})]})]})]}),Object(T.jsx)("hr",{}),Object(T.jsx)("li",{className:"menu-item",onClick:t,children:Object(T.jsxs)(i.b,{to:"/clients/".concat(n),children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-user-circle"})," "]}),Object(T.jsx)("span",{className:"title",children:"Mis Datos"})]})}),Object(T.jsxs)("li",{onClick:function(){e(v())},className:"menu-item",children:[Object(T.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(T.jsxs)(i.b,{to:"#",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(T.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})]})})]})]})},re=s.p+"static/media/logoNovaWhite.80a4b1d0.png",ie=function(){var e=Object(r.c)((function(e){return e.auth})).role,t=function(e){},s=Object(r.b)();return Object(T.jsx)("div",{className:"navbar active-mini-menu",children:Object(T.jsxs)("div",{className:"navbar__container",children:[Object(T.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-close-mobil",className:"fas fa-times"}),Object(T.jsxs)("div",{className:"navegation",children:[Object(T.jsxs)("div",{className:"navegation-header",children:[Object(T.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active-mini-menu"),document.querySelector(".content-principal").classList.toggle("toggleContentPrincipal"),document.querySelector(".content-header").classList.toggle("toggleContentHeader")},class:"fas fa-bars"}),Object(T.jsx)("div",{className:"img",children:Object(T.jsx)("img",{src:re,alt:"Logo Nova",width:"25"})})]}),Object(T.jsxs)("ul",{id:"menu-lateral-big",className:"menu-lateral",children:[Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Home"}),Object(T.jsxs)(i.b,{to:"/",className:"",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-home"})}),Object(T.jsx)("span",{className:"title",children:"Home"})]})]}),"user"!==e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Clientes"}),Object(T.jsxs)(i.b,{to:"/clients",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-users"})," "]}),Object(T.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(T.jsxs)(i.b,{to:"/works",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{className:"fas fa-th-list"})}),Object(T.jsx)("span",{className:"title",children:"Trabajos"})]})]}),Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(T.jsxs)(i.b,{to:"/client/add",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-plus-circle"})}),Object(T.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(T.jsxs)(i.b,{to:"/work/add",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(T.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===e&&Object(T.jsxs)("li",{className:"menu-item link-lateral ",onClick:t,children:[Object(T.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(T.jsxs)(i.b,{to:"/works/histories/all",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("i",{class:"fas fa-history"})," "]}),Object(T.jsx)("span",{className:"title",children:"Hist. Trab/Gastos"})]})]})]})]}),Object(T.jsx)("div",{className:"navegation-footer",children:Object(T.jsxs)("li",{onClick:function(){s(v())},className:"menu-item",children:[Object(T.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(T.jsxs)(i.b,{to:"#",children:[Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(T.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})})]})]})})},le=function(e){return{type:h.a.getAllOrders,payload:e}},oe=s(41),de=s(29),je=s.n(de),be=s.p+"static/media/3.37f87e4b.png",ue=function(e){var t,s,c,n=e.order,r=Object(a.useState)(!1),i=Object(k.a)(r,2),l=i[0],o=i[1];if(null===n.work)return Object(T.jsx)("div",{children:"Orden no existe ...."});var b=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),je.a.post("".concat("https://novatechnology.herokuapp.com/api/v1/","orders/").concat(null===n||void 0===n?void 0:n._id),{}).then((function(){return je.a.get("".concat("https://novatechnology.herokuapp.com/api/v1/","orders/fetchPdf/download"),{responseType:"blob"})})).then((function(e){var t,s=new Blob([e.data],{type:"application/pdf"});Object(oe.saveAs)(s,"".concat(null===(t=n.work)||void 0===t?void 0:t.codigo,".pdf")),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:"orden",children:[Object(T.jsx)("div",{className:"photo",children:Object(T.jsx)("img",{src:be,alt:""})}),Object(T.jsxs)("div",{className:"body-pdf",children:[Object(T.jsx)("h3",{className:"codigo",children:null===(t=n.work)||void 0===t?void 0:t.codigo}),Object(T.jsxs)("h5",{className:"marca",children:[" ",null===(s=n.work)||void 0===s?void 0:s.marca," "]}),Object(T.jsxs)("h5",{className:"modelo",children:[" ",null===(c=n.work)||void 0===c?void 0:c.modelo," "]}),Object(T.jsx)("button",{onClick:b,className:"btn-download-pdf",children:l?Object(T.jsx)("span",{children:"Descargando..."}):Object(T.jsxs)("span",{className:"flex justify-between gap-x-3 align-center  ",children:[Object(T.jsx)("span",{children:"Descargar"}),Object(T.jsx)("i",{className:"fas fa-arrow-circle-down text-white text-center text-lg  bg-blue-600 shadow-md rounded-full flex align-center justify-center w-7 h-7"})]})})]})]})},he=function(){var e=Object(r.b)(),t=Object(a.useState)(!0),s=Object(k.a)(t,2),c=s[0],n=s[1];Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("orders");case 3:return s=e.sent,e.next=6,s.json();case 6:(a=e.sent).ok&&t(le(a.orders)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),n(!1)}),[e]);var i=Object(r.c)((function(e){return e.orders})).orders;return Object(T.jsxs)("div",{className:"orders",children:[Object(T.jsx)("span",{className:"title-header",children:"Ordenes"}),c?Object(T.jsx)(ee,{}):i.length<=0?Object(T.jsx)("div",{className:"p-2 mt-3 bg-red-200 shadow rounded text-center text-2xl text-red-600",children:"No hay Ordenes disponibles por el momento..."}):Object(T.jsx)("div",{className:"ordenes   shadow-lg ",children:i.map((function(e){return Object(T.jsx)(ue,{order:e},e._id)}))})]})},xe=function(e){var t=e.work,s=(e.history,Object(r.b)(),Object(r.c)((function(e){return e.auth})).role,"");switch(t.estado.name){case"Revision":s="red-700";break;case"Presupuesto":s="gray-600";break;case"En Reparacion":s="yellow-500";break;case"Terminado":s="pink-400";break;default:s="green-700"}return Object(T.jsxs)("div",{className:"work-client",children:[Object(T.jsx)(i.b,{to:"/works/".concat(t._id),className:"title p-1",children:Object(T.jsxs)("span",{className:"capitalize text-"+s,children:[(null===t||void 0===t?void 0:t.marca)+" - "+(null===t||void 0===t?void 0:t.modelo),(null===t||void 0===t?void 0:t.tieneContrasena)&&Object(T.jsx)("i",{class:"fas fa-lock work-lock"})]})}),Object(T.jsx)("div",{className:"observaciones p-1",children:Object(T.jsxs)("span",{children:[null===t||void 0===t?void 0:t.observaciones.slice(0,60)," ",(null===t||void 0===t?void 0:t.observaciones.length)>60?"...":null]})}),Object(T.jsx)("div",{className:"p-1",children:(null===t||void 0===t?void 0:t.tieneContrasena)?null===t||void 0===t?void 0:t.contrasena:null}),Object(T.jsxs)("div",{className:"p-1",children:[" ",Object(T.jsx)("p",{className:"text-gray-300",children:H()(null===t||void 0===t?void 0:t.fechaInicio).format("DD-MM-yyyy")})]})]})},me=function(e){var t=e.match,s=e.history,c=Object(r.b)(),n=Object(a.useState)(!0),l=Object(k.a)(n,2),o=l[0],b=l[1],x=Object(a.useState)([]),O=Object(k.a)(x,2),p=O[0],v=O[1],f=Object(r.c)((function(e){return e.auth})),N=(f.role,f.uid),w=Object(a.useState)(!1),y=Object(k.a)(w,2),C=y[0],E=y[1],D=Object(a.useState)(null),I=Object(k.a)(D,2),L=I[0],A=I[1],P=Object(a.useState)(!1),q=Object(k.a)(P,2),_=q[0],Y=q[1],B=t.params.clientId;Object(a.useEffect)((function(){c(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("users/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(c=t.sent).status===h.a.statusSuccess&&s(F(c.data.user)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(B))}),[c,B]);var G=Object(r.c)((function(e){return e.clients})).client,z=S({currentPassword:"",password:"",passwordConfirm:"",name:null===G||void 0===G?void 0:G.name,dni:null===G||void 0===G?void 0:G.dni,phone1:null===G||void 0===G?void 0:G.phone1,phone2:null===G||void 0===G?void 0:G.phone2,direction:null===G||void 0===G?void 0:G.direction,nota:null===G||void 0===G?void 0:G.nota,email:(null===G||void 0===G?void 0:G.email)?G.email:""}),W=Object(k.a)(z,3),H=W[0],U=W[1],$=W[2],V=H.name,J=H.dni,X=H.phone1,K=H.phone2,Z=H.direction,te=H.nota,se=H.email,ae=H.currentPassword,ce=H.password,ne=H.passwordConfirm;Object(a.useEffect)((function(){c(R(null===G||void 0===G?void 0:G._id)),b(!1)}),[c,b,null===G||void 0===G?void 0:G._id]);var re=Object(r.c)((function(e){return e.clients})).clientWorks,ie=function(){document.querySelector(".modal-client-img").classList.toggle("hidden")},le=function(e){document.querySelector(".delete-client-box").classList.toggle("active")},oe=function(){var e=!0,t={};return(!ae||ae.trim().length<6)&&(e=!1,t.currentPassword=!0),(!ce||ce.trim().length<6)&&(e=!1,t.password=!0),ce!==ne&&(e=!1,t.passwordConfirm=!0),v(t),!!e},de=function(){var e=!0,t=[];return V||(e=!1,t.name=!0),se||(e=!1,t.email=!0),(!J||J.length<8||J.length>11)&&(e=!1,t.dni=!0),(!X||X.length<7)&&(e=!1,t.phone1=!0),v(t),!!e};return Object(T.jsxs)("div",{className:"userBox",children:[Object(T.jsxs)("div",{className:"delete-client-box",children:[Object(T.jsx)("div",{className:"delete-client-overlay",onClick:le}),Object(T.jsxs)("div",{className:"delete-client shadow rounded",children:[Object(T.jsx)("div",{className:"delete-client-header",children:"Borrar Cliente"}),Object(T.jsxs)("div",{className:"delete-client-body",children:[Object(T.jsxs)("h3",{children:["Estas seguro de borrar el cliente? ",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"username bg-gray-800 text-red-300 p-2 mt-1 shadow rounded",children:null===G||void 0===G?void 0:G.dni})]}),Object(T.jsx)("div",{className:"delete-cliente-response",children:Object(T.jsxs)("div",{className:"user-header-action flex justify-between gap-2",children:[Object(T.jsx)("button",{className:" bg-red-600 shadow-md rounded-full hover:bg-red-700 ",onClick:function(e){c(function(e){return console.log(e),function(){var t=Object(j.a)(d.a.mark((function t(s){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("users/".concat(e),[],"DELETE");case 3:return a=t.sent,console.log(a),t.next=7,a.json();case 7:c=t.sent,console.log(c),c.status===h.a.statusSuccess?M.fire({icon:"success",title:"Cliente Borrado con exito"}):m.a.fire("error",c.message,"error"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),m.a.fire("error",t.t0,"error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(B)),document.querySelector(".delete-client-box").classList.toggle("active"),setTimeout((function(){s.push("/clients")}),500)},children:"SI"}),Object(T.jsx)("button",{onClick:le,className:" bg-gray-800 shadow hover:bg-gray-900 rounded-full ",children:"NO"})]})})]})]})]}),Object(T.jsx)("div",{className:"user-setting m-auto my-2 w-10/12 m-1 ",children:Object(T.jsxs)("div",{className:"flex justify-between   shadow ",children:[Object(T.jsx)("div",{className:"one-user-option bg-pink-700 w-60 bg-gradient-to-r from-pink-400 to-pink-500 rounded-l",children:Object(T.jsxs)("ul",{className:"mt-10 sticky top-14",children:[Object(T.jsx)("li",{className:"menu-item my-2 ",children:Object(T.jsx)("a",{className:"hover:bg-pink-300  hover:border-l-4  hover:border-gray-100 p-2 ",href:"#misdatos",children:Object(T.jsx)("span",{className:"title",children:"Mis Datos"})})}),Object(T.jsx)("li",{className:"menu-item my-2  ",children:Object(T.jsx)("a",{className:"hover:bg-pink-300  hover:border-l-4  hover:border-gray-100 p-2 ",href:"#cambiarcontrase\xf1a",children:Object(T.jsx)("span",{className:"title",children:"Cambiar Contrase\xf1a"})})}),Object(T.jsx)("li",{className:"menu-item my-2  ",children:Object(T.jsx)("a",{className:"hover:bg-pink-300  hover:border-l-4  hover:border-gray-100 p-2 ",href:"#mistrabajos",children:Object(T.jsx)("span",{className:"title",children:"Mis Trabajos"})})})]})}),Object(T.jsxs)("div",{className:"user-info w-full rounded-r p-2 w-9/12 m-auto bg-white",children:[Object(T.jsx)("div",{id:"misdatos",className:"m-auto mt-3 w-9/12",children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(!0),de()?(c(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var c,n;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u("users/".concat(t),e,"PATCH");case 3:return c=s.sent,s.next=6,c.json();case 6:(n=s.sent).status===h.a.statusSuccess?(a(F(n.data.user)),M.fire({icon:"success",title:"Cliente editado con exito!!!"})):M.fire({icon:"error",title:n.msg}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),M.fire({icon:"error",title:s.t0});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}(H,B)),document.querySelector(".edit-client").classList.toggle("active")):console.log(p),E(!1)},className:"",children:[Object(T.jsx)("span",{onClick:function(e){document.querySelector(".edit-client").classList.toggle("active"),$()},className:"close absolute right-2 top-2",children:Object(T.jsx)("i",{className:"fas fa-times-circle p-2 bg-red-500 hover:bg-red-700 text-white rounded-full shadow-md cursor-pointer"})}),Object(T.jsxs)("div",{className:"form-grid",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Nombre Cliente ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:U,value:V,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),p.name?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["DNI ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:U,value:J,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),p.dni?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Correo"}),Object(T.jsx)("input",{className:"shadow",onChange:U,value:se,type:"email",name:"email",placeholder:"Ingrese su correo electronico"}),p.email?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Telefono 1 ",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:U,value:X,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),p.phone1?Object(T.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Telefono 2"}),Object(T.jsx)("input",{onChange:U,value:K,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Direcci\xf3n"}),Object(T.jsx)("input",{className:"shadow",onChange:U,value:Z,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Nota"}),Object(T.jsx)("input",{className:"shadow",onChange:U,value:te,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(T.jsx)("br",{}),Object(T.jsx)("div",{className:"flex justify-end my-2",children:Object(T.jsx)("button",{disabled:C,className:" w-40 rounded-full bg-green-600 hover:bg-green-700 ",type:"submit",children:C?"Guardando... ":"Guardar Cambios"})})]})}),Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Y(!0),oe()?(c(g(H)),$()):console.log(p),Y(!1)},id:"cambiarcontrase\xf1a",className:"update-password-form w-9/12 m-auto",children:[Object(T.jsx)("label",{children:"Actual contrase\xf1a"}),Object(T.jsx)("input",{value:ae,onChange:U,type:"password",name:"currentPassword",placeholder:"********"}),p.currentPassword?Object(T.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingresa su contrase\xf1a vieja"," "]}):null," ",Object(T.jsx)("label",{children:"Contrase\xf1a"}),Object(T.jsx)("input",{value:ce,onChange:U,type:"password",name:"password",placeholder:"********"}),p.password?Object(T.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingrese una nueva contrase\xf1a"," "]}):null," ",Object(T.jsx)("label",{children:"Confirma Contrase\xf1a"}),Object(T.jsx)("input",{value:ne,onChange:U,type:"password",name:"passwordConfirm",placeholder:"********"}),p.passwordConfirm?Object(T.jsx)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:"Las contrase\xf1as no coinciden"}):null," ",Object(T.jsx)("br",{}),Object(T.jsx)("div",{className:"flex justify-end my-7",children:Object(T.jsx)("button",{className:"w-44 rounded-full bg-green-600 hover:bg-green-700",type:"submit",children:_?Object(T.jsx)(ee,{size:"small",text:""}):"Cambiar Contrase\xf1a"})})]}),Object(T.jsx)("div",{className:"my-3 w-10/12 m-auto p-1 text-2Xl bg-white text-gray-800 shadow",children:Object(T.jsxs)("span",{children:["TOTAL TRABAJOS : ",re.length]})}),Object(T.jsxs)("div",{id:"mistrabajos",className:"works-grid-client grid grid-cols-4 m-auto w-10/12",children:[re.length>0?o?Object(T.jsx)(ee,{}):re.map((function(e){return Object(T.jsx)(xe,{setIdChange:A,idChange:L,work:e},e._id)})):Object(T.jsxs)("div",{className:"no-result bg-white p-1 text-center",children:[Object(T.jsxs)("h1",{className:"no-works",children:[Object(T.jsxs)("span",{children:[null===G||void 0===G?void 0:G.name," "]}),"nunca hizo un trabajo..."]}),Object(T.jsx)("i",{class:"fas fa-sad-tear text-red-600 text-3xl"})]}),Object(T.jsx)("div",{className:"bg-gray-200 add-work-user shadow rounded hover:bg-gray-300 hover:shadow-lg",children:Object(T.jsx)(i.b,{to:"/work/add#".concat(null===G||void 0===G?void 0:G._id),className:"flex justify-center items-center h-full text-pink-500",children:Object(T.jsx)("i",{class:"fas fa-plus-circle duration-800"})})})]}),(null===G||void 0===G?void 0:G._id)===N&&Object(T.jsx)(i.b,{className:"text-green-600",to:"/user/update-password",children:"Cambiar contrase\xf1a"})]})]})}),Object(T.jsxs)("div",{className:"modal-client-img hidden absolute z-10 bg-gray-600 w-full bg-opacity-50 place-content-center max-h-auto min-h-screen flex justify-center items-center top-0 left-0",children:[Object(T.jsx)("div",{onClick:ie,className:"overlay  absolute h-full w-full top-0 left-0"}),Object(T.jsx)("div",{id:"img-client",className:"flex justify-center  items-center",children:Object(T.jsx)("img",{className:"max-w-lg z-20 border-2 border-bg-red-200",alt:"logo user",src:Q})}),Object(T.jsx)("span",{onClick:ie,className:"absolute text-center flex justify-center items-center text-right top-10 right-10 h-10 w-10 rounded-full bg-white shadow-md p-1 cursor-pointer",children:Object(T.jsx)("i",{class:"far fa-times-circle text-3xl text-red-300"})})]})]})},Oe=function(e){var t=e.username,s=e.width,a="";switch(Math.floor(6*Math.random())){case 1:a="green-500";break;case 2:a="yellow-300";break;case 3:a="red-400";break;case 4:a="gray-500";break;case 5:a="pink-500";break;default:a="blue-300"}return Object(T.jsx)("div",{className:"avatar-default bg-"+a,style:{width:s},children:Object(T.jsx)("span",{className:"letter",children:t[0]})})},pe=function(e){var t=e.client;return Object(T.jsxs)(i.b,{to:"clients/".concat(t._id),className:"user",children:[Object(T.jsx)("div",{className:"img-user",children:(null===t||void 0===t?void 0:t.pathImg)&&"htt"===t.pathImg.slice(0,3)?Object(T.jsx)("img",{className:"rounded-full w-24 h-24 shadow-md border-2",src:null===t||void 0===t?void 0:t.pathImg,alt:null===t||void 0===t?void 0:t.name}):Object(T.jsx)(Oe,{username:null===t||void 0===t?void 0:t.name})}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"user-info",children:[Object(T.jsx)("h4",{className:"capitalize",children:t.name}),Object(T.jsx)("h4",{className:"capitalize",children:t.dni})]})]})},ve=function(){var e=Object(r.b)(),t=Object(a.useState)(""),s=Object(k.a)(t,2),c=s[0],n=s[1],l=Object(a.useState)([]),o=Object(k.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(!0),u=Object(k.a)(b,2),h=u[0],x=u[1];Object(a.useEffect)((function(){x(!0),e(q()),x(!1)}),[e]);var m=Object(r.c)((function(e){return e.clients})).clients;Object(a.useEffect)((function(){x(!0),j(m.filter((function(e){return e.dni.includes(c)||e.name.toLowerCase().includes(c.toLowerCase())}))),x(!1)}),[c,m]);return Object(T.jsxs)("div",{className:"users",children:[Object(T.jsx)("span",{className:"title-header",children:"Clientes"}),Object(T.jsx)("div",{className:"add-client-flotante",children:Object(T.jsx)(i.b,{to:"/client/add",children:Object(T.jsx)("i",{class:"fas fa-plus-circle"})})}),m.length>=10&&Object(T.jsxs)("div",{className:"box-search relative",children:[Object(T.jsxs)("div",{className:"users-filter hidden",children:[Object(T.jsx)("h3",{children:"FIltro de Cliente"}),Object(T.jsx)("span",{children:"Buscar Cliente por nombre y/o DNI"})]}),Object(T.jsxs)("div",{className:"search-box-userworks bg-gray-800 ",children:[Object(T.jsx)("form",{className:"w-full",children:Object(T.jsx)("input",{value:c,onChange:function(e){return n(e.target.value)},placeholder:"Buscar cliente por nombre o dni...",name:"searchClient",type:"text",autoComplete:"off",className:"text-gray-900",id:"searchClientInput"})}),Object(T.jsx)("i",{onClick:function(){n(""),j([])},class:"fas fa-times cursor-pointer duration-500 text-gray-600  right-3 bg-gray-100 hover:text-white hover:bg-red-500"})]})]}),c.length>0&&0===d.length&&Object(T.jsx)("div",{className:"message-result-empty   bg-red-500 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),h?Object(T.jsx)(ee,{}):d.length>0?Object(T.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:d.map((function(e){return Object(T.jsx)(pe,{client:e},e._id)}))}):m.length>0?Object(T.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:m.map((function(e){return Object(T.jsx)(pe,{client:e},e._id)}))}):Object(T.jsxs)("div",{className:"no-cliente",children:[Object(T.jsx)("span",{className:"text-center text-2xl",children:"No hay cliente por el momento"}),Object(T.jsx)(i.b,{to:"/client/add",className:"btn add-client text-white p-3",children:"Agregar Cliente"})]})]})},ge=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("state");case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(e){var t=e.history,s=e.refresh,c=e.setRefresh,n=Object(r.b)();Object(a.useEffect)((function(){n(q())}),[n]);var i=Object(r.c)((function(e){return e.clients})).clients,l=(Object(r.c)((function(e){return e.auth})).uid,Object(a.useState)([])),o=Object(k.a)(l,2),b=o[0],x=o[1],O=Object(a.useState)(!1),p=Object(k.a)(O,2),v=p[0],g=p[1],f=Object(a.useState)(!1),N=Object(k.a)(f,2),w=N[0],y=N[1],C=Object(a.useState)(!1),E=Object(k.a)(C,2),D=E[0],I=E[1],L=Object(a.useState)(!1),A=Object(k.a)(L,1)[0],P=Object(a.useState)(!1),M=Object(k.a)(P,1)[0],_=Object(a.useState)(""),R=Object(k.a)(_,2),Y=R[0],B=R[1],F=Object(a.useState)([]),G=Object(k.a)(F,2),z=G[0],W=G[1],H=Object(a.useState)(!1),V=Object(k.a)(H,2),J=V[0],X=V[1],K=Object(a.useState)(null);Object(k.a)(K,1)[0];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:t=e.sent,W(t.data.states);case 4:case"end":return e.stop()}}),e)}))),[W]);var Q=S({marca:"",modelo:"",emei:"",estado:"",precio:0,descuento:0,fachasEncontradas:"",observaciones:"",descripcion:"",recargo:0,cliente:"",fechaFin:null,tieneContrasena:A,esPatron:M,contrasena:"",patron:"",total:0}),Z=Object(k.a)(Q,3),ee=Z[0],te=Z[1],se=Z[2],ae=ee.marca,ce=ee.modelo,ne=ee.emei,re=ee.estado,ie=ee.precio,le=ee.descuento,oe=ee.fachasEncontradas,de=ee.descripcion,je=ee.observaciones,be=ee.recargo,ue=ee.cliente,he=ee.esPatron,xe=ee.tieneContrasena,me=ee.contrasena,Oe=ee.patron,pe=function(){var e=!0,t=[];return ae&&0!==ae.trim().length||(e=!1,t.marca=!0),ce&&0!==ce.trim().length||(e=!1,t.modelo=!0),ue||(e=!1,t.cliente=!0),re||(e=!1,t.estado=!0),je&&0!==je.trim().length||(e=!1,t.observaciones=!0),xe&&(he||0!==me.length?g(!1):(g(!0),e=!1)),he&&(0===Oe.length?(g(!0),e=!1):g(!1)),x(t),!!e};return Object(T.jsxs)("div",{className:"work-add",children:[Object(T.jsx)("h3",{children:"Agregar Trabajo"}),Object(T.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),X(!0),pe()?(n((a=ee,function(){var e=Object(j.a)(d.a.mark((function e(t){var s,c,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=parseInt(a.precio),c=s*parseInt(a.descuento)/100,n=s*a.recargo/100,a.total=s+n-c,e.next=7,u("works",a,"POST");case 7:return r=e.sent,e.next=10,r.json();case 10:(i=e.sent).status===h.a.statusSuccess?U.fire({icon:"success",title:"Se agreg\xf3 con exito el trabajo!!!"}):U.fire({icon:"error",title:i.message}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),m.a.fire("error","Hubo un fallo al hacer la petition...","error");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())),se(),n($()),c(!s),t.push("/works")):(console.log(b),console.log(ee)),X(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(T.jsxs)("div",{className:"grid-content",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Marca",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:te,value:ae,type:"text",name:"marca",placeholder:"ingresa la marca"}),b.marca?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Modelo",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:te,value:ce,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),b.modelo?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Cliente",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"text",value:ue,onChange:te,name:"cliente",list:"clientes",placeholder:"ingresa nombre o dni "}),Object(T.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),i.map((function(e){return Object(T.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),b.cliente?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Estado",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsxs)("select",{value:re,onChange:te,name:"estado",children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),z.map((function(e){return Object(T.jsxs)("option",{value:e._id,children:[" ",e.name," "]},e._id)}))]}),b.estado?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Emei / Serie"}),Object(T.jsx)("input",{onChange:te,value:ne,type:"text",name:"emei",placeholder:"ingrese el email "})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"recargo"}),Object(T.jsx)("input",{value:be,onChange:te,type:"text",name:"recargo",placeholder:"ingresa el % de recargo ",min:0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"precio"}),Object(T.jsx)("input",{value:ie,onChange:te,type:"text",name:"precio",placeholder:"ingresa un precio ",min:0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"descuento"}),Object(T.jsx)("input",{onChange:te,type:"text",name:"descuento",value:le,placeholder:"ingresa el % de descuento ",min:0})]})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Observaciones",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("textarea",{value:je,onChange:te,placeholder:"ingresa sintomas ",name:"observaciones",children:" "}),b.observaciones?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(T.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(T.jsx)("textarea",{value:oe,onChange:te,name:"fachasEncontradas",placeholder:"(opcional )ingresa los problemas detectadas despues de la Revisi\xf3n  "}),Object(T.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(T.jsx)("textarea",{value:de,onChange:te,placeholder:"(opcional )Menciona los arreglos hechos ",name:"descripcion"})]}),Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(T.jsx)("input",{onClick:function(e){e.target.checked?(y(!0),ee.tieneContrasena=!0):(y(!1),ee.tieneContrasena=!1,ee.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(T.jsx)("br",{}),w&&Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{className:"flex items-center mb-1",children:[Object(T.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(T.jsx)("input",{onClick:function(e){e.target.checked?(I(!0),ee.esPatron=!0,ee.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(ee.contrasena="",ee.patron="",B(""),I(!1),ee.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(T.jsxs)("div",{id:"input-password",children:[Object(T.jsxs)("label",{children:["Contrase\xf1a ",Object(T.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(T.jsx)("input",{value:me,onChange:te,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(T.jsx)("br",{}),D&&Object(T.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(T.jsx)("button",{type:"button",onClick:function(e){B(Y+e.target.textContent),ee.patron=Y+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),v?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(T.jsx)("br",{}),D?Object(T.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:Y}):null,Object(T.jsx)("button",{className:"btn",type:"submit",children:J?"Espere...":"  Agregar Trabajo"})]})]})},Ne=function(e){var t,s,c,n,l=e.match,o=e.history,b=Object(r.b)(),h=Object(a.useState)(200),x=Object(k.a)(h,2),O=x[0],p=x[1],v=Object(r.c)((function(e){return e.auth})).role,g=Object(a.useState)([]),f=Object(k.a)(g,2),N=(f[0],f[1]),w=Object(a.useState)([]),y=Object(k.a)(w,2),C=(y[0],y[1],Object(a.useState)([])),S=Object(k.a)(C,2),E=(S[0],S[1]),D=Object(a.useState)(!1),I=Object(k.a)(D,2),L=(I[0],I[1],l.params.workId);Object(a.useEffect)((function(){b(V(L))}),[b,L]),Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:t=e.sent,N(t.data.states);case 4:case"end":return e.stop()}}),e)}))),[N]);var A=Object(r.c)((function(e){return e.works})).work;Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===A||void 0===A?void 0:A.states.length)<=0)){e.next=8;break}return e.next=3,u("work_state/getStates/".concat(L));case 3:return t=e.sent,e.next=6,t.json();case 6:(s=e.sent).ok&&E(s.workState.state);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]);var P="";switch(null===A||void 0===A?void 0:A.estado.name){case"Revision":P="text-red-700";break;case"Presupuesto":P="text-gray-400";break;case"En Reparaci\xf3n":P="text-yellow-500";break;case"Terminado":P="text-green-200";break;default:P="text-green-500"}return Object(T.jsxs)("div",{className:"one-work relative",children:[Object(T.jsxs)("div",{className:"absolute text-center uppercase flex gap-2  ",children:[Object(T.jsx)("button",{onClick:function(){o.goBack()},className:"text-white w-8 h-8 bg-gray-600 p-1 rounded-full hover:bg-gray-800 ",children:Object(T.jsx)("i",{class:"fas fa-arrow-circle-left"})}),"user"!==v&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(i.b,{to:"/work/edit/".concat(L),className:"text-white bg-pink-600 p-1 w-8 h-8 rounded-full hover:bg-pink-800  ",children:Object(T.jsx)("i",{class:"fas fa-edit"})}),Object(T.jsx)("button",{onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el trabajo definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&(b(J(L)),o.push("/works"))}))},className:"text-white w-8 h-8 bg-red-600 p-1 rounded-full hover:bg-red-800 ",children:Object(T.jsx)("i",{class:"fas fa-trash"})})]})]}),Object(T.jsxs)("div",{className:"one-work-grid",children:[Object(T.jsx)("i",{className:" fas fa-mobile-alt flex justify-center items-center "+P}),Object(T.jsxs)("div",{className:"one-work-body grid grid-cols-2 grid-rows-2 gap-2",children:[Object(T.jsxs)("div",{className:"work-data shadow rounded bg-gray-700 text-white p-1",children:[Object(T.jsxs)("p",{children:["Codigo : ",null===A||void 0===A?void 0:A.codigo," "]}),Object(T.jsxs)("p",{children:["Marca : ",null===A||void 0===A?void 0:A.marca," "]}),Object(T.jsxs)("p",{children:["Modelo : ",null===A||void 0===A?void 0:A.modelo]}),Object(T.jsxs)("p",{children:["Imei : ",null===A||void 0===A?void 0:A.emei]}),Object(T.jsxs)("p",{children:["Estado:",null===A||void 0===A?void 0:A.estado.name]}),(null===A||void 0===A?void 0:A.tieneContrasena)&&Object(T.jsxs)("p",{children:["Contrase\xf1a : ",null===A||void 0===A?void 0:A.contrasena]})]}),(null===A||void 0===A?void 0:A.cliente)?Object(T.jsxs)("div",{className:"client-data rounded shadow bg-pink-500 p-1",children:[Object(T.jsx)("img",{className:"rounded-full h-12 w-12",src:Q,alt:"logo user"}),Object(T.jsxs)("p",{children:["Cliente :"," ",Object(T.jsxs)(i.b,{className:"underline text-white",to:"/clients/".concat(null===A||void 0===A||null===(t=A.cliente)||void 0===t?void 0:t._id),children:[" ",null===A||void 0===A||null===(s=A.cliente)||void 0===s?void 0:s.name," "]})]}),Object(T.jsxs)("p",{children:["DNI : ",null===A||void 0===A||null===(c=A.cliente)||void 0===c?void 0:c.dni]}),Object(T.jsxs)("p",{children:["Celular 1 : ",null===A||void 0===A||null===(n=A.cliente)||void 0===n?void 0:n.phone1]})]}):Object(T.jsx)("div",{className:"cliente-no-existe flex justify-center items-center text-white text-center client-data rounded shadow bg-pink-700",children:Object(T.jsxs)("h3",{children:["Cliente no encontrado... ",Object(T.jsx)("br",{}),"Puede ser que se haya borrado anteriormente."]})}),Object(T.jsxs)("div",{className:"price-data rounded shadow bg-blue-400 p-1",children:[Object(T.jsxs)("p",{children:["Precio: ",null===A||void 0===A?void 0:A.precio]}),Object(T.jsxs)("p",{children:["Pecargo: ",null===A||void 0===A?void 0:A.recargo]}),Object(T.jsxs)("p",{children:["descuento: ",null===A||void 0===A?void 0:A.descuento]}),Object(T.jsxs)("p",{children:["Total: ",null===A||void 0===A?void 0:A.total]})]}),Object(T.jsxs)("div",{className:"price-data rounded shadow bg-red-400 p-1",children:[Object(T.jsx)("span",{className:"text-white text-lg underline",children:"Historiales de Estados "}),Object(T.jsx)("ol",{children:null===A||void 0===A?void 0:A.states.map((function(e){return Object(T.jsx)("li",{children:e.nombre+" - "+H()(e.fecha).format("DD-MM-YY HH:mm:ss")})}))})]}),(null===A||void 0===A?void 0:A.fachasEncontradas)&&Object(T.jsx)("div",{className:"trouble-data rounded shadow bg-green-400 p-1",children:Object(T.jsxs)("p",{children:["facha(s) Encontradas : ",null===A||void 0===A?void 0:A.fachasEncontradas]})}),(null===A||void 0===A?void 0:A.observaciones)&&Object(T.jsx)("div",{className:"trouble-data transition duration-1000 ease-in-out rounded shadow bg-yellow-400 p-1",children:Object(T.jsxs)("p",{className:"transition duration-1000 ease-in-out",children:["Observaciones : ",Object(T.jsx)("br",{})," ",null===A||void 0===A?void 0:A.observaciones.slice(0,O),(null===A||void 0===A?void 0:A.observaciones.length)>200?Object(T.jsx)("span",{onClick:function(e){p(null===A||void 0===A?void 0:A.observaciones.length),e.target.classList.add("hidden"),document.querySelector(".ver-menos").classList.remove("hidden")},className:"ver-mas cursor-pointer text-white duration-500",children:"...Ver M\xe1s"}):null,Object(T.jsx)("span",{onClick:function(e){p(200),e.target.classList.add("hidden"),document.querySelector(".ver-mas").classList.remove("hidden")},className:"ver-menos cursor-pointer text-pink-400 duration-500 hidden",children:"...Ver Menos"})]})}),(null===A||void 0===A?void 0:A.descripcion)&&Object(T.jsx)("div",{className:"trouble-data rounded-md bg-pink-400 p-1",children:Object(T.jsxs)("p",{children:["descripcion : ",Object(T.jsx)("br",{})," ",null===A||void 0===A?void 0:A.descripcion]})}),Object(T.jsx)(i.b,{to:"/works/order/".concat(L),className:"bg-gray-800 flex justify-center items-center text-white text-center shadow rounded ",children:"GENERAR PDF"})]})]}),(null===A||void 0===A?void 0:A.esPatron)&&Object(T.jsxs)("div",{className:"patron grid grid-cols-2 p-2 shadow my-2",children:[Object(T.jsx)("div",{className:"text-green-500 text-4xl text-center flex justify-center items-center",children:null===A||void 0===A?void 0:A.patron}),Object(T.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(T.jsx)("button",{type:"button",className:(null===A||void 0===A?void 0:A.patron.includes(e))?"bg-green-700  w-8 h-8 flex justify-center items-center hover:bg-green-400 duration-600 ":"bg-gray-200  w-8 h-8 flex justify-center items-center hover:bg-green-400  duration-600",children:e},e)}))})]}),"user"!==v&&Object(T.jsxs)("div",{className:"update-state",children:[Object(T.jsx)("button",{className:"bg-gray-400 hover:bg-gray-600",children:"Presupuesto"}),Object(T.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-600",children:"Terminado"}),Object(T.jsx)("button",{className:"bg-green-300 hover:bg-green-400",children:"Reparaci\xf3n"}),Object(T.jsx)("button",{className:"bg-green-500 hover:bg-green-700",children:"Entregado"})]})]})},we=function(e){var t=e.history,s=Object(r.b)(),c=S({estado:""}),n=Object(k.a)(c,2),l=n[0],o=n[1],b=l.estado,u=Object(a.useState)(""),h=Object(k.a)(u,2),x=h[0],m=h[1],O=Object(a.useState)(!0),p=Object(k.a)(O,2),v=p[0],g=p[1],f=Object(a.useState)([]),N=Object(k.a)(f,2),w=N[0],y=N[1],C=Object(a.useState)(null),E=Object(k.a)(C,2),D=E[0],I=E[1],L=Object(a.useState)(50),A=Object(k.a)(L,2),P=A[0],M=A[1],q=Object(a.useState)(1),_=Object(k.a)(q,2),R=_[0],Y=_[1],B=Object(a.useState)([]),F=Object(k.a)(B,2);F[0],F[1];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s($(P,R)),y([]),g(!1);case 3:case"end":return e.stop()}}),e)}))),[s,P,R,g,v]);var G=Object(r.c)((function(e){return e.works})),z=G.works,W=G.total,H=G.page,U=G.results;Object(a.useEffect)((function(){y("Todos"===b||""===b?z:z.filter((function(e){return e.estado.name===b})))}),[b]),console.log(w,z),Object(a.useEffect)((function(){y(""!==x?z.filter((function(e){return e.codigo.includes(x)})):[])}),[x]);for(var V=[],J=1;J<=H;J++)V.push(J);return Object(T.jsxs)("div",{className:"works ",children:[Object(T.jsxs)("div",{className:"limit-total-results search-box-all-works",children:[Object(T.jsxs)("span",{className:"total-results bg-white shadow text-gray-900 p-1",children:[U," / ",W]}),Object(T.jsxs)("div",{className:"page-filter flex items-center",children:[Object(T.jsx)("input",{type:"text",placeholder:"pagina",className:"w-8 h-8  bg-white ",onChange:function(e){Y(e.target.value)},value:R}),Object(T.jsxs)("div",{className:"note-page-filter flex text-center justify-center curso-pointer  items-center border-l border-t-0 border-r-0 border-gray-800  bg-white rounde note w-8 h-8",children:[Object(T.jsx)("i",{children:"?"}),Object(T.jsx)("span",{className:"absolute shadow-md bg-white p-1 top-0 left-7 hidden  ",children:"Indica la pagina que quieres acceder"})]})]}),Object(T.jsx)("div",{className:"overflow-hidden  my-1 ",children:Object(T.jsxs)("form",{className:"flex w-full flex-wrap lg:justify-center gap-y-2 flex-col sm:flex-row md:justify-between items-center sm:gap-x-2",children:[Object(T.jsxs)("select",{className:" shadow  sm:w-min w-full",name:"estado",onChange:o,value:b,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Filtrar por estado"}),["Revision","Presupuesto","En Reparacion","Terminado","Entregado","Todos"].map((function(e){return Object(T.jsx)("option",{value:e,children:e},e)}))]}),Object(T.jsx)("input",{name:"codigo",className:"shadow   sm:w-min w-full",value:x,onChange:function(e){m(e.target.value)},placeholder:"Buscar codigo de trabajo",type:"text"})]})}),Object(T.jsxs)("div",{className:"limit-box",children:[Object(T.jsx)("span",{children:"Limit"}),Object(T.jsxs)("select",{className:"",name:"limit",onChange:function(e){M(e.target.value),Y(1)},value:P,children:[Object(T.jsx)("option",{value:"10",children:"10"}),Object(T.jsx)("option",{value:"20",children:"20"}),Object(T.jsx)("option",{value:"30",children:"30"}),Object(T.jsx)("option",{value:"40",children:"40"}),Object(T.jsx)("option",{value:"50",children:"50"})]})]})]}),Object(T.jsx)("div",{className:"add-client-flotante",children:Object(T.jsx)(i.b,{to:"/work/add",children:Object(T.jsx)("i",{class:"fas fa-plus-circle"})})}),0===w.length&&Object(T.jsx)("div",{className:"message-result-empty hidden  bg-red-500 text-gray-100 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),v?Object(T.jsx)(ee,{}):Object(T.jsx)("div",{className:"works-grid p-1",children:w.length<=0?z.map((function(e){return Object(T.jsx)(se,{history:t,work:e},e._id)})):w.map((function(e){return Object(T.jsx)(se,{idChange:D,setIdChange:I,work:e},e._id)}))}),Object(T.jsx)("div",{className:"pagination",children:Object(T.jsxs)("ul",{className:"pagination-list",children:[Object(T.jsx)("li",{onClick:function(){R>0&&Y(R-1)},className:"pagination-item-previous cursor-pointer mr-2 hover:text-green-700",children:Object(T.jsx)("i",{class:"fas fa-angle-left p-2 rounded-full shadow w-8 h-8 text-2xl text-white flex items-center bg-blue-600 hover:shadow-md hover:bg-red-700 "})}),[1,2,3,4].map((function(e){return Object(T.jsx)("li",{className:"pagination-item",onClick:function(){return Y(e)},children:e},e)})),Object(T.jsx)("li",{children:"..."}),Object(T.jsx)("li",{className:"pagination-item",onClick:function(){return Y(Math.ceil(V[V.length-1]/2))},children:Math.ceil(V[V.length-1]/2)},Math.ceil(V[V.length-1]/2)),Object(T.jsx)("li",{children:"..."}),Object(T.jsx)("li",{className:"pagination-item",onClick:function(){return Y(V[V.length-1])},children:V[V.length-1]},V[V.length-1]),Object(T.jsx)("li",{onClick:function(){R<H&&Y(R+1)},className:"pagination-item-next cursor-pointer ml-2 hover:text-pink-700",children:Object(T.jsx)("i",{class:"fas fa-angle-right  p-2 rounded-full shadow w-8 h-8 text-2xl text-white flex items-center bg-blue-600 hover:shadow-md hover:bg-red-700"})})]})})]})},ke=function(e){var t,s=e.work;return Object(T.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:text-white hover:bg-gray-800 duration-900 shadow cursor-pointer",children:[Object(T.jsx)("td",{className:"text-green-500 flex-1 hover:text-green-400 hover:underline",children:Object(T.jsx)(i.b,{to:"/works/".concat(null===s||void 0===s?void 0:s._id),children:null===s||void 0===s?void 0:s.codigo})}),Object(T.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.marca)+" - "+s.modelo}),Object(T.jsx)("td",{className:"flex-1 p-2 capitalize",children:null===s||void 0===s||null===(t=s.cliente)||void 0===t?void 0:t.name}),Object(T.jsx)("td",{className:"flex-1 p-2",children:"$ "+(null===s||void 0===s?void 0:s.total)}),Object(T.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.fechaFin)?H()(null===s||void 0===s?void 0:s.fechaFin).format("DD-MM-YYYY"):"--"})]})},ye=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),Ce=function(e){var t=e.gasto,s=e.setOutGoingChange,a=e.outGoingChange,c=function(){var e=Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("outgoings/".concat(t._id),[],"DELETE");case 2:return c=e.sent,e.next=5,c.json();case 5:"success"===e.sent.status&&(s(!a),ye.fire({icon:"success",title:"Gasto borrado con exito"}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:bg-gray-300 duration-300 shadow cursor-pointer",children:[Object(T.jsx)("td",{className:"",children:H()(null===t||void 0===t?void 0:t.date).format("DD-MM-yyyy")}),Object(T.jsx)("td",{className:"flex-1 p-2",children:t.description}),Object(T.jsxs)("td",{className:"flex-1 p-2 text-red-600",children:["- $ ",t.amount," "]}),Object(T.jsx)("td",{className:"flex-1 p-2 text-red-600",children:Object(T.jsx)("i",{onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el gasto definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&c()}))},class:"fas fa-trash p-2 shadow  rounded-full text-white bg-red-800 hover:shadow-md hover:bg-red-600 hover:p-3"})})]})},Se=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),Ee=H()(new Date).format("YYYY-MM-DD"),Te=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(Ee),r=Object(k.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(Ee),b=Object(k.a)(o,2),h=b[0],x=b[1],m=Object(a.useState)([]),O=Object(k.a)(m,2),p=O[0],v=O[1],g=Object(a.useState)(!0),f=Object(k.a)(g,2),N=f[0],w=f[1],y=Object(a.useState)([]),C=Object(k.a)(y,2),E=C[0],D=C[1],I=Object(a.useState)([]),L=Object(k.a)(I,2),A=L[0],P=L[1],M=Object(a.useState)(!1),q=Object(k.a)(M,2),_=q[0],R=q[1],Y=S({description:"",amount:0}),B=Object(k.a)(Y,3),F=B[0],G=B[1],z=B[2],W=F.description,U=F.amount;Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("works/historialWork/all");case 2:return t=e.sent,e.next=5,t.json();case 5:"success"===(s=e.sent).status&&c(s.data.data),w(!1);case 8:case"end":return e.stop()}}),e)}))),[]);var $=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("outgoings");case 2:return t=e.sent,e.next=5,t.json();case 5:"success"===(s=e.sent).status&&D(s.data.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[_]);Object(a.useEffect)((function(){v(s.filter((function(e){return H()(H()(e.fechaFin).format("YYYY-MM-DD")).isSameOrAfter(i)&&H()(H()(e.fechaFin).format("YYYY-MM-DD")).isSameOrBefore(h)}))),P(E.filter((function(e){return H()(H()(e.date).format("YYYY-MM-DD")).isSameOrAfter(i)&&H()(H()(e.date).format("YYYY-MM-DD")).isSameOrBefore(h)})))}),[i,h]);var V=0,J=0;p.length>0&&p.map((function(e){J+=e.total})),s&&s.length>0&&s.map((function(e){V+=e.total}));var X=0,K=0;A.length>0&&A.map((function(e){K+=e.amount})),E&&E.length>0&&E.map((function(e){X+=e.amount}));var Q=function(e){document.querySelector(".add-outgoing-box").classList.toggle("active")},Z=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!=W&&""!=U&&W.length<50)){e.next=11;break}return e.next=4,u("outgoings",F,"POST");case 4:return s=e.sent,e.next=7,s.json();case 7:"success"===(a=e.sent).status?(Se.fire({icon:"success",title:"Gasto agregado con exito..."}),z(),Q(),$()):Se.fire({icon:"error",title:a.message}),e.next=11;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){document.querySelector(".gastos").classList.toggle("active")},se=function(){document.querySelector(".work-entregados").classList.toggle("active")};return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"add-outgoing-box",children:[Object(T.jsx)("div",{className:"add-outgoing-overlay",onClick:Q}),Object(T.jsxs)("div",{className:"outgoing-content shadow",children:[Object(T.jsxs)("div",{className:"outgoing-header bg-green-700",children:[Object(T.jsx)("span",{children:"Agregar Gasto"}),Object(T.jsx)("i",{onClick:Q,className:"fas fa-times-circle"})]}),Object(T.jsx)("div",{className:"outgoing-body",children:Object(T.jsxs)("form",{onSubmit:Z,children:[Object(T.jsxs)("fieldset",{children:[Object(T.jsx)("label",{htmlFor:"description",children:"Descripcion"}),Object(T.jsx)("input",{type:"text",name:"description",onChange:G,value:W})]}),Object(T.jsxs)("fieldset",{children:[Object(T.jsx)("label",{htmlFor:"amount",children:"Costo"}),Object(T.jsx)("input",{type:"number",name:"amount",onChange:G,value:U})]}),Object(T.jsxs)("fieldset",{className:"outgoing-actions",children:[Object(T.jsx)("button",{className:"shadow rounded bg-green-800",type:"submit",children:"Agregar"}),Object(T.jsx)("button",{className:"shadow rounded bg-gray-800",type:"button",children:"Cancelar"})]})]})})]})]}),Object(T.jsx)("span",{className:"title-header",children:"historiales Trabajos/Gastos"}),Object(T.jsxs)("div",{className:"search search-histories p-3 mt-2  sticky bg-white",children:[Object(T.jsx)("h1",{className:"text-4xl text-green-500 mb-1  p-1 ",children:"Filtrar"}),Object(T.jsxs)("div",{className:"flex box-input-filter mb-2 justify-between gap-1",children:[Object(T.jsxs)("div",{className:"flex-grow relative",children:[Object(T.jsx)("div",{className:"start-day capitalize text-green-400 text-2xl",children:"fecha Inicio"}),Object(T.jsx)("div",{className:"relative",children:Object(T.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:i,onChange:function(e){l(e.target.value)}})})]}),Object(T.jsxs)("div",{className:"flex-grow relative",children:[Object(T.jsx)("div",{className:"end-day capitalize text-green-400 text-2xl",children:"fecha Fin"}),Object(T.jsx)("div",{className:"relative",children:Object(T.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:h,onChange:function(e){x(e.target.value)}})})]})]})]}),N?Object(T.jsx)(ee,{}):p.length>0?Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(T.jsx)("span",{children:"Trab. Entregados"}),Object(T.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(T.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(T.jsx)("thead",{className:"bg-green-300 p-3",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Codigo"}),Object(T.jsx)("th",{children:"Marca/Modelo"}),Object(T.jsx)("th",{children:"Cliente"}),Object(T.jsx)("th",{children:"Monto"}),Object(T.jsx)("th",{children:"Fecha Entrega"})]})}),Object(T.jsx)("tbody",{children:p.map((function(e){return Object(T.jsx)(ke,{work:e},e._id)}))})]}),Object(T.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(T.jsx)("span",{children:"Gastos"}),Object(T.jsx)("i",{class:"fas fa-angle-double-down"}),Object(T.jsx)("div",{onClick:Q,className:"add-gastos-flotante cursor-pointer",children:Object(T.jsxs)("div",{to:"#",children:[Object(T.jsx)("i",{class:"fas fa-plus-circle"}),Object(T.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(T.jsxs)("table",{className:"shadow-md gastos",children:[Object(T.jsx)("thead",{className:"bg-red-300 p-3",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Fecha"}),Object(T.jsx)("th",{children:"Descripci\xf3n"}),Object(T.jsx)("th",{children:"Monto"}),Object(T.jsx)("th",{children:"Borrar"})]})}),Object(T.jsx)("tbody",{children:A.map((function(e){return Object(T.jsx)(Ce,{setOutGoingChange:R,outGoingChange:_,gasto:e},e._id)}))})]}),Object(T.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(T.jsxs)("span",{children:["Ganancia : "," $ "+J," "]}),Object(T.jsxs)("span",{children:["Gastos : "," $ "+K," "]}),Object(T.jsxs)("span",{children:[" Diferencias : "," $ "+(J-K)," "]})]})]}):Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(T.jsx)("span",{children:"Trab. Entregados"}),Object(T.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(T.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(T.jsx)("thead",{className:"bg-green-300 p-3",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Codigo"}),Object(T.jsx)("th",{children:"Marca/Modelo"}),Object(T.jsx)("th",{children:"Cliente"}),Object(T.jsx)("th",{children:"Monto"}),Object(T.jsx)("th",{children:"Fecha Entrega"})]})}),Object(T.jsx)("tbody",{children:s.map((function(e){return Object(T.jsx)(ke,{work:e},e._id)}))})]}),Object(T.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(T.jsx)("span",{children:"Gastos"}),Object(T.jsx)("i",{class:"fas fa-angle-double-down"}),Object(T.jsx)("div",{onClick:Q,className:"add-gastos-flotante cursor-pointer",children:Object(T.jsxs)("div",{to:"#",children:[Object(T.jsx)("i",{class:"fas fa-plus-circle"}),Object(T.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(T.jsxs)("table",{className:"shadow-md gastos",children:[Object(T.jsx)("thead",{className:"bg-red-300 p-3",children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Fecha"}),Object(T.jsx)("th",{children:"Descripci\xf3n"}),Object(T.jsx)("th",{children:"Monto"}),Object(T.jsx)("th",{children:"Borrar"})]})}),Object(T.jsx)("tbody",{children:E.map((function(e){return Object(T.jsx)(Ce,{setOutGoingChange:R,outGoingChange:_,gasto:e},e._id)}))})]}),Object(T.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(T.jsxs)("span",{children:["Ganancia : "," $ "+V," "]}),Object(T.jsxs)("span",{children:["Gastos : "," $ "+X," "]}),Object(T.jsxs)("span",{children:[" Diferencias : "," $ "+(V-X)," "]})]})]})]})},De=function(){return Object(T.jsx)("div",{className:"footer ",children:Object(T.jsx)("div",{className:"footer-container",children:Object(T.jsxs)("ul",{className:"footer-list",children:[Object(T.jsxs)("span",{className:"text-red-400 text-lg",children:[" ","\xa9 NovaTechnology ",(new Date).getFullYear()]}),Object(T.jsx)("img",{src:E,width:"30",alt:"Nova Logo"})]})})})},Ie=function(e){var t=e.match,s=e.history,c=Object(r.b)(),n=Object(a.useState)([]),i=Object(k.a)(n,2),l=i[0],o=i[1],b=Object(a.useState)(!1),x=Object(k.a)(b,2),O=x[0],p=x[1],v=Object(a.useState)(!1),g=Object(k.a)(v,2),f=g[0],N=g[1],w=Object(a.useState)(!1),y=Object(k.a)(w,2),C=y[0],E=y[1],D=Object(a.useState)(!1),I=Object(k.a)(D,2),L=(I[0],I[1],Object(a.useState)(!1)),A=Object(k.a)(L,2),P=(A[0],A[1],Object(a.useState)("")),M=Object(k.a)(P,2),_=M[0],R=M[1],Y=Object(a.useState)([]),B=Object(k.a)(Y,2),F=B[0],G=B[1],z=Object(a.useState)(!1),W=Object(k.a)(z,2),H=W[0],$=W[1],J=Object(a.useState)(!1),X=Object(k.a)(J,2),Q=X[0],Z=X[1];Object(a.useEffect)((function(){c(q())}),[c]);var ee=t.params.id;Object(a.useEffect)((function(){c(V(ee))}),[c,ee]);var te=Object(r.c)((function(e){return e.works})).work,se=Object(r.c)((function(e){return e.clients})).clients,ae=Object(r.c)((function(e){return e.auth})).role,ce=S({marca:null===te||void 0===te?void 0:te.marca,modelo:null===te||void 0===te?void 0:te.modelo,emei:null===te||void 0===te?void 0:te.emei,estado:null===te||void 0===te?void 0:te.estado._id,precio:null===te||void 0===te?void 0:te.precio,descuento:null===te||void 0===te?void 0:te.descuento,fachasEncontradas:null===te||void 0===te?void 0:te.fachasEncontradas,observaciones:null===te||void 0===te?void 0:te.observaciones,descripcion:null===te||void 0===te?void 0:te.descripcion,recargo:null===te||void 0===te?void 0:te.recargo,cliente:null===te||void 0===te?void 0:te.cliente._id,tieneContrasena:null===te||void 0===te?void 0:te.tieneContrasena,esPatron:null===te||void 0===te?void 0:te.esPatron,contrasena:null===te||void 0===te?void 0:te.contrasena,patron:null===te||void 0===te?void 0:te.patron,total:null===te||void 0===te?void 0:te.total}),ne=Object(k.a)(ce,3),re=ne[0],ie=ne[1],le=ne[2];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("state");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,G(s.data.states);case 7:case"end":return e.stop()}}),e)}))),[G]),console.log(te);var oe=re.marca,de=re.modelo,je=re.emei,be=re.estado,ue=re.precio,he=re.descuento,xe=re.fachasEncontradas,me=re.descripcion,Oe=re.observaciones,pe=re.recargo,ve=re.cliente,ge=re.esPatron,fe=re.tieneContrasena,Ne=re.contrasena,we=re.patron;console.log(ge,fe);var ke=function(){var e=!0,t=[];return oe&&0!==oe.trim().length||(e=!1,t.marca=!0),de&&0!==de.trim().length||(e=!1,t.modelo=!0),ve||(e=!1,t.cliente=!0),be||(e=!1,t.estado=!0),Oe&&0!==Oe.trim().length||(e=!1,t.observaciones=!0),fe&&(ge||0!=Ne.length?p(!1):(p(!0),e=!1)),ge&&(0==we.length?(p(!0),e=!1):p(!1)),o(t),!!e};return Object(T.jsxs)("div",{className:"work-add relative",children:[Object(T.jsx)("div",{className:" absolute left-0 top-0 text-center uppercase flex gap-2  ",children:Object(T.jsx)("button",{onClick:function(){s.goBack()},children:"Volver"})}),Object(T.jsxs)("h3",{children:["Editar Trabajo",Object(T.jsx)("span",{className:"underline text-blue-600 ml-1",children:null===te||void 0===te?void 0:te.codigo})]}),Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),$(!0),ke()?(c(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var c,n,r,i,l;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,c=parseInt(e.precio),n=c*parseInt(e.descuento)/100,r=c*e.recargo/100,e.total=c+r-n,s.next=7,u("works/".concat(t),e,"PATCH");case 7:return i=s.sent,s.next=10,i.json();case 10:l=s.sent,console.log(l),l.status===h.a.statusSuccess?(a(K(l.data.work)),U.fire({icon:"success",title:"Trabajo editado con exito!!!"})):m.a.fire("error",l.message,"info"),s.next=18;break;case 15:s.prev=15,s.t0=s.catch(0),m.a.fire("error",s.t0,"error");case 18:case"end":return s.stop()}}),s,null,[[0,15]])})));return function(e){return s.apply(this,arguments)}}()}(re,ee)),Z(!Q),le(),setTimeout((function(){s.push("/works/".concat(ee))}),1e3)):console.log(re,l),$(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(T.jsxs)("div",{className:"grid-content",children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Marca",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:ie,value:oe,type:"text",name:"marca",placeholder:"ingresa la marca"}),l.marca?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Modelo",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("input",{onChange:ie,value:de,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),l.modelo?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Cliente",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"text",value:ve,onChange:ie,name:"cliente",list:"clientes"}),Object(T.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),se.map((function(e){return Object(T.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),l.cliente?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Estado",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsxs)("select",{value:be,onChange:ie,name:"estado",children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),F.map((function(e){return Object(T.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),l.estado?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"Emei / Serie"}),Object(T.jsx)("input",{onChange:ie,value:je,type:"number",name:"emei",min:1,minLength:25})]}),"admin"===ae&&Object(T.jsxs)(T.Fragment,{children:[" ",Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"recargo"}),Object(T.jsx)("input",{value:pe,onChange:ie,type:"text",name:"recargo",min:0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"precio"}),Object(T.jsx)("input",{value:ue,onChange:ie,type:"text",name:"precio",min:0})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{children:"descuento"}),Object(T.jsx)("input",{onChange:ie,type:"text",name:"descuento",value:he,min:0})]})]})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("label",{children:["Observaciones",Object(T.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(T.jsx)("textarea",{value:Oe,onChange:ie,name:"observaciones",children:" "}),l.observaciones?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(T.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(T.jsx)("textarea",{value:xe,onChange:ie,name:"fachasEncontradas"}),Object(T.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(T.jsx)("textarea",{value:me,onChange:ie,name:"descripcion"})]}),ge?Object(T.jsxs)("span",{children:[" Patron : ",we," "]}):fe?Object(T.jsxs)("span",{children:[" Contrase\xf1a : ",Ne," "]}):Object(T.jsx)("span",{children:"Sin clave"}),Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(T.jsx)("input",{onClick:function(e){e.target.checked?(N(!0),re.tieneContrasena=!0):(N(!1),re.tieneContrasena=!1,re.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(T.jsx)("br",{}),f&&Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{className:"flex items-center mb-1",children:[Object(T.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(T.jsx)("input",{onClick:function(e){e.target.checked?(E(!0),re.esPatron=!0,re.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(re.contrasena="",re.patron="",R(""),E(!1),re.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(T.jsxs)("div",{id:"input-password",children:[Object(T.jsxs)("label",{children:["Contrase\xf1a ",Object(T.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(T.jsx)("input",{value:Ne,onChange:ie,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(T.jsx)("br",{}),C&&Object(T.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(T.jsx)("button",{type:"button",onClick:function(e){R(_+e.target.textContent),re.patron=_+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),O?Object(T.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(T.jsx)("br",{}),C?Object(T.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:_}):null,Object(T.jsx)("button",{className:"btn",type:"submit",children:H?"Espere...":"  Guardar Trabajo "})]})]})},Le=function(){return Object(T.jsx)("div",{className:"news  bg-gray-100",children:Object(T.jsxs)("div",{className:"news-container",children:[Object(T.jsx)("h1",{className:"text-3xl text-green-800",children:"Historial de cambios "}),Object(T.jsxs)("section",{className:"news-section shadow-md",children:[Object(T.jsx)("h4",{className:"fecha-update bg-green-600 text-white p-1",children:"14/12/2021 - 00:30"}),Object(T.jsxs)("ul",{className:"py-3 news-list",children:[Object(T.jsx)("li",{children:"Poder borrar un trabajo"}),Object(T.jsx)("li",{children:"Cambiar los campos de tipo number en textos (Precio , Descuento , Recargo)"}),Object(T.jsxs)("li",{children:["Sacar la imagen en trabajo y poner la contrase\xf1a en vez del codigo"," "]}),Object(T.jsx)("li",{children:"Al borrar un trabajo borrar sus estados tambien"}),Object(T.jsx)("li",{children:"Poder borrar un gasto "}),Object(T.jsx)("li",{children:"Acomodar los gastos iguales que los trabajos Entregados "})]})]})]})})},Ae=function(){var e=Object(r.b)(),t=S({currentPassword:"",password:"",passwordConfirm:""}),s=Object(k.a)(t,3),c=s[0],n=s[1],i=s[2],l=Object(a.useState)({}),o=Object(k.a)(l,2),d=o[0],j=o[1],b=c.currentPassword,u=c.password,h=c.passwordConfirm,x=Object(a.useState)(!1),m=Object(k.a)(x,2),O=m[0],p=m[1],v=function(){var e=!0,t={};return(!b||b.trim().length<6)&&(e=!1,t.currentPassword=!0),(!u||u.trim().length<6)&&(e=!1,t.password=!0),u!==h&&(e=!1,t.passwordConfirm=!0),j(t),!!e};return Object(T.jsx)("div",{className:"update-password",children:Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p(!0),v()?(e(g(c)),i()):console.log(d),p(!1)},className:"update-password-form",children:[Object(T.jsx)("label",{children:"Actual contrase\xf1a"}),Object(T.jsx)("input",{value:b,onChange:n,type:"password",name:"currentPassword"}),d.currentPassword?Object(T.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingresa su contrase\xf1a vieja"," "]}):null," ",Object(T.jsx)("label",{children:"Contrase\xf1a"}),Object(T.jsx)("input",{value:u,onChange:n,type:"password",name:"password"}),d.password?Object(T.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingrese una nueva contrase\xf1a"," "]}):null," ",Object(T.jsx)("label",{children:"Confirma Contrase\xf1a"}),Object(T.jsx)("input",{value:h,onChange:n,type:"password",name:"passwordConfirm"}),d.passwordConfirm?Object(T.jsx)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:"Las contrase\xf1as no coinciden"}):null," ",Object(T.jsx)("br",{}),Object(T.jsx)("button",{className:"btn",type:"submit",children:O?Object(T.jsx)(ee,{size:"small",text:""}):"Cambiar Contrase\xf1a"})]})})},Pe=s(44),Me=function(e){var t,s,c=e.match,n=e.history,i=c.params.id,l=Object(r.b)(),o=Object(a.useState)(!1),d=Object(k.a)(o,2),j=d[0],b=d[1];Object(a.useEffect)((function(){l(V(i))}),[l,i]);Object(a.useRef)(null);var u=Object(a.useRef)(null),h=Object(r.c)((function(e){return e.works})).work;return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"download-box",children:[Object(T.jsx)("button",{onClick:function(){n.goBack()},className:"btn-1",children:"Volver"}),Object(T.jsx)("button",{className:"btn-2",onClick:function(){b(!0),u.current.save(),b(!1)},children:j?"DESCARGANDO...":"DESCARGAR"})]}),Object(T.jsx)(Pe.a,{ref:u,children:Object(T.jsxs)("div",{className:"pdf",children:[Object(T.jsxs)("header",{children:[Object(T.jsxs)("div",{class:"info-header",children:[Object(T.jsx)("h3",{children:"SERVICIO Y REPARACI\xd3N DE TEL\xc9FONOS CELULARES"}),Object(T.jsx)("p",{children:"CUIT: 20-37308578-3"}),Object(T.jsx)("p",{children:"TRABICHET NICOLAS MAXIMILIANO"}),Object(T.jsx)("p",{children:"JUJUY 1692 Piso:2 Dpto:A"}),Object(T.jsx)("p",{children:"ROSARIO"}),Object(T.jsx)("p",{children:"2000-SANTA FE"})]}),Object(T.jsxs)("div",{className:"logo-nova",children:[Object(T.jsx)("img",{src:I,width:100,alt:"Logo Nova"}),Object(T.jsx)("section",{class:"main-header",children:Object(T.jsxs)("div",{class:"fecha-orden",children:[Object(T.jsxs)("h3",{children:["Nro Orden :",null===h||void 0===h?void 0:h.codigo]}),Object(T.jsxs)("h3",{class:"orden-fecha",children:["Fecha :",H()(new Date).format("DD-MM-YYYY")]}),Object(T.jsxs)("span",{children:["Cliente : ",null===h||void 0===h||null===(t=h.cliente)||void 0===t?void 0:t.name," "]}),Object(T.jsxs)("span",{children:[" DNI : ",null===h||void 0===h||null===(s=h.cliente)||void 0===s?void 0:s.dni]})]})})]})]}),Object(T.jsx)("h3",{className:"p-1",children:"PRESUPUESTO Y DIAGN\xd3STICO T\xc9CNICO:"}),Object(T.jsxs)("main",{className:"main-content",children:[Object(T.jsx)("div",{className:"main-content-data",children:Object(T.jsxs)("section",{class:"datos-equipo",children:[Object(T.jsx)("h2",{children:"Datos del Equipo"}),Object(T.jsxs)("div",{class:"equipo",children:[Object(T.jsxs)("span",{children:["Marca/modelo :",(null===h||void 0===h?void 0:h.marca)+" - "+(null===h||void 0===h?void 0:h.modelo)," "]}),Object(T.jsxs)("span",{children:["Imei : ",null===h||void 0===h?void 0:h.emei]}),(null===h||void 0===h?void 0:h.tieneContrase\u00f1a)?Object(T.jsxs)("span",{children:["Contrase\xf1a :",null===h||void 0===h?void 0:h.contrasena]}):(null===h||void 0===h?void 0:h.esPatron)?Object(T.jsxs)("span",{children:["Patron :",null===h||void 0===h?void 0:h.patron]}):null,Object(T.jsxs)("span",{children:["Total : ",null===h||void 0===h?void 0:h.total," "]}),Object(T.jsxs)("span",{children:["Observaciones : ",null===h||void 0===h?void 0:h.observaciones]}),Object(T.jsxs)("span",{children:["Falla Encontrada : ",null===h||void 0===h?void 0:h.fachasEncontradas]}),Object(T.jsxs)("span",{children:["Descripcion: ",null===h||void 0===h?void 0:h.descripcion]})]})]})}),Object(T.jsxs)("section",{class:"leyes-box",children:[Object(T.jsx)("h3",{children:"BASES Y CONDICIONES:"}),Object(T.jsxs)("ol",{className:"leyes",children:[Object(T.jsx)("li",{children:"La comunicaci\xf3n de la aceptaci\xf3n del presupuesto puede ser v\xeda telef\xf3nica, correo electr\xf3nico o presencial."}),Object(T.jsx)("li",{children:"Para retirar el equipo es imprescindible presentar la ORDEN DE SERVICIO T\xc9CNICO y el abono correspondiente al servicio efectuado."}),Object(T.jsx)("li",{children:"Todo trabajo solicitado como \u201curgente\u201d, tendr\xe1 un costo adicional."}),Object(T.jsx)("li",{children:"Toda reparaci\xf3n efectuada tiene una garant\xeda de 3 meses, contados desde la fecha de entrega, quedando excluidas las fallas por: mala manipulaci\xf3n, roturas o golpes, sobretensi\xf3n o evidencia de residuos l\xedquidos, humedad, o si el equipo fue intervenido por un tercero. Los equipos que ingresan mojados, no son sujetos a garant\xeda."}),Object(T.jsx)("li",{children:"e invocar la garant\xeda del equipo, nuestro servicio t\xe9cnico evaluar\xe1 el funcionamiento del mismo y decidir\xe1 si aplica o no, y en caso de hacerla efectiva el cliente deber\xe1 presentar toda la documentaci\xf3n que se le ha entregado (incluyendo: Orden de servicio y boleta o comprobante de pago entregada)."}),Object(T.jsx)("li",{children:"Todos los equipos llegados a este servicio t\xe9cnico se considerar\xe1n fuera de garant\xeda y por tanto la reparaci\xf3n se facturar\xe1 de acuerdo con las tarifas vigentes."}),Object(T.jsx)("li",{children:"La empresa solo se hace responsable por la reparaci\xf3n o servicio detallado en la orden de servicio, pudiendo agregar nuevos \xedtems si as\xed fuera necesario, informando previamente al cliente."}),Object(T.jsx)("li",{children:"El servicio t\xe9cnico no se hace responsable de los datos o informaci\xf3n contenida en los equipos puestos a su disposici\xf3n, ni de cualquier supuesta p\xe9rdida de datos en cualquiera de las unidades de almacenamiento. De ser necesario realizar un resguardo de informaci\xf3n, el cliente deber\xe1 solicitar dicho servicio."}),Object(T.jsx)("li",{children:"Si pasado los 30 d\xedas, el propietario no retira sus componentes, el costo sufre un incremento del 10%; pasados los 60 d\xedas, 20%; pasados los 90 d\xedas el propietario pierde el derecho a reclamar sus componentes, pudiendo el servicio t\xe9cnico darle el uso que crea pertinente sin necesidad de informar al cliente (Art. 1947 del C\xf3digo Procesal Civil y Comercial)."}),Object(T.jsx)("li",{children:"El cliente libera de toda responsabilidad a la empresa de cualquier tipo de falla, en equipos que son recepcionados sin encender o no se encuentren operativos, o est\xe9n mojados, ya sea porque est\xe1n sin carga o porque tiene alg\xfan problema de software o hardware. En la orden de servicio se dejar\xe1 constancia en las condiciones que ingresa el equipo a nuestros centros de reparacio\u0301n."}),Object(T.jsx)("li",{children:"Este servicio t\xe9cnico garantiza total confidencialidad sobre los datos y/o archivos sensibles (contrase\xf1as web, claves bancarias, etc) que puedan encontrarse dentro de los equipos puestos a su disposici\xf3n."}),Object(T.jsx)("li",{children:"Todo costo ocasionado por el traslado del equipo, ser\xe1 a cargo del cliente. En casos de traslado, para que tenga validez, estar\xe1 sujeto a la firma de conformidad y recepci\xf3n del servicio t\xe9cnico. 13. Dejar el equipo en reparaci\xf3n SIGNIFICA ACEPTAR TODAS LAS CONDICIONES DE TRABAJO ANTES DESCRIPTAS."})]})]})]}),Object(T.jsxs)("footer",{class:"footer-pdf",children:[Object(T.jsx)("h3",{children:"DATOS DEL SERVICIO T\xc9CNICO y FIRMA"}),Object(T.jsx)("section",{class:"firmas",children:Object(T.jsxs)("div",{class:"firma-content",children:[Object(T.jsx)("p",{children:"Firma del cliente : .................."}),Object(T.jsx)("p",{children:"Aclaracion : ................"}),Object(T.jsx)("p",{children:"DNI : ................... ................"})]})})]})]})})]})};function qe(e){var t=e.history,s=Object(a.useState)(!1),c=Object(k.a)(s,2),n=c[0],r=c[1];return Object(T.jsxs)("div",{className:"taller",children:[Object(T.jsx)(ie,{}),Object(T.jsxs)("div",{className:"content-principal",children:[Object(T.jsx)(ne,{}),Object(T.jsx)("div",{className:"content-principal-margin",children:Object(T.jsxs)(l.d,{children:[Object(T.jsx)(l.b,{exact:!0,path:"/",component:ae}),Object(T.jsx)(l.b,{exact:!0,path:"/works",children:Object(T.jsx)(we,{refresh:n,history:t,setRefresh:r})}),Object(T.jsx)(l.b,{exact:!0,path:"/clients",component:ve}),Object(T.jsx)(l.b,{exact:!0,path:"/works/:workId/",component:Ne}),Object(T.jsx)(l.b,{exact:!0,path:"/orders",component:he}),Object(T.jsx)(l.b,{exact:!0,path:"/works/histories/all",component:Te}),Object(T.jsx)(l.b,{exact:!0,path:"/work/edit/:id",component:Ie}),Object(T.jsx)(l.b,{exact:!0,path:"/works/order/:id",component:Me}),Object(T.jsx)(l.b,{exaxt:!0,path:"/news",component:Le}),Object(T.jsx)(l.b,{exact:!0,path:"/clients/:clientId",component:me}),Object(T.jsx)(l.b,{exact:!0,path:"/client/add",component:z}),Object(T.jsx)(l.b,{exact:!0,path:"/user/update-password",component:Ae}),Object(T.jsx)(l.b,{exact:!0,path:"/work/add",children:Object(T.jsx)(fe,{history:t,refresh:n,setRefresh:r})}),Object(T.jsx)(l.a,{to:"/"})]})}),Object(T.jsx)(De,{})]})]})}var _e=s(25),Re=["isLogged","component"],Ye=function(e){var t=e.isLogged,s=e.component,a=Object(_e.a)(e,Re);return Object(T.jsx)(l.b,Object(C.a)(Object(C.a)({},a),{},{component:function(e){return t?Object(T.jsx)(s,Object(C.a)({},e)):Object(T.jsx)(l.a,{to:"/index"})}}))},Be=["isLogged","component"],Fe=function(e){var t=e.isLogged,s=e.component,a=Object(_e.a)(e,Be);return Object(T.jsx)(l.b,Object(C.a)(Object(C.a)({},a),{},{component:function(e){return t?Object(T.jsx)(l.a,{to:"/"}):Object(T.jsx)(s,Object(C.a)({},e))}}))};function Ge(){var e=Object(r.b)();Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("users/renewToken",{},"POST");case 2:return s=e.sent,e.next=5,s.json();case 5:a=e.sent,console.log(a),a.status===h.a.statusSuccess?(console.log("validoooo"),localStorage.setItem("token",a.token),localStorage.setItem("token-start-date",(new Date).getTime()),t(w({uid:a.data.user._id,username:a.data.user.name,role:a.data.user.role}))):(console.log("heree logout "),t(N()),t(v()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(r.c)((function(e){return e.auth})),s=t.uid;return t.checking?Object(T.jsx)(P,{}):Object(T.jsx)(i.a,{children:Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(l.d,{children:[Object(T.jsx)(Fe,{isLogged:!!s,component:A,exact:!0,path:"/index"}),Object(T.jsx)(Fe,{isLogged:!!s,exact:!0,path:"/login",component:D}),Object(T.jsx)(Fe,{isLogged:!!s,exact:!0,path:"/register",component:z}),Object(T.jsx)(Ye,{isLogged:!!s,path:"/",refresh:!0,component:qe}),Object(T.jsx)(l.a,{to:"/index"})]})})})}var ze=s(43),We={orders:[]},He={clients:[],client:null,clientWorks:[],clientSearch:[]},Ue={works:[],worksState:[],work:null,total:0,page:1,results:0},$e=s(86),Ve=$e.createStore,Je=$e.compose,Xe=$e.applyMiddleware,Ke=(0,$e.combineReducers)({auth:s(83).authReducer,works:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllWorks:return Object(C.a)(Object(C.a)({},e),{},{works:t.payload.works,total:t.payload.total,page:t.payload.page,results:t.payload.results});case h.a.setOneWork:return Object(C.a)(Object(C.a)({},e),{},{work:t.payload});case h.a.filterWorksState:return Object(C.a)(Object(C.a)({},e),{},{worksState:t.payload.works});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllClients:return Object(C.a)(Object(C.a)({},e),{},{clients:t.payload});case h.a.setOneClient:return Object(C.a)(Object(C.a)({},e),{},{client:t.payload});case h.a.setWorksClient:return Object(C.a)(Object(C.a)({},e),{},{clientWorks:t.payload});case h.a.resetWorksClient:return Object(C.a)(Object(C.a)({},e),{},{clientWorks:[]});case h.a.filtrarClient:return Object(C.a)(Object(C.a)({},e),{},{clientSearch:t.payload});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;return t.type===h.a.getAllOrders?Object(C.a)(Object(C.a)({},e),{},{orders:t.payload}):e}}),Qe=Ve(Ke,("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Je)(Xe(ze.a))),Ze=function(){return Object(T.jsx)(r.a,{store:Qe,children:Object(T.jsx)(Ge,{})})};s(84);n.a.render(Object(T.jsx)(Ze,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.5dee1f00.chunk.js.map