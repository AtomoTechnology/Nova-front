(this["webpackJsonptaller-nico"]=this["webpackJsonptaller-nico"]||[]).push([[0],{7:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a={startLogin:"[auth] start the login auth",finshLogin:"[auth] finsish login auth",finishChecking:"[auth] finish checking",logout:"[auth] start logout",getAllWorks:"[work] get all works",getAllOrders:"[order] get all orders",setOneWork:"[work] set one work",getAllClients:"[client]get all the client form tha db",setOneClient:"[client] set one client",setWorksClient:"[client]set all works client",resetWorksClient:"[client]reset the state if there is no works",filterWorksState:"[works] filter the works bt state",filtrarClient:"[client] filter the clients by dni",updateClientAvatar:"[client] update client avatar",statusSuccess:"success",statusFail:"fail",updatePassword:"error update password"}},83:function(e,t,s){"use strict";s.r(t),s.d(t,"authReducer",(function(){return r}));var a=s(9),n=s(7),c={checking:!0,updatePasswordError:""},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.a.startLogin:return Object(a.a)(Object(a.a)(Object(a.a)({},e),t.payload),{},{checking:!1});case n.a.finishChecking:return Object(a.a)(Object(a.a)({},e),{},{checking:!1});case n.a.logout:return{checking:!1};case n.a.updatePassword:return Object(a.a)(Object(a.a)({},e),{},{updatePasswordError:t.payload});default:return e}}},84:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(21),c=s.n(n),r=s(5),i=s(6),l=s(14),o=s(4),d=s.n(o),j=s(8),u=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat("https://novatechnology.herokuapp.com/api/v1/").concat(e);return"GET"===s?fetch(a):fetch(a,{method:s,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},b=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat("https://novatechnology.herokuapp.com/api/v1/").concat(e),n=localStorage.getItem("token")||"",c="Bearer "+n;return"GET"===s?fetch(a,{headers:{authorization:c}}):fetch(a,{method:s,headers:{"Content-type":"application/json",authorization:c},body:JSON.stringify(t)})},h=s(7),x=s(11),m=s.n(x),O=function(){return function(e){console.log("heree logout "),localStorage.removeItem("token"),localStorage.removeItem("token-start-date"),e(p())}},p=function(){return{type:h.a.logout}},v=function(){return{type:h.a.finishChecking}},g=function(e){return{type:h.a.startLogin,payload:e}},f=s(3),N=s(24),w=s(9),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),s=Object(f.a)(t,2),n=s[0],c=s[1],r=function(){c(e)},i=function(e){var t=e.target;c(Object(w.a)(Object(w.a)({},n),{},Object(N.a)({},t.name,t.value)))};return[n,i,r]},y=s.p+"static/media/logo03.57274dd7.png",C=s(0),S=function(e){var t=e.history;console.log(t);var s=Object(r.b)(),n=k({dni:"",password:""}),c=Object(f.a)(n,2),l=c[0],o=c[1],b=Object(a.useState)({}),x=Object(f.a)(b,2),O=x[0],p=x[1],v=l.dni,N=l.password,w=function(){var e=!0,t={};return v.trim().length<8&&(e=!1,t.dni=!0),N.trim().length<6&&(e=!1,t.password=!0),p(t),!!e};return Object(C.jsx)("div",{className:"auth__login",children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w()?s(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var n,c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e,t),s.next=3,u("users/signin",{dni:e,password:t},"POST");case 3:return n=s.sent,s.next=6,n.json();case 6:c=s.sent,console.log(c),c.status===h.a.statusSuccess?(localStorage.setItem("token",c.token),localStorage.setItem("token-start-date",(new Date).getTime()),a(g({uid:c.data.user._id,username:c.data.user.name,role:c.data.user.role}))):m.a.fire("error",c.message,"error");case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(v,N)):(console.log("verifica los datos"),console.log(O))},className:"auth__login-form",children:[Object(C.jsx)("i",{onClick:function(){t.push("/index")},class:"fas fa-home w-8 h-8 rounded-full shadow bg-blue-600 text-white flex items-center justify-center cursor-pointer hover:w-12 hover:shadow-md hover:bg-blue-900 hover:h-12"}),Object(C.jsx)("div",{className:"header-logo",children:Object(C.jsx)("img",{src:y,width:"45",alt:"Nova Technology"})}),Object(C.jsx)("h3",{children:"Nova Technology"}),Object(C.jsx)("label",{children:"DNI"}),Object(C.jsx)("input",{value:v,onChange:o,type:"text",name:"dni"}),O.dni?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Ingrese un DNI valido "}):null," ",Object(C.jsx)("label",{children:"Contrase\xf1a"}),Object(C.jsx)("input",{value:N,onChange:o,type:"password",name:"password"}),O.password?Object(C.jsxs)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:["Ingrese su una contrase\xf1a"," "]}):null," ",Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:"btn",type:"submit",children:"Inicia Sesion"}),Object(C.jsx)("div",{className:"register-section text-sx text-blue-600 ",children:Object(C.jsxs)("span",{className:"text-sm",children:["\xbfAun no tiene una cuenta ?",Object(C.jsx)(i.b,{to:"/register",className:"text-pink-800 ml-1 hover:text-pink-700 hover:shadow hover:bg-gray-100 p-1",children:"Registrarse"})]})})]})})},E=function(){return Object(C.jsxs)("div",{className:"taller-principal flex justify-center items-center gap-4 flex-col bg-gray-300 h-screen w-full",children:[Object(C.jsxs)("span",{children:["\xbfYa tiene una cuenta ?",Object(C.jsx)(i.b,{className:"p-1 bg-green-500 shadow rounded text-xs m-2",to:"/login",children:"Inicia Session"})]}),Object(C.jsxs)("span",{className:"text-xs",children:["\xbfTodavia no tiene cuenta ?",Object(C.jsx)(i.b,{className:"p-1 bg-pink-500 text-white shadow rounded  m-2",to:"/register",children:"Registrarse"})]})]})},T=function(){return Object(C.jsx)("div",{className:"loading",children:Object(C.jsxs)("div",{class:"sk-circle",children:[Object(C.jsx)("div",{class:"sk-circle1 sk-child"}),Object(C.jsx)("div",{class:"sk-circle2 sk-child"}),Object(C.jsx)("div",{class:"sk-circle3 sk-child"}),Object(C.jsx)("div",{class:"sk-circle4 sk-child"}),Object(C.jsx)("div",{class:"sk-circle5 sk-child"}),Object(C.jsx)("div",{class:"sk-circle6 sk-child"}),Object(C.jsx)("div",{class:"sk-circle7 sk-child"}),Object(C.jsx)("div",{class:"sk-circle8 sk-child"}),Object(C.jsx)("div",{class:"sk-circle9 sk-child"}),Object(C.jsx)("div",{class:"sk-circle10 sk-child"}),Object(C.jsx)("div",{class:"sk-circle11 sk-child"}),Object(C.jsx)("div",{class:"sk-circle12 sk-child"})]})})},D=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),I=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("users");case 3:return s=e.sent,e.next=6,s.json();case 6:(a=e.sent).status===h.a.statusSuccess&&t(q(a.data.users)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},L=function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var n,c,r,i,l,o;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!t){s.next=22;break}return s.next=4,u("clients/upload",{file:t},"POST");case 4:return n=s.sent,s.next=7,n.json();case 7:if(c=s.sent,console.log(c),!c.ok){s.next=20;break}return e.pathImg=c.url,console.log(e),s.next=14,b("clients",e,"POST");case 14:return r=s.sent,s.next=17,r.json();case 17:i=s.sent,console.log(i),i.ok&&D.fire({icon:"success",title:i.msg});case 20:s.next=30;break;case 22:return s.next=24,b("users/signup",e,"POST");case 24:return l=s.sent,s.next=27,l.json();case 27:o=s.sent,console.log(o),o.status===h.a.statusSuccess?D.fire({icon:"success",title:"Usuario creado con existo."}):D.fire({icon:"error",title:o.message});case 30:s.next=36;break;case 32:s.prev=32,s.t0=s.catch(0),console.log(s.t0),D.fire({icon:"error",title:s.t0});case 36:case"end":return s.stop()}}),s,null,[[0,32]])})));return function(e){return s.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("works/client/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).status===h.a.statusSuccess?s(M(n.data.works)):s(P()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},P=function(){return{type:h.a.resetWorksClient}},M=function(e){return{type:h.a.setWorksClient,payload:e}},_=function(e){return{type:h.a.setOneClient,payload:e}},q=function(e){return{type:h.a.getAllClients,payload:e}},Y=function(e){var t=e.history,s=Object(r.b)(),n=Object(a.useState)([]),c=Object(f.a)(n,2),l=c[0],o=c[1],u=Object(a.useState)(!1),b=Object(f.a)(u,2),h=b[0],x=b[1],m=Object(a.useState)(""),O=Object(f.a)(m,2),p=O[0],v=(O[1],Object(r.c)((function(e){return e.auth}))),g=k({name:"",dni:"",phone1:"",phone2:"",direction:"",nota:"",file:"",pathImg:"",password:"",passwordConfirm:"",email:"",role:""}),N=Object(f.a)(g,3),w=N[0],y=N[1],S=N[2],E=w.name,T=w.dni,D=w.phone1,I=w.phone2,A=w.direction,P=w.nota,M=w.password,_=w.passwordConfirm,q=w.email,Y=w.role,B=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),a.preventDefault(),R()&&(s(L(w,p)),S(),setTimeout((function(){t.push("/clients")}),1e3)),x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=!0,t=[];return E||(e=!1,t.name=!0),(!M||M.trim().length<6)&&(e=!1,t.password=!0),_&&_===M||(e=!1,t.passwordConfirm=!0),(!T||T.length<8||T.length>11)&&(e=!1,t.dni=!0),q||(e=!1,t.email=!0),(!D||D.length<7)&&(e=!1,t.phone1=!0),o(t),!!e};return Object(C.jsxs)("div",{className:"user-add my-2 ",children:[Object(C.jsx)("h3",{className:"text-lg",children:"Crear Cuenta"}),Object(C.jsxs)("form",{onSubmit:B,className:"user-add-form  rounded",children:[Object(C.jsxs)("div",{className:"form-grid",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Nombre Cliente ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:y,value:E,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),l.name?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["DNI ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:y,value:T,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),l.dni?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Correo"}),Object(C.jsx)("input",{className:"shadow",onChange:y,value:q,type:"email",name:"email",placeholder:"Ingrese su correo electronico"}),l.email?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),"admin"===v.role&&Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Rol"}),Object(C.jsxs)("select",{name:"role",value:Y,onChange:y,children:[Object(C.jsx)("option",{value:"user",children:" Usuario "}),Object(C.jsx)("option",{value:"tecnico",children:" Tecnico "}),Object(C.jsx)("option",{value:"admin",children:" Administrador "})]}),l.email?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Telefono 1 ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:y,value:D,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),l.phone1?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Contrase\xf1a"}),Object(C.jsx)("input",{className:"shadow",onChange:y,value:M,type:"password",name:"password",placeholder:"ingresa una contrase\xf1a"}),l.password?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Contrase\xf1a invalida. debe tener minimo 6 caracteres."}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Confirma Contrese\xf1a"}),Object(C.jsx)("input",{className:"shadow",onChange:y,value:_,type:"password",name:"passwordConfirm",placeholder:"Repetir contrase\xf1a"}),l.passwordConfirm?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Las Contrase\xf1as no coinciden"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Telefono 2"}),Object(C.jsx)("input",{onChange:y,value:I,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Direcci\xf3n"}),Object(C.jsx)("input",{className:"shadow",onChange:y,value:A,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Nota"}),Object(C.jsx)("input",{className:"shadow",onChange:y,value:P,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{disabled:h,className:"btn shadow-lg",type:"submit",children:h?"agregando Usuario":" Agregar Cliente"}),Object(C.jsx)("div",{className:"register-section text-sx text-blue-600 text-center ",children:Object(C.jsxs)("span",{className:"text-sm",children:["\xbfYa tiene una cuenta ?",Object(C.jsx)(i.b,{to:"/login",className:"text-pink-800 ml-1 hover:text-pink-700 hover:shadow hover:bg-gray-300 p-1",children:"Inicia Session"})]})})]})]})},B=s(10),R=s.n(B),F=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var s=Object(j.a)(d.a.mark((function s(a){var n,c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,b("works?page=".concat(t,"&limit=").concat(e));case 3:return n=s.sent,s.next=6,n.json();case 6:(c=s.sent).status===h.a.statusSuccess&&a(H(c.data.works,c.total,c.page,c.results)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("works/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?s(U(n.work)):F.fire({icon:"error",title:"Error al recuperar los datos del cliente"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),F.fire({icon:"error",title:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("works/".concat(e),{},"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).status===h.a.statusSuccess?F.fire({icon:"success",title:"Trabajo borrado con exito!!!"}):m.a.fire("error",n.message,"info"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),m.a.fire("error",t.t0.message,"error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e,t,s,a){return{type:h.a.getAllWorks,payload:{works:e,total:t,page:s,results:a}}},U=function(e){return{type:h.a.setOneWork,payload:e}},$=s.p+"static/media/userLogo.4bac9738.png",V=function(e){var t,s,a,n,c,l=e.work,o=R()(R()().format("YYYY-MM-DD")),d=Object(r.c)((function(e){return e.auth})).role,j="";switch(null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].nombre){case"Revision":j="red-700";break;case"Presupuesto":j="gray-600";break;case"En Reparacion":j="yellow-500";break;case"Terminado":j="pink-400";break;default:j="green-700"}return Object(C.jsxs)(i.b,{to:"/works/".concat(null===l||void 0===l?void 0:l._id),className:"work work-state",children:[Object(C.jsx)("div",{className:"title p-1",children:Object(C.jsx)("span",{className:"capitalize text-"+j,children:(null===l||void 0===l?void 0:l.marca)+"   "+(null===l||void 0===l?void 0:l.modelo)})}),Object(C.jsx)("div",{className:"observaciones p-1",children:Object(C.jsxs)("span",{children:[null===l||void 0===l?void 0:l.observaciones.slice(0,100)," ",(null===l||void 0===l?void 0:l.observaciones.length)>100?"...":null]})}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-300",children:"Hace "+o.diff(R()(R()(null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].fecha).format("YYYY-MM-DD")),"days")+" Dias"}),Object(C.jsx)("p",{children:null===l||void 0===l?void 0:l.codigo})]}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm bg-".concat(j," p-1"),children:null===l||void 0===l?void 0:l.states[(null===l||void 0===l?void 0:l.states.length)-1].nombre}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+j})]}),Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===l||void 0===l||null===(t=l.cliente)||void 0===t?void 0:t.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===l||void 0===l||null===(s=l.cliente)||void 0===s?void 0:s.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:$}),Object(C.jsxs)("h3",{className:"capitalize font-serif",children:[null===l||void 0===l||null===(a=l.cliente)||void 0===a||null===(n=a.name)||void 0===n?void 0:n.slice(0,13),"..."]}),"admin"==d&&Object(C.jsx)("span",{className:"work-precio text-"+j,children:" $ "+(null===l||void 0===l||null===(c=l.total)||void 0===c?void 0:c.toFixed(2))})]})]})},J=function(e){var t=e.text,s=void 0===t?"Cargando...":t,a=e.size,n=void 0===a?"big":a;return Object(C.jsxs)("div",{class:"spinner spinner-"+n,children:[Object(C.jsx)("div",{class:"bounce1"}),Object(C.jsx)("div",{class:"bounce2"}),Object(C.jsx)("div",{class:"bounce3"}),Object(C.jsx)("span",{children:s})]})},X=function(e){var t,s,a,n,c=e.work,l=Object(r.c)((function(e){return e.auth})).role,o="";switch(c.estado.name){case"Revision":o="red-700";break;case"Presupuesto":o="gray-600";break;case"En Reparacion":o="yellow-500";break;case"Terminado":o="pink-400";break;default:o="green-700"}return Object(C.jsxs)(i.b,{to:"/works/".concat(c._id),className:"work",children:[Object(C.jsx)("div",{className:"title p-1",children:Object(C.jsx)("span",{className:"capitalize text-"+o,children:(null===c||void 0===c?void 0:c.marca)+"   "+(null===c||void 0===c?void 0:c.modelo)})}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-700",children:null===c||void 0===c?void 0:c.codigo})]}),Object(C.jsxs)("div",{className:"p-1",children:[" ",Object(C.jsx)("p",{className:"text-gray-300",children:R()(null===c||void 0===c?void 0:c.fechaInicio).format("DD-MM-yyyy")})]}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm text-white bg-".concat(o," p-1"),children:null===c||void 0===c?void 0:c.estado.name}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+o})]}),Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-200 rounded-b p-1 items-center gap-2",children:[(null===c||void 0===c||null===(t=c.cliente)||void 0===t?void 0:t.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===c||void 0===c||null===(s=c.cliente)||void 0===s?void 0:s.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:$}),Object(C.jsxs)("h3",{className:"capitalize font-serif",children:[null===c||void 0===c||null===(a=c.cliente)||void 0===a||null===(n=a.name)||void 0===n?void 0:n.slice(0,10),"..."]}),"admin"==l&&Object(C.jsx)("span",{className:"work-precio text-"+o,children:"$"+(null===c||void 0===c?void 0:c.total.toFixed(2))})]})]})},K=function(e){var t,s,a,n=e.work,c=e.history,l=Object(r.b)(),o=Object(r.c)((function(e){return e.auth})).role,d="";switch(n.estado.name){case"Revision":d="red-700";break;case"Presupuesto":d="gray-600";break;case"En Reparacion":d="yellow-500";break;case"Terminado":d="pink-400";break;default:d="green-700"}return Object(C.jsxs)("div",{className:"work",children:[Object(C.jsxs)("div",{className:"cliente-precio flex justify-between bg-gray-100  p-1 items-center",children:[(null===n||void 0===n||null===(t=n.cliente)||void 0===t?void 0:t.pathImg)?Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:"/assets/img/client/".concat(null===n||void 0===n||null===(s=n.cliente)||void 0===s?void 0:s.pathImg)}):Object(C.jsx)("img",{className:"rounded-full w-8 border-1 border-pink-500 h-8",src:$}),Object(C.jsx)("h3",{className:"capitalize font-serif",children:null===n||void 0===n||null===(a=n.cliente)||void 0===a?void 0:a.name}),"admin"==o&&Object(C.jsxs)("div",{className:"header-action  relative",children:[Object(C.jsx)("i",{onClick:function(e){document.querySelectorAll(".header-action").forEach((function(t){t!==e.target.parentElement&&t.classList.remove("active")})),console.log(e.target.parentElement,e.target.parentElement.classList.toggle("active"))},class:"fas fa-ellipsis-v rounded cursor-pointer w-8 h-8 shadow bg-gray-100  flex justify-center items-center hover:shadow-md hover:rounded-full hover:bg-blue-100"}),Object(C.jsx)("div",{className:"hidden absolute flex justify-center gap-2 items-center right-0 p-1 bg-gray-100  shadow  ",children:Object(C.jsx)("span",{className:"w-8 h-8 rounded-full cursor-pointer hover:shadow-md hover:text-red-500  text-red-700  shadow p-1 flex justify-center items-center text-center bg-white",children:Object(C.jsx)("i",{class:"fas fa-trash ",onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el trabajo definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&(l(W(null===n||void 0===n?void 0:n._id)),c.push("/works"))}))}})})})]})]}),Object(C.jsx)(i.b,{to:"/works/".concat(n._id),className:"title p-1",children:Object(C.jsxs)("span",{className:"capitalize text-"+d,children:[(null===n||void 0===n?void 0:n.marca)+" - "+(null===n||void 0===n?void 0:n.modelo),(null===n||void 0===n?void 0:n.tieneContrasena)&&Object(C.jsx)("i",{class:"fas fa-lock work-lock"})]})}),Object(C.jsx)("div",{className:"observaciones p-1",children:Object(C.jsxs)("span",{children:[null===n||void 0===n?void 0:n.observaciones.slice(0,60)," ",(null===n||void 0===n?void 0:n.observaciones.length)>60?"...":null]})}),Object(C.jsx)("div",{className:"p-1",children:(null===n||void 0===n?void 0:n.tieneContrasena)?null===n||void 0===n?void 0:n.contrasena:null}),Object(C.jsxs)("div",{className:"estado p-1 flex justify-between items-center",children:[Object(C.jsx)("span",{className:"rounded-sm text-white bg-".concat(d," p-1"),children:null===n||void 0===n?void 0:n.estado.name}),Object(C.jsx)("i",{className:" fas fa-mobile-alt mr-4 text-"+d})]})]})},Q=function(){var e=Object(r.b)(),t=Object(a.useState)([]),s=Object(f.a)(t,2),n=(s[0],s[1]),c=Object(a.useState)(!0),l=Object(f.a)(c,2),o=l[0],u=l[1],b=Object(r.c)((function(e){return e.auth})),h=b.role,x=b.uid;Object(a.useEffect)((function(){e(I())}),[e]),Object(a.useEffect)((function(){e(z())}),[e]),Object(a.useEffect)((function(){e(A(x))}),[]);var m=Object(r.c)((function(e){return e.clients})),O=m.clients,p=m.clientWorks,v=Object(r.c)((function(e){return e.works})),g=v.works,N=v.total;Object(a.useEffect)((function(){fetch("".concat("https://novatechnology.herokuapp.com/api/v1/","work_state")).then((function(e){return e.json()})).then((function(e){n(e.work_state),u(!1)}))}),[u,n]);var w=[];g.forEach((function(e){"Terminado"===e.estado.name&&w.push(e)}));for(var k=R()(R()().format("YYYY-MM-DD")),y=[],S=0;S<g.length;S++){var E=R()(R()(g[S].states[g[S].states.length-1].fecha).format("YYYY-MM-DD"));k.diff(E,"days")>=3&&("Revision"===g[S].states[g[S].states.length-1].nombre||"Presupuesto"===g[S].states[g[S].states.length-1].nombre)&&y.push(g[S])}var T=function(e){var t=document.getElementById(e.target.parentElement.parentElement.classList[0]);t.scrollLeft-=t.offsetWidth},D=function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=document.getElementById(t.target.parentElement.parentElement.classList[0])).scrollLeft+=s.offsetWidth;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"user"!==h?Object(C.jsxs)("div",{className:"home",children:[Object(C.jsxs)("div",{className:"home__statistics shadow bg-gray-50 mb-2 p-1",children:[Object(C.jsx)(i.b,{to:"clients",className:"users",children:Object(C.jsxs)("div",{className:"users-content",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:O.length}),Object(C.jsx)("h3",{children:"Usuarios"})]}),Object(C.jsx)("i",{className:"fas fa-user text-gray-900"})]})}),Object(C.jsx)(i.b,{to:"works",className:"works",children:Object(C.jsxs)("div",{className:"works-content",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:N}),Object(C.jsx)("h3",{children:"Trabajos"})]}),Object(C.jsx)("i",{className:"fas fa-th-list text-yellow-700"})]})}),Object(C.jsx)("a",{href:"#worksaviso",className:"works-avisos",children:Object(C.jsxs)("div",{className:"works-content",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:o?Object(C.jsx)(J,{text:"",size:"small"}):y.length}),Object(C.jsx)("h3",{children:"Avisos"})]}),Object(C.jsx)("i",{className:"fas fa-flag text-red-700"})]})}),Object(C.jsx)("a",{href:"#worksconfirm",className:"works-confirm",children:Object(C.jsxs)("div",{className:"works-content",children:[Object(C.jsxs)("div",{className:"content-left",children:[Object(C.jsx)("span",{children:w.length}),Object(C.jsx)("h3",{children:"Terminados"})]}),Object(C.jsx)("i",{className:"fas fa-calendar-check text-pink-400"})]})})]}),o?Object(C.jsx)(J,{}):y.length>0&&Object(C.jsxs)("div",{id:"worksaviso",className:"home__section-recent-works shadow my-1 p-2",children:[Object(C.jsx)("h3",{className:"text-red-400",children:"AVISO"}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"avisos",id:"avisos",children:[Object(C.jsx)("button",{className:"btn btn-left-carrousel",onClick:T,id:"btn-left",children:Object(C.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),y.map((function(e){return Object(C.jsx)(V,{work:e},null===e||void 0===e?void 0:e._id)})),Object(C.jsx)("button",{onClick:D,className:"btn btn-right-carrousel",id:"btn-right",children:Object(C.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]}),w.length>0&&Object(C.jsxs)("div",{id:"worksconfirm",className:"home__section-recent-works shadow my-1 p-2",children:[Object(C.jsx)("h3",{className:"text-red-400",children:"Trabajos Terminados"}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"confirmados",id:"confirmados",children:[Object(C.jsx)("button",{className:"btn btn-left-carrousel",onClick:T,id:"btn-left",children:Object(C.jsx)("i",{className:"fa fa-angle-double-left","aria-hidden":"true"})}),w.map((function(e){return Object(C.jsx)(X,{work:e},null===e||void 0===e?void 0:e._id)})),Object(C.jsx)("button",{onClick:D,className:"btn btn-right-carrousel",id:"btn-right",children:Object(C.jsx)("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})})]})})]})]}):Object(C.jsxs)("div",{className:"works ",children:[Object(C.jsx)("span",{className:"title-header",children:" Mis Trabajos "}),Object(C.jsx)("div",{className:"works-grid p-1 my-2",children:p.length>=0?p.map((function(e){return Object(C.jsx)(K,{work:e},e._id)})):null})]})},Z=s.p+"static/media/adminLogo.4d8edb82.png",ee=function(){var e=Object(r.b)(),t=function(e){},s=Object(r.c)((function(e){return e.auth})),a=s.username,n=s.role,c=s.uid;return Object(C.jsxs)("div",{className:"content-header",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-open-menu-mobile",className:"fas fa-bars"}),Object(C.jsxs)("div",{onMouseOut:function(){var e=document.querySelector(".menu-user");e.style.visibility="hidden",e.style.opacity=0},onMouseOver:function(){var e=document.querySelector(".menu-user");e.style.visibility="visible",e.style.opacity=1},onClick:function(e){document.querySelector(".menu-user").classList.toggle("active-mobile")},className:"content-header-right",children:[Object(C.jsxs)("div",{className:"user-logo",children:["admin"===n?Object(C.jsx)("img",{src:Z,alt:"logo admin"}):Object(C.jsx)("img",{src:$,alt:"logo user commun"}),Object(C.jsx)("span",{className:"user-name",children:a})]}),Object(C.jsx)("div",{className:"menu-user",children:Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Home"}),Object(C.jsxs)(i.b,{to:"/",className:"",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-home"})}),Object(C.jsx)("span",{className:"title",children:"Home"})]})]}),"user"!==n&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Clientes"}),Object(C.jsxs)(i.b,{to:"/clients",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-users"})," "]}),Object(C.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(C.jsxs)(i.b,{to:"/works",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Trabajos"})]})]}),Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(C.jsxs)(i.b,{to:"/client/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(C.jsxs)(i.b,{to:"/work/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===n&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(C.jsxs)(i.b,{to:"/works/histories/all",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-history"})," "]}),Object(C.jsx)("span",{className:"title",children:"Hist. Trab/Gastos"})]})]}),Object(C.jsxs)("li",{className:"menu-item",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Novedades"}),Object(C.jsxs)(i.b,{to:"/news",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-star-and-crescent"})," "]}),Object(C.jsx)("span",{className:"title",children:"Novedades"})]})]})]}),Object(C.jsx)("hr",{}),Object(C.jsx)("li",{className:"menu-item",onClick:t,children:Object(C.jsxs)(i.b,{to:"/clients/".concat(c),children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-user-circle"})," "]}),Object(C.jsx)("span",{className:"title",children:"Mis Datos"})]})}),Object(C.jsxs)("li",{onClick:function(){e(O())},className:"menu-item",children:[Object(C.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(C.jsxs)(i.b,{to:"#",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(C.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})]})})]})]})},te=s.p+"static/media/logoNovaWhite.80a4b1d0.png",se=function(){var e=Object(r.c)((function(e){return e.auth})).role,t=function(e){console.log("hereee.");var t=document.querySelectorAll(".link-lateral");t.forEach((function(e){e.classList.toggle("active")})),console.log(t,t.length)},s=Object(r.b)();return Object(C.jsx)("div",{className:"navbar",children:Object(C.jsxs)("div",{className:"navbar__container",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active")},id:"btn-close-mobil",className:"fas fa-times"}),Object(C.jsxs)("div",{className:"navegation",children:[Object(C.jsxs)("div",{className:"navegation-header",children:[Object(C.jsx)("i",{onClick:function(){document.querySelector(".navbar").classList.toggle("active-mini-menu"),document.querySelector(".content-principal").classList.toggle("toggleContentPrincipal"),document.querySelector(".content-header").classList.toggle("toggleContentHeader")},class:"fas fa-bars"}),Object(C.jsx)("div",{className:"img",children:Object(C.jsx)("img",{src:te,alt:"Logo Nova",width:"25"})})]}),Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Home"}),Object(C.jsxs)(i.b,{to:"/",className:"",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-home"})}),Object(C.jsx)("span",{className:"title",children:"Home"})]})]}),"user"!==e&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Clientes"}),Object(C.jsxs)(i.b,{to:"/clients",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-users"})," "]}),Object(C.jsx)("span",{className:"title",children:"Clientes"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Trabajos"}),Object(C.jsxs)(i.b,{to:"/works",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-th-list"})}),Object(C.jsx)("span",{className:"title",children:"Trabajos"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Cliente"}),Object(C.jsxs)(i.b,{to:"/client/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Cliente"})]})]}),Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Agregar Trabajo"}),Object(C.jsxs)(i.b,{to:"/work/add",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{class:"fas fa-calendar-plus"})}),Object(C.jsx)("span",{className:"title",children:"Agregar Trabajo"})]})]}),"admin"===e&&Object(C.jsxs)("li",{className:"menu-item link-lateral",onClick:t,children:[Object(C.jsx)("span",{className:"cartel",children:"Historial de Trabajo"}),Object(C.jsxs)(i.b,{to:"/works/histories/all",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("i",{class:"fas fa-history"})," "]}),Object(C.jsx)("span",{className:"title",children:"Hist. Trab/Gastos"})]})]})]})]}),Object(C.jsx)("div",{className:"navegation-footer",children:Object(C.jsxs)("li",{onClick:function(){s(O())},className:"menu-item",children:[Object(C.jsx)("span",{className:"cartel",children:"Cerrar Sesion"}),Object(C.jsxs)(i.b,{to:"#",children:[Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(C.jsx)("span",{className:"title",children:"Cerrar Sesion"})]})]})})]})]})})},ae=function(e){return{type:h.a.getAllOrders,payload:e}},ne=s(41),ce=s(29),re=s.n(ce),ie=s.p+"static/media/3.37f87e4b.png",le=function(e){var t,s,n,c=e.order,r=Object(a.useState)(!1),i=Object(f.a)(r,2),l=i[0],o=i[1];if(null===c.work)return Object(C.jsx)("div",{children:"Orden no existe ...."});var u=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),re.a.post("".concat("https://novatechnology.herokuapp.com/api/v1/","orders/").concat(null===c||void 0===c?void 0:c._id),{}).then((function(){return re.a.get("".concat("https://novatechnology.herokuapp.com/api/v1/","orders/fetchPdf/download"),{responseType:"blob"})})).then((function(e){var t,s=new Blob([e.data],{type:"application/pdf"});Object(ne.saveAs)(s,"".concat(null===(t=c.work)||void 0===t?void 0:t.codigo,".pdf")),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"orden",children:[Object(C.jsx)("div",{className:"photo",children:Object(C.jsx)("img",{src:ie,alt:""})}),Object(C.jsxs)("div",{className:"body-pdf",children:[Object(C.jsx)("h3",{className:"codigo",children:null===(t=c.work)||void 0===t?void 0:t.codigo}),Object(C.jsxs)("h5",{className:"marca",children:[" ",null===(s=c.work)||void 0===s?void 0:s.marca," "]}),Object(C.jsxs)("h5",{className:"modelo",children:[" ",null===(n=c.work)||void 0===n?void 0:n.modelo," "]}),Object(C.jsx)("button",{onClick:u,className:"btn-download-pdf",children:l?Object(C.jsx)("span",{children:"Descargando..."}):Object(C.jsxs)("span",{className:"flex justify-between gap-x-3 align-center  ",children:[Object(C.jsx)("span",{children:"Descargar"}),Object(C.jsx)("i",{className:"fas fa-arrow-circle-down text-white text-center text-lg  bg-blue-600 shadow-md rounded-full flex align-center justify-center w-7 h-7"})]})})]})]})},oe=function(){var e=Object(r.b)(),t=Object(a.useState)(!0),s=Object(f.a)(t,2),n=s[0],c=s[1];Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("orders");case 3:return s=e.sent,e.next=6,s.json();case 6:(a=e.sent).ok&&t(ae(a.orders)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),c(!1)}),[e]);var i=Object(r.c)((function(e){return e.orders})).orders;return Object(C.jsxs)("div",{className:"orders",children:[Object(C.jsx)("span",{className:"title-header",children:"Ordenes"}),n?Object(C.jsx)(J,{}):i.length<=0?Object(C.jsx)("div",{className:"p-2 mt-3 bg-red-200 shadow rounded text-center text-2xl text-red-600",children:"No hay Ordenes disponibles por el momento..."}):Object(C.jsx)("div",{className:"ordenes   shadow-lg ",children:i.map((function(e){return Object(C.jsx)(le,{order:e},e._id)}))})]})},de=function(e){var t=e.match,s=e.history,n=t.params.clientId,c=Object(a.useState)([]),l=Object(f.a)(c,2),o=l[0],u=l[1],x=Object(a.useState)(!0),O=Object(f.a)(x,2),p=O[0],v=O[1],g=Object(r.c)((function(e){return e.auth})),N=g.role,w=g.uid,y=Object(r.b)(),S=Object(a.useState)(!1),E=Object(f.a)(S,2),T=E[0],I=E[1],L=Object(a.useState)(null),P=Object(f.a)(L,2),M=P[0],q=P[1];Object(a.useEffect)((function(){y(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(s){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("users/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).status===h.a.statusSuccess&&(console.log(n),s(_(n.data.user))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[y,n]);var Y=Object(r.c)((function(e){return e.clients})).client,B=k({name:null===Y||void 0===Y?void 0:Y.name,dni:null===Y||void 0===Y?void 0:Y.dni,phone1:null===Y||void 0===Y?void 0:Y.phone1,phone2:null===Y||void 0===Y?void 0:Y.phone2,direction:null===Y||void 0===Y?void 0:Y.direction,nota:null===Y||void 0===Y?void 0:Y.nota,email:null===Y||void 0===Y?void 0:Y.email}),F=Object(f.a)(B,3),z=F[0],G=F[1],W=F[2];Object(a.useEffect)((function(){y(A(null===Y||void 0===Y?void 0:Y._id)),v(!1)}),[y,v,null===Y||void 0===Y?void 0:Y._id]);var H=z.name,U=z.dni,V=z.phone1,X=z.phone2,Q=z.direction,Z=z.nota,ee=z.email,te=function(){var e=!0,t=[];return H||(e=!1,t.name=!0),ee||(e=!1,t.email=!0),(!U||U.length<8||U.length>11)&&(e=!1,t.dni=!0),(!V||V.length<7)&&(e=!1,t.phone1=!0),u(t),!!e},se=Object(r.c)((function(e){return e.clients})).clientWorks,ae=function(){document.querySelector(".modal-client-img").classList.toggle("hidden")},ne=function(e){document.querySelector(".edit-client").classList.toggle("active"),W()},ce=function(e){document.querySelector(".delete-client-box").classList.toggle("active")};return Object(C.jsxs)("div",{className:"userBox",children:[Object(C.jsxs)("div",{className:"delete-client-box",children:[Object(C.jsx)("div",{className:"delete-client-overlay",onClick:ce}),Object(C.jsxs)("div",{className:"delete-client shadow rounded",children:[Object(C.jsx)("div",{className:"delete-client-header",children:"Borrar Cliente"}),Object(C.jsxs)("div",{className:"delete-client-body",children:[Object(C.jsxs)("h3",{children:["Estas seguro de borrar el cliente? ",Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"username bg-gray-800 text-red-300 p-2 mt-1 shadow rounded",children:null===Y||void 0===Y?void 0:Y.dni})]}),Object(C.jsx)("div",{className:"delete-cliente-response",children:Object(C.jsxs)("div",{className:"user-header-action flex justify-between gap-2",children:[Object(C.jsx)("button",{className:" bg-red-600 shadow-md rounded-full hover:bg-red-700 ",onClick:function(e){y(function(e){return console.log(e),function(){var t=Object(j.a)(d.a.mark((function t(s){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("users/".concat(e),[],"DELETE");case 3:return a=t.sent,console.log(a),t.next=7,a.json();case 7:n=t.sent,console.log(n),n.status===h.a.statusSuccess?D.fire({icon:"success",title:"Cliente Borrado con exito"}):m.a.fire("error",n.message,"error"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),m.a.fire("error",t.t0,"error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(n)),document.querySelector(".delete-client-box").classList.toggle("active"),setTimeout((function(){s.push("/clients")}),500)},children:"SI"}),Object(C.jsx)("button",{onClick:ce,className:" bg-gray-800 shadow hover:bg-gray-900 rounded-full ",children:"NO"})]})})]})]})]}),Object(C.jsx)("div",{className:"user-header",children:Object(C.jsxs)("div",{className:"one-user",children:[Object(C.jsx)("div",{onClick:ae,className:"shadow-md cursor-pointer",children:(null===Y||void 0===Y?void 0:Y.pathImg)?Object(C.jsx)("img",{className:"w-32 h-32 ",src:"/assets/img/client/".concat(null===Y||void 0===Y?void 0:Y.pathImg),alt:null===Y||void 0===Y?void 0:Y.name}):Object(C.jsx)("img",{src:$,alt:"logo user",className:"rounded-full h-full w-full"})}),Object(C.jsxs)("div",{className:"user-info",children:[Object(C.jsxs)("h4",{children:["Nombre : ",null===Y||void 0===Y?void 0:Y.name]}),Object(C.jsxs)("h4",{children:["DNI : ",null===Y||void 0===Y?void 0:Y.dni]}),Object(C.jsxs)("h4",{children:["Direcci\xf3n : ",(null===Y||void 0===Y?void 0:Y.direction)?Y.direction:"---"]}),Object(C.jsxs)("h4",{children:["Tel 01 : ",null===Y||void 0===Y?void 0:Y.phone1]}),Object(C.jsxs)("h4",{children:["Tel 02 : ",(null===Y||void 0===Y?void 0:Y.phone2)?Y.phone2:"---"]}),Object(C.jsxs)("h4",{children:["Nota : ",(null===Y||void 0===Y?void 0:Y.nota)?Y.nota:"---"]}),Object(C.jsxs)("h4",{children:["Fecha de Alta : ",R()(null===Y||void 0===Y?void 0:Y.createAt).format("DD-MM-yyyy HH:mm:ss")]}),(null===Y||void 0===Y?void 0:Y._id)===w&&Object(C.jsx)(i.b,{className:"text-green-600",to:"/user/update-password",children:"Cambiar contrase\xf1a"})]}),"admin"===N&&Object(C.jsxs)("div",{className:"user-header-action flex flex-col gap-2",children:[Object(C.jsx)("button",{className:" bg-blue-700 shadow-md rounded-full hover:bg-blue-900 ",onClick:ne,children:"Edit"}),Object(C.jsx)("button",{onClick:ce,className:" bg-red-700 shadow rounded-full ",children:"Borar"})]})]})}),Object(C.jsxs)("div",{className:"my-3 p-1 text-2Xl text-gray-800 shadow",children:["TOTAL TRABAJOS : ",se.length]}),Object(C.jsxs)("div",{className:"works-grid",children:[se.length>0?p?Object(C.jsx)(J,{}):se.map((function(e){return Object(C.jsx)(K,{setIdChange:q,idChange:M,work:e},e._id)})):Object(C.jsxs)("div",{className:"no-result",children:[Object(C.jsxs)("h1",{className:"no-works",children:[Object(C.jsxs)("span",{children:[null===Y||void 0===Y?void 0:Y.name," "]}),"nunca hizo un trabajo..."]}),Object(C.jsx)("i",{class:"fas fa-sad-tear"})]}),Object(C.jsx)("div",{className:"bg-gray-200 add-work-user shadow rounded hover:bg-gray-300 hover:shadow-lg",children:Object(C.jsx)(i.b,{to:"/work/add#".concat(null===Y||void 0===Y?void 0:Y._id),className:"flex justify-center items-center h-full text-pink-500",children:Object(C.jsx)("i",{class:"fas fa-plus-circle duration-800"})})})]}),Object(C.jsxs)("div",{className:"edit-client",children:[Object(C.jsx)("div",{onClick:ne,className:"edit-client-overlay"}),Object(C.jsx)("div",{className:"form-update-box",children:Object(C.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),console.log("entra"),I(!0),te()?(y((t=z,function(){var e=Object(j.a)(d.a.mark((function e(s){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("users/updateMe",t,"PATCH");case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).status===h.a.statusSuccess?(s(_(n.data.user)),D.fire({icon:"success",title:"Cliente editado con exito!!!"})):D.fire({icon:"error",title:n.msg}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),D.fire({icon:"error",title:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),document.querySelector(".edit-client").classList.toggle("active")):console.log(o),I(!1)},className:"user-edit-form  shadow-lg rounded-md",children:[Object(C.jsx)("span",{onClick:ne,className:"close absolute right-2 top-2",children:Object(C.jsx)("i",{className:"fas fa-times-circle p-2 bg-red-500 hover:bg-red-700 text-white rounded-full shadow-md cursor-pointer"})}),Object(C.jsx)("h3",{children:"Actualizar Cliente"}),Object(C.jsxs)("div",{className:"form-grid",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Nombre Cliente ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:G,value:H,type:"text",name:"name",placeholder:"ingresa el nombre",className:"shadow"}),o.name?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El nombre es obligatorio"}):null," "]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["DNI ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:G,value:U,type:"text",placeholder:"ingresa el dni",name:"dni",className:"shadow"}),o.dni?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El dni es obligatorio. [8 , 11] digitos"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Correo"}),Object(C.jsx)("input",{className:"shadow",onChange:G,value:ee,type:"email",name:"email",placeholder:"Ingrese su correo electronico"}),o.email?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"El email es obligatorio y debe ser valido"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Telefono 1 ",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:G,value:V,type:"text",name:"phone1",placeholder:"ingresa el numero de celular",className:"shadow"}),o.phone1?Object(C.jsx)("span",{className:"text-red-500 text-center bg-red-100 p-1",children:"Tenes que ingregar por lo menos un celular"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Telefono 2"}),Object(C.jsx)("input",{onChange:G,value:X,type:"text",name:"phone2",placeholder:"ingresa el segundo telefono",className:"shadow"})," "]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Direcci\xf3n"}),Object(C.jsx)("input",{className:"shadow",onChange:G,value:Q,type:"text",name:"direction",placeholder:"ingresa la direccion"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Nota"}),Object(C.jsx)("input",{className:"shadow",onChange:G,value:Z,type:"text",name:"nota",placeholder:"ingresa una nota"})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{disabled:T,className:"btn shadow-lg",type:"submit",children:T?"Actualizando... ":" Actualizar Cliente"})]})})]}),Object(C.jsxs)("div",{className:"modal-client-img hidden absolute z-10 bg-gray-600 w-full bg-opacity-50 place-content-center max-h-auto min-h-screen flex justify-center items-center top-0 left-0",children:[Object(C.jsx)("div",{onClick:ae,className:"overlay  absolute h-full w-full top-0 left-0"}),Object(C.jsx)("div",{id:"img-client",className:"flex justify-center  items-center",children:Object(C.jsx)("img",{className:"max-w-lg z-20 border-2 border-bg-red-200",alt:"logo user",src:$})}),Object(C.jsx)("span",{onClick:ae,className:"absolute text-center flex justify-center items-center text-right top-10 right-10 h-10 w-10 rounded-full bg-white shadow-md p-1 cursor-pointer",children:Object(C.jsx)("i",{class:"far fa-times-circle text-3xl text-red-300"})})]})]})},je=function(e){var t=e.username,s=e.width,a="";switch(Math.floor(6*Math.random())){case 1:a="green-500";break;case 2:a="yellow-300";break;case 3:a="red-400";break;case 4:a="gray-500";break;case 5:a="pink-500";break;default:a="blue-300"}return Object(C.jsx)("div",{className:"avatar-default bg-"+a,style:{width:s},children:Object(C.jsx)("span",{className:"letter",children:t[0]})})},ue=function(e){var t=e.client;return Object(C.jsxs)(i.b,{to:"clients/".concat(t._id),className:"user",children:[Object(C.jsx)("div",{className:"img-user",children:(null===t||void 0===t?void 0:t.pathImg)&&"htt"===t.pathImg.slice(0,3)?Object(C.jsx)("img",{className:"rounded-full w-24 h-24 shadow-md border-2",src:null===t||void 0===t?void 0:t.pathImg,alt:null===t||void 0===t?void 0:t.name}):Object(C.jsx)(je,{username:null===t||void 0===t?void 0:t.name})}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"user-info",children:[Object(C.jsx)("h4",{className:"capitalize",children:t.name}),Object(C.jsx)("h4",{className:"capitalize",children:t.dni})]})]})},be=function(){var e=Object(r.b)(),t=Object(a.useState)(""),s=Object(f.a)(t,2),n=s[0],c=s[1],l=Object(a.useState)([]),o=Object(f.a)(l,2),d=o[0],j=o[1],u=Object(a.useState)(!0),b=Object(f.a)(u,2),h=b[0],x=b[1];Object(a.useEffect)((function(){x(!0),e(I()),x(!1)}),[e]);var m=Object(r.c)((function(e){return e.clients})).clients;Object(a.useEffect)((function(){x(!0),j(m.filter((function(e){return e.dni.includes(n)||e.name.toLowerCase().includes(n.toLowerCase())}))),x(!1)}),[n,m]);return Object(C.jsxs)("div",{className:"users",children:[Object(C.jsx)("span",{className:"title-header",children:"Clientes"}),Object(C.jsx)("div",{className:"add-client-flotante",children:Object(C.jsx)(i.b,{to:"/client/add",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})})}),m.length>=10&&Object(C.jsxs)("div",{className:"box-search relative",children:[Object(C.jsxs)("div",{className:"users-filter hidden",children:[Object(C.jsx)("h3",{children:"FIltro de Cliente"}),Object(C.jsx)("span",{children:"Buscar Cliente por nombre y/o DNI"})]}),Object(C.jsxs)("div",{className:"search-box-userworks bg-gray-800 ",children:[Object(C.jsx)("form",{className:"w-full",children:Object(C.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)},placeholder:"Buscar cliente por nombre o dni...",name:"searchClient",type:"text",autoComplete:"off",className:"text-gray-900",id:"searchClientInput"})}),Object(C.jsx)("i",{onClick:function(){c(""),j([])},class:"fas fa-times cursor-pointer duration-500 text-gray-600  right-3 bg-gray-100 hover:text-white hover:bg-red-500"})]})]}),n.length>0&&0===d.length&&Object(C.jsx)("div",{className:"message-result-empty   bg-red-500 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),h?Object(C.jsx)(J,{}):d.length>0?Object(C.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:d.map((function(e){return Object(C.jsx)(ue,{client:e},e._id)}))}):m.length>0?Object(C.jsx)("div",{className:"h-12/12 bg-gray-50 users-grid",children:m.map((function(e){return Object(C.jsx)(ue,{client:e},e._id)}))}):Object(C.jsxs)("div",{className:"no-cliente",children:[Object(C.jsx)("span",{className:"text-center text-2xl",children:"No hay cliente por el momento"}),Object(C.jsx)(i.b,{to:"/client/add",className:"btn add-client text-white p-3",children:"Agregar Cliente"})]})]})},he=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("state");case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){var t=e.history,s=e.refresh,n=e.setRefresh,c=Object(r.b)();Object(a.useEffect)((function(){c(I())}),[c]);var i=Object(r.c)((function(e){return e.clients})).clients,l=(Object(r.c)((function(e){return e.auth})).uid,Object(a.useState)([])),o=Object(f.a)(l,2),u=o[0],x=o[1],O=Object(a.useState)(!1),p=Object(f.a)(O,2),v=p[0],g=p[1],N=Object(a.useState)(!1),w=Object(f.a)(N,2),y=w[0],S=w[1],E=Object(a.useState)(!1),T=Object(f.a)(E,2),D=T[0],L=T[1],A=Object(a.useState)(!1),P=Object(f.a)(A,1)[0],M=Object(a.useState)(!1),_=Object(f.a)(M,1)[0],q=Object(a.useState)(""),Y=Object(f.a)(q,2),B=Y[0],R=Y[1],G=Object(a.useState)([]),W=Object(f.a)(G,2),H=W[0],U=W[1],$=Object(a.useState)(!1),V=Object(f.a)($,2),J=V[0],X=V[1],K=Object(a.useState)(null);Object(f.a)(K,1)[0];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,U(t.data.states);case 4:case"end":return e.stop()}}),e)}))),[U]);var Q=k({marca:"",modelo:"",emei:"",estado:"",precio:0,descuento:0,fachasEncontradas:"",observaciones:"",descripcion:"",recargo:0,cliente:"",fechaFin:null,tieneContrasena:P,esPatron:_,contrasena:"",patron:"",total:0}),Z=Object(f.a)(Q,3),ee=Z[0],te=Z[1],se=Z[2],ae=ee.marca,ne=ee.modelo,ce=ee.emei,re=ee.estado,ie=ee.precio,le=ee.descuento,oe=ee.fachasEncontradas,de=ee.descripcion,je=ee.observaciones,ue=ee.recargo,be=ee.cliente,xe=ee.esPatron,me=ee.tieneContrasena,Oe=ee.contrasena,pe=ee.patron,ve=function(){var e=!0,t=[];return ae&&0!==ae.trim().length||(e=!1,t.marca=!0),ne&&0!==ne.trim().length||(e=!1,t.modelo=!0),be||(e=!1,t.cliente=!0),re||(e=!1,t.estado=!0),je&&0!==je.trim().length||(e=!1,t.observaciones=!0),me&&(xe||0!==Oe.length?g(!1):(g(!0),e=!1)),xe&&(0===pe.length?(g(!0),e=!1):g(!1)),x(t),!!e};return Object(C.jsxs)("div",{className:"work-add",children:[Object(C.jsx)("h3",{children:"Agregar Trabajo"}),Object(C.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),X(!0),ve()?(c((a=ee,function(){var e=Object(j.a)(d.a.mark((function e(t){var s,n,c,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=parseInt(a.precio),n=s*parseInt(a.descuento)/100,c=s*a.recargo/100,a.total=s+c-n,e.next=7,b("works",a,"POST");case 7:return r=e.sent,e.next=10,r.json();case 10:(i=e.sent).status===h.a.statusSuccess?F.fire({icon:"success",title:"Se agreg\xf3 con exito el trabajo!!!"}):F.fire({icon:"error",title:i.message}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),m.a.fire("error","Hubo un fallo al hacer la petition...","error");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())),se(),c(z()),n(!s),t.push("/works")):(console.log(u),console.log(ee)),X(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(C.jsxs)("div",{className:"grid-content",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Marca",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:te,value:ae,type:"text",name:"marca",placeholder:"ingresa la marca"}),u.marca?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Modelo",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:te,value:ne,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),u.modelo?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Cliente",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",value:be,onChange:te,name:"cliente",list:"clientes",placeholder:"ingresa nombre o dni "}),Object(C.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),i.map((function(e){return Object(C.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),u.cliente?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Estado",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("select",{value:re,onChange:te,name:"estado",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),H.map((function(e){return Object(C.jsxs)("option",{value:e._id,children:[" ",e.name," "]},e._id)}))]}),u.estado?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Emei / Serie"}),Object(C.jsx)("input",{onChange:te,value:ce,type:"text",name:"emei",placeholder:"ingrese el email "})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"recargo"}),Object(C.jsx)("input",{value:ue,onChange:te,type:"text",name:"recargo",placeholder:"ingresa el % de recargo ",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"precio"}),Object(C.jsx)("input",{value:ie,onChange:te,type:"text",name:"precio",placeholder:"ingresa un precio ",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"descuento"}),Object(C.jsx)("input",{onChange:te,type:"text",name:"descuento",value:le,placeholder:"ingresa el % de descuento ",min:0})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Observaciones",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("textarea",{value:je,onChange:te,placeholder:"ingresa sintomas ",name:"observaciones",children:" "}),u.observaciones?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(C.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(C.jsx)("textarea",{value:oe,onChange:te,name:"fachasEncontradas",placeholder:"(opcional )ingresa los problemas detectadas despues de la Revisi\xf3n  "}),Object(C.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(C.jsx)("textarea",{value:de,onChange:te,placeholder:"(opcional )Menciona los arreglos hechos ",name:"descripcion"})]}),Object(C.jsxs)("div",{className:"flex items-center",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(S(!0),ee.tieneContrasena=!0):(S(!1),ee.tieneContrasena=!1,ee.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(C.jsx)("br",{}),y&&Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{className:"flex items-center mb-1",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(L(!0),ee.esPatron=!0,ee.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(ee.contrasena="",ee.patron="",R(""),L(!1),ee.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(C.jsxs)("div",{id:"input-password",children:[Object(C.jsxs)("label",{children:["Contrase\xf1a ",Object(C.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(C.jsx)("input",{value:Oe,onChange:te,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(C.jsx)("br",{}),D&&Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",onClick:function(e){R(B+e.target.textContent),ee.patron=B+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),v?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(C.jsx)("br",{}),D?Object(C.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:B}):null,Object(C.jsx)("button",{className:"btn",type:"submit",children:J?"Espere...":"  Agregar Trabajo"})]})]})},me=function(e){var t,s,n,c,l=e.match,o=e.history,u=Object(r.b)(),h=Object(a.useState)(200),x=Object(f.a)(h,2),O=x[0],p=x[1],v=Object(r.c)((function(e){return e.auth})).role,g=Object(a.useState)([]),N=Object(f.a)(g,2),w=(N[0],N[1]),k=Object(a.useState)([]),y=Object(f.a)(k,2),S=(y[0],y[1],Object(a.useState)([])),E=Object(f.a)(S,2),T=(E[0],E[1]),D=Object(a.useState)(!1),I=Object(f.a)(D,2),L=(I[0],I[1],l.params.workId);Object(a.useEffect)((function(){u(G(L))}),[u,L]),Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,w(t.data.states);case 4:case"end":return e.stop()}}),e)}))),[w]);var A=Object(r.c)((function(e){return e.works})).work;Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===A||void 0===A?void 0:A.states.length)<=0)){e.next=8;break}return e.next=3,b("work_state/getStates/".concat(L));case 3:return t=e.sent,e.next=6,t.json();case 6:(s=e.sent).ok&&T(s.workState.state);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]);var P="";switch(null===A||void 0===A?void 0:A.estado.name){case"Revision":P="text-red-700";break;case"Presupuesto":P="text-gray-400";break;case"En Reparaci\xf3n":P="text-yellow-500";break;case"Terminado":P="text-green-200";break;default:P="text-green-500"}return Object(C.jsxs)("div",{className:"one-work relative",children:[Object(C.jsxs)("div",{className:"absolute text-center uppercase flex gap-2  ",children:[Object(C.jsx)("button",{onClick:function(){o.goBack()},className:"text-white w-8 h-8 bg-gray-600 p-1 rounded-full hover:bg-gray-800 ",children:Object(C.jsx)("i",{class:"fas fa-arrow-circle-left"})}),"user"!==v&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(i.b,{to:"/work/edit/".concat(L),className:"text-white bg-pink-600 p-1 w-8 h-8 rounded-full hover:bg-pink-800  ",children:Object(C.jsx)("i",{class:"fas fa-edit"})}),Object(C.jsx)("button",{onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el trabajo definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&(u(W(L)),o.push("/works"))}))},className:"text-white w-8 h-8 bg-red-600 p-1 rounded-full hover:bg-red-800 ",children:Object(C.jsx)("i",{class:"fas fa-trash"})})]})]}),Object(C.jsxs)("div",{className:"one-work-grid",children:[Object(C.jsx)("i",{className:" fas fa-mobile-alt flex justify-center items-center "+P}),Object(C.jsxs)("div",{className:"one-work-body grid grid-cols-2 grid-rows-2 gap-2",children:[Object(C.jsxs)("div",{className:"work-data shadow rounded bg-gray-700 text-white p-1",children:[Object(C.jsxs)("p",{children:["Codigo : ",null===A||void 0===A?void 0:A.codigo," "]}),Object(C.jsxs)("p",{children:["Marca : ",null===A||void 0===A?void 0:A.marca," "]}),Object(C.jsxs)("p",{children:["Modelo : ",null===A||void 0===A?void 0:A.modelo]}),Object(C.jsxs)("p",{children:["Imei : ",null===A||void 0===A?void 0:A.emei]}),Object(C.jsxs)("p",{children:["Estado:",null===A||void 0===A?void 0:A.estado.name]}),(null===A||void 0===A?void 0:A.tieneContrasena)&&Object(C.jsxs)("p",{children:["Contrase\xf1a : ",null===A||void 0===A?void 0:A.contrasena]})]}),(null===A||void 0===A?void 0:A.cliente)?Object(C.jsxs)("div",{className:"client-data rounded shadow bg-pink-500 p-1",children:[Object(C.jsx)("img",{className:"rounded-full h-12 w-12",src:$,alt:"logo user"}),Object(C.jsxs)("p",{children:["Cliente :"," ",Object(C.jsxs)(i.b,{className:"underline text-white",to:"/clients/".concat(null===A||void 0===A||null===(t=A.cliente)||void 0===t?void 0:t._id),children:[" ",null===A||void 0===A||null===(s=A.cliente)||void 0===s?void 0:s.name," "]})]}),Object(C.jsxs)("p",{children:["DNI : ",null===A||void 0===A||null===(n=A.cliente)||void 0===n?void 0:n.dni]}),Object(C.jsxs)("p",{children:["Celular 1 : ",null===A||void 0===A||null===(c=A.cliente)||void 0===c?void 0:c.phone1]})]}):Object(C.jsx)("div",{className:"cliente-no-existe flex justify-center items-center text-white text-center client-data rounded shadow bg-pink-700",children:Object(C.jsxs)("h3",{children:["Cliente no encontrado... ",Object(C.jsx)("br",{}),"Puede ser que se haya borrado anteriormente."]})}),Object(C.jsxs)("div",{className:"price-data rounded shadow bg-blue-400 p-1",children:[Object(C.jsxs)("p",{children:["Precio: ",null===A||void 0===A?void 0:A.precio]}),Object(C.jsxs)("p",{children:["Pecargo: ",null===A||void 0===A?void 0:A.recargo]}),Object(C.jsxs)("p",{children:["descuento: ",null===A||void 0===A?void 0:A.descuento]}),Object(C.jsxs)("p",{children:["Total: ",null===A||void 0===A?void 0:A.total]})]}),Object(C.jsxs)("div",{className:"price-data rounded shadow bg-red-400 p-1",children:[Object(C.jsx)("span",{className:"text-white text-lg underline",children:"Historiales de Estados "}),Object(C.jsx)("ol",{children:null===A||void 0===A?void 0:A.states.map((function(e){return Object(C.jsx)("li",{children:e.nombre+" - "+R()(e.fecha).format("DD-MM-YY HH:mm:ss")})}))})]}),(null===A||void 0===A?void 0:A.fachasEncontradas)&&Object(C.jsx)("div",{className:"trouble-data rounded shadow bg-green-400 p-1",children:Object(C.jsxs)("p",{children:["facha(s) Encontradas : ",null===A||void 0===A?void 0:A.fachasEncontradas]})}),(null===A||void 0===A?void 0:A.observaciones)&&Object(C.jsx)("div",{className:"trouble-data transition duration-1000 ease-in-out rounded shadow bg-yellow-400 p-1",children:Object(C.jsxs)("p",{className:"transition duration-1000 ease-in-out",children:["Observaciones : ",Object(C.jsx)("br",{})," ",null===A||void 0===A?void 0:A.observaciones.slice(0,O),(null===A||void 0===A?void 0:A.observaciones.length)>200?Object(C.jsx)("span",{onClick:function(e){p(null===A||void 0===A?void 0:A.observaciones.length),e.target.classList.add("hidden"),document.querySelector(".ver-menos").classList.remove("hidden")},className:"ver-mas cursor-pointer text-white duration-500",children:"...Ver M\xe1s"}):null,Object(C.jsx)("span",{onClick:function(e){p(200),e.target.classList.add("hidden"),document.querySelector(".ver-mas").classList.remove("hidden")},className:"ver-menos cursor-pointer text-pink-400 duration-500 hidden",children:"...Ver Menos"})]})}),(null===A||void 0===A?void 0:A.descripcion)&&Object(C.jsx)("div",{className:"trouble-data rounded-md bg-pink-400 p-1",children:Object(C.jsxs)("p",{children:["descripcion : ",Object(C.jsx)("br",{})," ",null===A||void 0===A?void 0:A.descripcion]})}),Object(C.jsx)(i.b,{to:"/works/order/".concat(L),className:"bg-gray-800 flex justify-center items-center text-white text-center shadow rounded ",children:"GENERAR PDF"})]})]}),(null===A||void 0===A?void 0:A.esPatron)&&Object(C.jsxs)("div",{className:"patron grid grid-cols-2 p-2 shadow my-2",children:[Object(C.jsx)("div",{className:"text-green-500 text-4xl text-center flex justify-center items-center",children:null===A||void 0===A?void 0:A.patron}),Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",className:(null===A||void 0===A?void 0:A.patron.includes(e))?"bg-green-700  w-8 h-8 flex justify-center items-center hover:bg-green-400 duration-600 ":"bg-gray-200  w-8 h-8 flex justify-center items-center hover:bg-green-400  duration-600",children:e},e)}))})]}),"user"!==v&&Object(C.jsxs)("div",{className:"update-state",children:[Object(C.jsx)("button",{className:"bg-gray-400 hover:bg-gray-600",children:"Presupuesto"}),Object(C.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-600",children:"Terminado"}),Object(C.jsx)("button",{className:"bg-green-300 hover:bg-green-400",children:"Reparaci\xf3n"}),Object(C.jsx)("button",{className:"bg-green-500 hover:bg-green-700",children:"Entregado"})]})]})},Oe=function(e){var t=e.history,s=Object(r.b)(),n=k({estado:""}),c=Object(f.a)(n,2),l=c[0],o=c[1],u=l.estado,b=Object(a.useState)(""),h=Object(f.a)(b,2),x=h[0],m=h[1],O=Object(a.useState)(!0),p=Object(f.a)(O,2),v=p[0],g=p[1],N=Object(a.useState)([]),w=Object(f.a)(N,2),y=w[0],S=w[1],E=Object(a.useState)(null),T=Object(f.a)(E,2),D=T[0],I=T[1],L=Object(a.useState)(50),A=Object(f.a)(L,2),P=A[0],M=A[1],_=Object(a.useState)(1),q=Object(f.a)(_,2),Y=q[0],B=q[1],R=Object(a.useState)([]),F=Object(f.a)(R,2);F[0],F[1];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(z(P,Y)),S([]),g(!1);case 3:case"end":return e.stop()}}),e)}))),[s,P,Y,g,v]);var G=Object(r.c)((function(e){return e.works})),W=G.works,H=G.total,U=G.page,$=G.results;Object(a.useEffect)((function(){S("Todos"===u||""===u?W:W.filter((function(e){return e.estado.name===u})))}),[u]),console.log(y,W),Object(a.useEffect)((function(){S(""!==x?W.filter((function(e){return e.codigo.includes(x)})):[])}),[x]);for(var V=[],X=1;X<=U;X++)V.push(X);return Object(C.jsxs)("div",{className:"works ",children:[Object(C.jsxs)("div",{className:"limit-total-results search-box-all-works",children:[Object(C.jsxs)("span",{className:"total-results bg-white shadow text-gray-900 p-1",children:[$," / ",H]}),Object(C.jsxs)("div",{className:"page-filter flex items-center",children:[Object(C.jsx)("input",{type:"text",placeholder:"pagina",className:"w-8 h-8  bg-white ",onChange:function(e){B(e.target.value)},value:Y}),Object(C.jsxs)("div",{className:"note-page-filter flex text-center justify-center curso-pointer  items-center border-l border-t-0 border-r-0 border-gray-800  bg-white rounde note w-8 h-8",children:[Object(C.jsx)("i",{children:"?"}),Object(C.jsx)("span",{className:"absolute shadow-md bg-white p-1 top-0 left-7 hidden  ",children:"Indica la pagina que quieres acceder"})]})]}),Object(C.jsx)("div",{className:"overflow-hidden  my-1 ",children:Object(C.jsxs)("form",{className:"flex w-full flex-wrap lg:justify-center gap-y-2 flex-col sm:flex-row md:justify-between items-center sm:gap-x-2",children:[Object(C.jsxs)("select",{className:" shadow  sm:w-min w-full",name:"estado",onChange:o,value:u,children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Filtrar por estado"}),["Revision","Presupuesto","En Reparacion","Terminado","Entregado","Todos"].map((function(e){return Object(C.jsx)("option",{value:e,children:e},e)}))]}),Object(C.jsx)("input",{name:"codigo",className:"shadow   sm:w-min w-full",value:x,onChange:function(e){m(e.target.value)},placeholder:"Buscar codigo de trabajo",type:"text"})]})}),Object(C.jsxs)("div",{className:"limit-box",children:[Object(C.jsx)("span",{children:"Limit"}),Object(C.jsxs)("select",{className:"",name:"limit",onChange:function(e){M(e.target.value),B(1)},value:P,children:[Object(C.jsx)("option",{value:"10",children:"10"}),Object(C.jsx)("option",{value:"20",children:"20"}),Object(C.jsx)("option",{value:"30",children:"30"}),Object(C.jsx)("option",{value:"40",children:"40"}),Object(C.jsx)("option",{value:"50",children:"50"})]})]})]}),Object(C.jsx)("div",{className:"add-client-flotante",children:Object(C.jsx)(i.b,{to:"/work/add",children:Object(C.jsx)("i",{class:"fas fa-plus-circle"})})}),0===y.length&&Object(C.jsx)("div",{className:"message-result-empty hidden  bg-red-500 text-gray-100 p-2 my-2 w-12/12 shadow-md rounded text-center",children:"No hay resultado para este filtro..."}),v?Object(C.jsx)(J,{}):Object(C.jsx)("div",{className:"works-grid p-1",children:y.length<=0?W.map((function(e){return Object(C.jsx)(K,{history:t,work:e},e._id)})):y.map((function(e){return Object(C.jsx)(K,{idChange:D,setIdChange:I,work:e},e._id)}))}),Object(C.jsx)("div",{className:"pagination",children:Object(C.jsxs)("ul",{className:"pagination-list",children:[Object(C.jsx)("li",{onClick:function(){Y>0&&B(Y-1)},className:"pagination-item-previous cursor-pointer mr-2 hover:text-green-700",children:Object(C.jsx)("i",{class:"fas fa-angle-left p-2 rounded-full shadow w-8 h-8 text-2xl text-white flex items-center bg-blue-600 hover:shadow-md hover:bg-red-700 "})}),[1,2,3,4].map((function(e){return Object(C.jsx)("li",{className:"pagination-item",onClick:function(){return B(e)},children:e},e)})),Object(C.jsx)("li",{children:"..."}),Object(C.jsx)("li",{className:"pagination-item",onClick:function(){return B(Math.ceil(V[V.length-1]/2))},children:Math.ceil(V[V.length-1]/2)},Math.ceil(V[V.length-1]/2)),Object(C.jsx)("li",{children:"..."}),Object(C.jsx)("li",{className:"pagination-item",onClick:function(){return B(V[V.length-1])},children:V[V.length-1]},V[V.length-1]),Object(C.jsx)("li",{onClick:function(){Y<U&&B(Y+1)},className:"pagination-item-next cursor-pointer ml-2 hover:text-pink-700",children:Object(C.jsx)("i",{class:"fas fa-angle-right  p-2 rounded-full shadow w-8 h-8 text-2xl text-white flex items-center bg-blue-600 hover:shadow-md hover:bg-red-700"})})]})})]})},pe=function(e){var t,s=e.work;return Object(C.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:text-white hover:bg-gray-800 duration-900 shadow cursor-pointer",children:[Object(C.jsx)("td",{className:"text-green-500 flex-1 hover:text-green-400 hover:underline",children:Object(C.jsx)(i.b,{to:"/works/".concat(null===s||void 0===s?void 0:s._id),children:null===s||void 0===s?void 0:s.codigo})}),Object(C.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.marca)+" - "+s.modelo}),Object(C.jsx)("td",{className:"flex-1 p-2 capitalize",children:null===s||void 0===s||null===(t=s.cliente)||void 0===t?void 0:t.name}),Object(C.jsx)("td",{className:"flex-1 p-2",children:"$ "+(null===s||void 0===s?void 0:s.total)}),Object(C.jsx)("td",{className:"flex-1 p-2",children:(null===s||void 0===s?void 0:s.fechaFin)?R()(null===s||void 0===s?void 0:s.fechaFin).format("DD-MM-YYYY"):"--"})]})},ve=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),ge=function(e){var t=e.gasto,s=e.setOutGoingChange,a=e.outGoingChange,n=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("outgoings/".concat(t._id),[],"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok&&(s(!a),ve.fire({icon:"success",title:c.msg}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("tr",{className:"history p-2 bg-gray-200 hover:bg-gray-300 duration-300 shadow cursor-pointer",children:[Object(C.jsx)("td",{className:"",children:R()(null===t||void 0===t?void 0:t.date).format("DD-MM-yyyy")}),Object(C.jsx)("td",{className:"flex-1 p-2",children:t.description}),Object(C.jsxs)("td",{className:"flex-1 p-2 text-red-600",children:["- $ ",t.amount," "]}),Object(C.jsx)("td",{className:"flex-1 p-2 text-red-600",children:Object(C.jsx)("i",{onClick:function(){m.a.fire({title:"Est\xe1s seguro ?",text:"Al aceptar se borrar\xe1 el gasto definitivamente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Borrar!",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&n()}))},class:"fas fa-trash p-2 shadow  rounded-full text-white bg-red-800 hover:shadow-md hover:bg-red-600 hover:p-3"})})]})},fe=m.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",m.a.stopTimer),e.addEventListener("mouseleave",m.a.resumeTimer)}}),Ne=R()(new Date).format("YYYY-MM-DD"),we=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(Ne),r=Object(f.a)(c,2),i=r[0],l=r[1],o=Object(a.useState)(Ne),u=Object(f.a)(o,2),h=u[0],x=u[1],m=Object(a.useState)([]),O=Object(f.a)(m,2),p=O[0],v=O[1],g=Object(a.useState)(!0),N=Object(f.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)([]),E=Object(f.a)(S,2),T=E[0],D=E[1],I=Object(a.useState)([]),L=Object(f.a)(I,2),A=L[0],P=L[1],M=Object(a.useState)(!1),_=Object(f.a)(M,2),q=_[0],Y=_[1],B=k({description:"",amount:0}),F=Object(f.a)(B,3),z=F[0],G=F[1],W=F[2],H=z.description,U=z.amount;Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("works/historialWork/all");case 2:return t=e.sent,e.next=5,t.json();case 5:(s=e.sent).ok&&n(s.works),y(!1);case 8:case"end":return e.stop()}}),e)}))),[]);var $=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("outgoings");case 2:return t=e.sent,e.next=5,t.json();case 5:(s=e.sent).ok&&D(s.gastos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[q]);Object(a.useEffect)((function(){v(s.filter((function(e){return R()(R()(e.fechaFin).format("YYYY-MM-DD")).isSameOrAfter(i)&&R()(R()(e.fechaFin).format("YYYY-MM-DD")).isSameOrBefore(h)}))),P(T.filter((function(e){return R()(R()(e.date).format("YYYY-MM-DD")).isSameOrAfter(i)&&R()(R()(e.date).format("YYYY-MM-DD")).isSameOrBefore(h)})))}),[i,h]);var V=0,X=0;p.length>0&&p.map((function(e){X+=e.total})),s&&s.length>0&&s.map((function(e){V+=e.total}));var K=0,Q=0;A.length>0&&A.map((function(e){Q+=e.amount})),T&&T.length>0&&T.map((function(e){K+=e.amount}));var Z=function(e){document.querySelector(".add-outgoing-box").classList.toggle("active")},ee=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""!=H&&""!=U&&H.length<50)){e.next=11;break}return e.next=4,b("outgoings",z,"POST");case 4:return s=e.sent,e.next=7,s.json();case 7:(a=e.sent).ok?(fe.fire({icon:"success",title:a.msg}),W(),Z(),$()):fe.fire({icon:"error",title:a.msg}),e.next=11;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){document.querySelector(".gastos").classList.toggle("active")},se=function(){document.querySelector(".work-entregados").classList.toggle("active")};return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"add-outgoing-box",children:[Object(C.jsx)("div",{className:"add-outgoing-overlay",onClick:Z}),Object(C.jsxs)("div",{className:"outgoing-content shadow",children:[Object(C.jsxs)("div",{className:"outgoing-header bg-green-700",children:[Object(C.jsx)("span",{children:"Agregar Gasto"}),Object(C.jsx)("i",{onClick:Z,className:"fas fa-times-circle"})]}),Object(C.jsx)("div",{className:"outgoing-body",children:Object(C.jsxs)("form",{onSubmit:ee,children:[Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("label",{htmlFor:"description",children:"Descripcion"}),Object(C.jsx)("input",{type:"text",name:"description",onChange:G,value:H})]}),Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("label",{htmlFor:"amount",children:"Costo"}),Object(C.jsx)("input",{type:"number",name:"amount",onChange:G,value:U})]}),Object(C.jsxs)("fieldset",{className:"outgoing-actions",children:[Object(C.jsx)("button",{className:"shadow rounded bg-green-800",type:"submit",children:"Agregar"}),Object(C.jsx)("button",{className:"shadow rounded bg-gray-800",type:"button",children:"Cancelar"})]})]})})]})]}),Object(C.jsx)("span",{className:"title-header",children:"historiales Trabajos/Gastos"}),Object(C.jsxs)("div",{className:"search search-histories p-3 mt-2  sticky bg-white",children:[Object(C.jsx)("h1",{className:"text-4xl text-green-500 mb-1  p-1 ",children:"Filtrar"}),Object(C.jsxs)("div",{className:"flex box-input-filter mb-2 justify-between gap-1",children:[Object(C.jsxs)("div",{className:"flex-grow relative",children:[Object(C.jsx)("div",{className:"start-day capitalize text-green-400 text-2xl",children:"fecha Inicio"}),Object(C.jsxs)("div",{className:"relative",children:[Object(C.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:i,onChange:function(e){l(e.target.value)}}),Object(C.jsx)("i",{onClick:function(e){l(Ne)},className:"fas fa-times flex h-full items-center justify-center top-0  cursor-pointer ml-1 p-2 text-red-700 text-lg right-0 absolute"})]})]}),Object(C.jsxs)("div",{className:"flex-grow relative",children:[Object(C.jsx)("div",{className:"end-day capitalize text-green-400 text-2xl",children:"fecha Fin"}),Object(C.jsxs)("div",{className:"relative",children:[Object(C.jsx)("input",{className:"text-gray-900 bg-gray-200 rounded-none cursor-pointer",type:"Date",value:h,onChange:function(e){x(e.target.value)}}),Object(C.jsx)("i",{onClick:function(e){x(Ne)},className:"fas fa-times flex h-full items-center justify-center top-0  cursor-pointer ml-1 p-2 text-red-700 text-lg right-0 absolute"})]})]})]})]}),w?Object(C.jsx)(J,{}):p.length>0?Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(C.jsx)("span",{children:"Trab. Entregados"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(C.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(C.jsx)("thead",{className:"bg-green-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Codigo"}),Object(C.jsx)("th",{children:"Marca/Modelo"}),Object(C.jsx)("th",{children:"Cliente"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Fecha Entrega"})]})}),Object(C.jsx)("tbody",{children:p.map((function(e){return Object(C.jsx)(pe,{work:e},e._id)}))})]}),Object(C.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(C.jsx)("span",{children:"Gastos"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"}),Object(C.jsx)("div",{onClick:Z,className:"add-gastos-flotante cursor-pointer",children:Object(C.jsxs)("div",{to:"#",children:[Object(C.jsx)("i",{class:"fas fa-plus-circle"}),Object(C.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(C.jsxs)("table",{className:"shadow-md gastos",children:[Object(C.jsx)("thead",{className:"bg-red-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Fecha"}),Object(C.jsx)("th",{children:"Descripci\xf3n"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Borrar"})]})}),Object(C.jsx)("tbody",{children:A.map((function(e){return Object(C.jsx)(ge,{setOutGoingChange:Y,outGoingChange:q,gasto:e},e._id)}))})]}),Object(C.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(C.jsxs)("span",{children:["Ganancia : "," $ "+X," "]}),Object(C.jsxs)("span",{children:["Gastos : "," $ "+Q," "]}),Object(C.jsxs)("span",{children:[" Diferencias : "," $ "+(X-Q)," "]})]})]}):Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{onClick:se,className:"entregados-header gastos-header",children:[Object(C.jsx)("span",{children:"Trab. Entregados"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"})]}),Object(C.jsxs)("table",{className:"shadow-md work-entregados active",children:[Object(C.jsx)("thead",{className:"bg-green-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Codigo"}),Object(C.jsx)("th",{children:"Marca/Modelo"}),Object(C.jsx)("th",{children:"Cliente"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Fecha Entrega"})]})}),Object(C.jsx)("tbody",{children:s.map((function(e){return Object(C.jsx)(pe,{work:e},e._id)}))})]}),Object(C.jsxs)("div",{onClick:te,className:"gastos-header",children:[Object(C.jsx)("span",{children:"Gastos"}),Object(C.jsx)("i",{class:"fas fa-angle-double-down"}),Object(C.jsx)("div",{onClick:Z,className:"add-gastos-flotante cursor-pointer",children:Object(C.jsxs)("div",{to:"#",children:[Object(C.jsx)("i",{class:"fas fa-plus-circle"}),Object(C.jsx)("span",{className:"agregar-gasto",children:"Agregar Gastos"})]})})]}),Object(C.jsxs)("table",{className:"shadow-md gastos",children:[Object(C.jsx)("thead",{className:"bg-red-300 p-3",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Fecha"}),Object(C.jsx)("th",{children:"Descripci\xf3n"}),Object(C.jsx)("th",{children:"Monto"}),Object(C.jsx)("th",{children:"Borrar"})]})}),Object(C.jsx)("tbody",{children:T.map((function(e){return Object(C.jsx)(ge,{setOutGoingChange:Y,outGoingChange:q,gasto:e},e._id)}))})]}),Object(C.jsxs)("div",{className:"flex sticky bottom-0 justify-between p-2 bg-green-300 mt-1",children:[Object(C.jsxs)("span",{children:["Ganancia : "," $ "+V," "]}),Object(C.jsxs)("span",{children:["Gastos : "," $ "+K," "]}),Object(C.jsxs)("span",{children:[" Diferencias : "," $ "+(V-K)," "]})]})]})]})},ke=function(){return Object(C.jsx)("div",{className:"footer ",children:Object(C.jsx)("div",{className:"footer-container",children:Object(C.jsxs)("ul",{className:"footer-list",children:[Object(C.jsxs)("span",{className:"text-red-400 text-lg",children:[" ","\xa9 NovaTechnology ",(new Date).getFullYear()]}),Object(C.jsx)("img",{src:y,width:"30",alt:"Nova Logo"})]})})})},ye=function(e){var t=e.match,s=e.history,n=Object(r.b)(),c=Object(a.useState)([]),i=Object(f.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(!1),x=Object(f.a)(u,2),O=x[0],p=x[1],v=Object(a.useState)(!1),g=Object(f.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(!1),S=Object(f.a)(y,2),E=S[0],T=S[1],D=Object(a.useState)(!1),L=Object(f.a)(D,2),A=(L[0],L[1],Object(a.useState)(!1)),P=Object(f.a)(A,2),M=(P[0],P[1],Object(a.useState)("")),_=Object(f.a)(M,2),q=_[0],Y=_[1],B=Object(a.useState)([]),R=Object(f.a)(B,2),z=R[0],W=R[1],H=Object(a.useState)(!1),$=Object(f.a)(H,2),V=$[0],J=$[1],X=Object(a.useState)(!1),K=Object(f.a)(X,2),Q=K[0],Z=K[1];Object(a.useEffect)((function(){n(I())}),[n]);var ee=t.params.id;Object(a.useEffect)((function(){n(G(ee))}),[n,ee]);var te=Object(r.c)((function(e){return e.works})).work,se=Object(r.c)((function(e){return e.clients})).clients,ae=Object(r.c)((function(e){return e.auth})).role,ne=k({marca:null===te||void 0===te?void 0:te.marca,modelo:null===te||void 0===te?void 0:te.modelo,emei:null===te||void 0===te?void 0:te.emei,estado:null===te||void 0===te?void 0:te.estado._id,precio:null===te||void 0===te?void 0:te.precio,descuento:null===te||void 0===te?void 0:te.descuento,fachasEncontradas:null===te||void 0===te?void 0:te.fachasEncontradas,observaciones:null===te||void 0===te?void 0:te.observaciones,descripcion:null===te||void 0===te?void 0:te.descripcion,recargo:null===te||void 0===te?void 0:te.recargo,cliente:null===te||void 0===te?void 0:te.cliente._id,tieneContrasena:null===te||void 0===te?void 0:te.tieneContrasena,esPatron:null===te||void 0===te?void 0:te.esPatron,contrasena:null===te||void 0===te?void 0:te.contrasena,patron:null===te||void 0===te?void 0:te.patron,total:null===te||void 0===te?void 0:te.total}),ce=Object(f.a)(ne,3),re=ce[0],ie=ce[1],le=ce[2];Object(a.useEffect)(Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("state");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,W(s.data.states);case 7:case"end":return e.stop()}}),e)}))),[W]),console.log(te);var oe=re.marca,de=re.modelo,je=re.emei,ue=re.estado,be=re.precio,he=re.descuento,xe=re.fachasEncontradas,me=re.descripcion,Oe=re.observaciones,pe=re.recargo,ve=re.cliente,ge=re.esPatron,fe=re.tieneContrasena,Ne=re.contrasena,we=re.patron;console.log(ge,fe);var ke=function(){var e=!0,t=[];return oe&&0!==oe.trim().length||(e=!1,t.marca=!0),de&&0!==de.trim().length||(e=!1,t.modelo=!0),ve||(e=!1,t.cliente=!0),ue||(e=!1,t.estado=!0),Oe&&0!==Oe.trim().length||(e=!1,t.observaciones=!0),fe&&(ge||0!=Ne.length?p(!1):(p(!0),e=!1)),ge&&(0==we.length?(p(!0),e=!1):p(!1)),o(t),!!e};return Object(C.jsxs)("div",{className:"work-add relative",children:[Object(C.jsx)("div",{className:" absolute left-0 top-0 text-center uppercase flex gap-2  ",children:Object(C.jsx)("button",{onClick:function(){s.goBack()},children:"Volver"})}),Object(C.jsxs)("h3",{children:["Editar Trabajo",Object(C.jsx)("span",{className:"underline text-blue-600 ml-1",children:null===te||void 0===te?void 0:te.codigo})]}),Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),J(!0),ke()?(n(function(e,t){return function(){var s=Object(j.a)(d.a.mark((function s(a){var n,c,r,i,l;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=parseInt(e.precio),c=n*parseInt(e.descuento)/100,r=n*e.recargo/100,e.total=n+r-c,s.next=7,b("works/".concat(t),e,"PATCH");case 7:return i=s.sent,s.next=10,i.json();case 10:l=s.sent,console.log(l),l.status===h.a.statusSuccess?(a(U(l.data.work)),F.fire({icon:"success",title:"Trabajo editado con exito!!!"})):m.a.fire("error",l.message,"info"),s.next=18;break;case 15:s.prev=15,s.t0=s.catch(0),m.a.fire("error",s.t0,"error");case 18:case"end":return s.stop()}}),s,null,[[0,15]])})));return function(e){return s.apply(this,arguments)}}()}(re,ee)),Z(!Q),le(),setTimeout((function(){s.push("/works/".concat(ee))}),1e3)):console.log(re,l),J(!1)},encType:"multipart/form-data",method:"POST",className:"work-add-form",children:[Object(C.jsxs)("div",{className:"grid-content",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Marca",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:ie,value:oe,type:"text",name:"marca",placeholder:"ingresa la marca"}),l.marca?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La marca es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Modelo",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("input",{onChange:ie,value:de,type:"text",name:"modelo",placeholder:"ingresa el modelo"}),l.modelo?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El modelo es obligatoria"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Cliente",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",value:ve,onChange:ie,name:"cliente",list:"clientes"}),Object(C.jsxs)("datalist",{name:"cliente",id:"clientes",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"Elegir un cliente"}),se.map((function(e){return Object(C.jsx)("option",{value:e._id,children:e.dni.toString()+" - "+e.name},e._id)}))]})]}),l.cliente?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"Debe seleccionar un cliente"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Estado",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsxs)("select",{value:ue,onChange:ie,name:"estado",children:[Object(C.jsx)("option",{value:"",disabled:!0,children:"seleccionarEstado"}),z.map((function(e){return Object(C.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),l.estado?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"El estado es obligatorio"}):null]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Emei / Serie"}),Object(C.jsx)("input",{onChange:ie,value:je,type:"number",name:"emei",min:1,minLength:25})]}),"admin"===ae&&Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"recargo"}),Object(C.jsx)("input",{value:pe,onChange:ie,type:"text",name:"recargo",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"precio"}),Object(C.jsx)("input",{value:be,onChange:ie,type:"text",name:"precio",min:0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"descuento"}),Object(C.jsx)("input",{onChange:ie,type:"text",name:"descuento",value:he,min:0})]})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{children:["Observaciones",Object(C.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(C.jsx)("textarea",{value:Oe,onChange:ie,name:"observaciones",children:" "}),l.observaciones?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 my-2 text-center",children:"La(s) observaciones es obligatoria"}):null,Object(C.jsx)("label",{children:"Falla(s) Detectada(s)"}),Object(C.jsx)("textarea",{value:xe,onChange:ie,name:"fachasEncontradas"}),Object(C.jsx)("label",{children:"Descripci\xf3n del trabajo a realizar"}),Object(C.jsx)("textarea",{value:me,onChange:ie,name:"descripcion"})]}),ge?Object(C.jsxs)("span",{children:[" Patron : ",we," "]}):fe?Object(C.jsxs)("span",{children:[" Contrase\xf1a : ",Ne," "]}):Object(C.jsx)("span",{children:"Sin clave"}),Object(C.jsxs)("div",{className:"flex items-center",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfTienes contrase\xf1a ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(w(!0),re.tieneContrasena=!0):(w(!1),re.tieneContrasena=!1,re.contrasena="")},name:"tieneContrasena",className:"checkPassword",type:"checkbox"})]}),Object(C.jsx)("br",{}),N&&Object(C.jsxs)("div",{className:"",children:[Object(C.jsxs)("div",{className:"flex items-center mb-1",children:[Object(C.jsx)("label",{className:"labelPassword",children:"\xbfEs patron ?"}),Object(C.jsx)("input",{onClick:function(e){e.target.checked?(T(!0),re.esPatron=!0,re.contrasena="",document.querySelector("#input-password").classList.add("hidden")):(re.contrasena="",re.patron="",Y(""),T(!1),re.esPatron=!1,document.querySelector("#input-password").classList.remove("hidden"))},className:"checkPatron",name:"checkPatron",type:"checkbox"})]}),Object(C.jsxs)("div",{id:"input-password",children:[Object(C.jsxs)("label",{children:["Contrase\xf1a ",Object(C.jsx)("span",{className:"text-red-500",children:" *"})," "]}),Object(C.jsx)("input",{value:Ne,onChange:ie,name:"contrasena",type:"text",placeholder:"ingresa su contrase\xf1a"})]})]}),Object(C.jsx)("br",{}),E&&Object(C.jsx)("div",{className:"patron grid grid-cols-3 gap-2 my-1",children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(C.jsx)("button",{type:"button",onClick:function(e){Y(q+e.target.textContent),re.patron=q+e.target.textContent,e.target.classList.add("bg-blue-600"),e.target.classList.add("text-gray-900"),e.target.classList.add("cursor-not-allowed"),e.target.classList.add("disabled")},className:" flex justify-center m-auto dat w-12 h-12 flex items-center text-white justify-center cursor-pointer hover:bg-blue-600 duration-500 rounded-full bg-red-600",children:e},e)}))}),O?Object(C.jsx)("h5",{className:"bg-red-100 text-red-800 p-2 mt-4 text-center",children:"La Contrase\xf1a es obligatoria"}):null,Object(C.jsx)("br",{}),E?Object(C.jsx)("div",{className:"text-center text-gray-700 p-2 mb-3 my-2 w-full bg-gray-100 shadow rouded",children:q}):null,Object(C.jsx)("button",{className:"btn",type:"submit",children:V?"Espere...":"  Guardar Trabajo "})]})]})},Ce=function(){return Object(C.jsx)("div",{className:"news  bg-gray-100",children:Object(C.jsxs)("div",{className:"news-container",children:[Object(C.jsx)("h1",{className:"text-3xl text-green-800",children:"Historial de cambios "}),Object(C.jsxs)("section",{className:"news-section shadow-md",children:[Object(C.jsx)("h4",{className:"fecha-update bg-green-600 text-white p-1",children:"14/12/2021 - 00:30"}),Object(C.jsxs)("ul",{className:"py-3 news-list",children:[Object(C.jsx)("li",{children:"Poder borrar un trabajo"}),Object(C.jsx)("li",{children:"Cambiar los campos de tipo number en textos (Precio , Descuento , Recargo)"}),Object(C.jsxs)("li",{children:["Sacar la imagen en trabajo y poner la contrase\xf1a en vez del codigo"," "]}),Object(C.jsx)("li",{children:"Al borrar un trabajo borrar sus estados tambien"}),Object(C.jsx)("li",{children:"Poder borrar un gasto "}),Object(C.jsx)("li",{children:"Acomodar los gastos iguales que los trabajos Entregados "})]})]})]})})},Se=function(){var e=Object(r.b)(),t=k({currentPassword:"",password:"",passwordConfirm:""}),s=Object(f.a)(t,3),n=s[0],c=s[1],i=s[2],l=Object(a.useState)({}),o=Object(f.a)(l,2),u=o[0],x=o[1],O=n.currentPassword,p=n.password,v=n.passwordConfirm,N=Object(a.useState)(!1),w=Object(f.a)(N,2),y=w[0],S=w[1],E=function(){var e=!0,t={};return(!O||O.trim().length<6)&&(e=!1,t.currentPassword=!0),(!p||p.trim().length<6)&&(e=!1,t.password=!0),p!==v&&(e=!1,t.passwordConfirm=!0),x(t),!!e};return Object(C.jsx)("div",{className:"update-password",children:Object(C.jsxs)("form",{onSubmit:function(t){var s;t.preventDefault(),S(!0),E()?(e((s=n,function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("users/updateMyPassword",s,"PATCH");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n),n.status===h.a.statusSuccess?(localStorage.setItem("token",n.token),localStorage.setItem("token-start-date",(new Date).getTime()),t(g({uid:n.data.user._id,username:n.data.user.name,role:n.data.user.role})),m.a.fire("Exito","Tu contrase\xf1a se cambi\xf3 con exito","success")):m.a.fire("Actual Contrase\xf1a ",n.message,"error");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i()):console.log(u),S(!1)},className:"update-password-form",children:[Object(C.jsx)("label",{children:"Actual contrase\xf1a"}),Object(C.jsx)("input",{value:O,onChange:c,type:"password",name:"currentPassword"}),u.currentPassword?Object(C.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingresa su contrase\xf1a vieja"," "]}):null," ",Object(C.jsx)("label",{children:"Contrase\xf1a"}),Object(C.jsx)("input",{value:p,onChange:c,type:"password",name:"password"}),u.password?Object(C.jsxs)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:["Ingrese una nueva contrase\xf1a"," "]}):null," ",Object(C.jsx)("label",{children:"Confirma Contrase\xf1a"}),Object(C.jsx)("input",{value:v,onChange:c,type:"password",name:"passwordConfirm"}),u.passwordConfirm?Object(C.jsx)("span",{className:"update-password-error block my-1 text-red-500 text-center bg-red-100 p-1",children:"Las contrase\xf1as no coinciden"}):null," ",Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:"btn",type:"submit",children:y?Object(C.jsx)(J,{size:"small",text:""}):"Cambiar Contrase\xf1a"})]})})},Ee=s(44),Te=s.p+"static/media/logoNovaSmall.c21dfb89.png",De=function(e){var t,s,n=e.match,c=e.history,i=n.params.id,l=Object(r.b)(),o=Object(a.useState)(!1),d=Object(f.a)(o,2),j=d[0],u=d[1];Object(a.useEffect)((function(){l(G(i))}),[l,i]);Object(a.useRef)(null);var b=Object(a.useRef)(null),h=Object(r.c)((function(e){return e.works})).work;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"download-box",children:[Object(C.jsx)("button",{onClick:function(){c.goBack()},className:"btn-1",children:"Volver"}),Object(C.jsx)("button",{className:"btn-2",onClick:function(){u(!0),b.current.save(),u(!1)},children:j?"DESCARGANDO...":"DESCARGAR"})]}),Object(C.jsx)(Ee.a,{ref:b,children:Object(C.jsxs)("div",{className:"pdf",children:[Object(C.jsxs)("header",{children:[Object(C.jsxs)("div",{class:"info-header",children:[Object(C.jsx)("h3",{children:"SERVICIO Y REPARACI\xd3N DE TEL\xc9FONOS CELULARES"}),Object(C.jsx)("p",{children:"CUIT: 20-37308578-3"}),Object(C.jsx)("p",{children:"TRABICHET NICOLAS MAXIMILIANO"}),Object(C.jsx)("p",{children:"JUJUY 1692 Piso:2 Dpto:A"}),Object(C.jsx)("p",{children:"ROSARIO"}),Object(C.jsx)("p",{children:"2000-SANTA FE"})]}),Object(C.jsxs)("div",{className:"logo-nova",children:[Object(C.jsx)("img",{src:Te,width:100,alt:"Logo Nova"}),Object(C.jsx)("section",{class:"main-header",children:Object(C.jsxs)("div",{class:"fecha-orden",children:[Object(C.jsxs)("h3",{children:["Nro Orden :",null===h||void 0===h?void 0:h.codigo]}),Object(C.jsxs)("h3",{class:"orden-fecha",children:["Fecha :",R()(new Date).format("DD-MM-YYYY")]}),Object(C.jsxs)("span",{children:["Cliente : ",null===h||void 0===h||null===(t=h.cliente)||void 0===t?void 0:t.name," "]}),Object(C.jsxs)("span",{children:[" DNI : ",null===h||void 0===h||null===(s=h.cliente)||void 0===s?void 0:s.dni]})]})})]})]}),Object(C.jsx)("h3",{className:"p-1",children:"PRESUPUESTO Y DIAGN\xd3STICO T\xc9CNICO:"}),Object(C.jsxs)("main",{className:"main-content",children:[Object(C.jsx)("div",{className:"main-content-data",children:Object(C.jsxs)("section",{class:"datos-equipo",children:[Object(C.jsx)("h2",{children:"Datos del Equipo"}),Object(C.jsxs)("div",{class:"equipo",children:[Object(C.jsxs)("span",{children:["Marca/modelo :",(null===h||void 0===h?void 0:h.marca)+" - "+(null===h||void 0===h?void 0:h.modelo)," "]}),Object(C.jsxs)("span",{children:["Imei : ",null===h||void 0===h?void 0:h.emei]}),(null===h||void 0===h?void 0:h.tieneContrase\u00f1a)?Object(C.jsxs)("span",{children:["Contrase\xf1a :",null===h||void 0===h?void 0:h.contrasena]}):(null===h||void 0===h?void 0:h.esPatron)?Object(C.jsxs)("span",{children:["Patron :",null===h||void 0===h?void 0:h.patron]}):null,Object(C.jsxs)("span",{children:["Total : ",null===h||void 0===h?void 0:h.total," "]}),Object(C.jsxs)("span",{children:["Observaciones : ",null===h||void 0===h?void 0:h.observaciones]}),Object(C.jsxs)("span",{children:["Falla Encontrada : ",null===h||void 0===h?void 0:h.fachasEncontradas]}),Object(C.jsxs)("span",{children:["Descripcion: ",null===h||void 0===h?void 0:h.descripcion]})]})]})}),Object(C.jsxs)("section",{class:"leyes-box",children:[Object(C.jsx)("h3",{children:"BASES Y CONDICIONES:"}),Object(C.jsxs)("ol",{className:"leyes",children:[Object(C.jsx)("li",{children:"La comunicaci\xf3n de la aceptaci\xf3n del presupuesto puede ser v\xeda telef\xf3nica, correo electr\xf3nico o presencial."}),Object(C.jsx)("li",{children:"Para retirar el equipo es imprescindible presentar la ORDEN DE SERVICIO T\xc9CNICO y el abono correspondiente al servicio efectuado."}),Object(C.jsx)("li",{children:"Todo trabajo solicitado como \u201curgente\u201d, tendr\xe1 un costo adicional."}),Object(C.jsx)("li",{children:"Toda reparaci\xf3n efectuada tiene una garant\xeda de 3 meses, contados desde la fecha de entrega, quedando excluidas las fallas por: mala manipulaci\xf3n, roturas o golpes, sobretensi\xf3n o evidencia de residuos l\xedquidos, humedad, o si el equipo fue intervenido por un tercero. Los equipos que ingresan mojados, no son sujetos a garant\xeda."}),Object(C.jsx)("li",{children:"e invocar la garant\xeda del equipo, nuestro servicio t\xe9cnico evaluar\xe1 el funcionamiento del mismo y decidir\xe1 si aplica o no, y en caso de hacerla efectiva el cliente deber\xe1 presentar toda la documentaci\xf3n que se le ha entregado (incluyendo: Orden de servicio y boleta o comprobante de pago entregada)."}),Object(C.jsx)("li",{children:"Todos los equipos llegados a este servicio t\xe9cnico se considerar\xe1n fuera de garant\xeda y por tanto la reparaci\xf3n se facturar\xe1 de acuerdo con las tarifas vigentes."}),Object(C.jsx)("li",{children:"La empresa solo se hace responsable por la reparaci\xf3n o servicio detallado en la orden de servicio, pudiendo agregar nuevos \xedtems si as\xed fuera necesario, informando previamente al cliente."}),Object(C.jsx)("li",{children:"El servicio t\xe9cnico no se hace responsable de los datos o informaci\xf3n contenida en los equipos puestos a su disposici\xf3n, ni de cualquier supuesta p\xe9rdida de datos en cualquiera de las unidades de almacenamiento. De ser necesario realizar un resguardo de informaci\xf3n, el cliente deber\xe1 solicitar dicho servicio."}),Object(C.jsx)("li",{children:"Si pasado los 30 d\xedas, el propietario no retira sus componentes, el costo sufre un incremento del 10%; pasados los 60 d\xedas, 20%; pasados los 90 d\xedas el propietario pierde el derecho a reclamar sus componentes, pudiendo el servicio t\xe9cnico darle el uso que crea pertinente sin necesidad de informar al cliente (Art. 1947 del C\xf3digo Procesal Civil y Comercial)."}),Object(C.jsx)("li",{children:"El cliente libera de toda responsabilidad a la empresa de cualquier tipo de falla, en equipos que son recepcionados sin encender o no se encuentren operativos, o est\xe9n mojados, ya sea porque est\xe1n sin carga o porque tiene alg\xfan problema de software o hardware. En la orden de servicio se dejar\xe1 constancia en las condiciones que ingresa el equipo a nuestros centros de reparacio\u0301n."}),Object(C.jsx)("li",{children:"Este servicio t\xe9cnico garantiza total confidencialidad sobre los datos y/o archivos sensibles (contrase\xf1as web, claves bancarias, etc) que puedan encontrarse dentro de los equipos puestos a su disposici\xf3n."}),Object(C.jsx)("li",{children:"Todo costo ocasionado por el traslado del equipo, ser\xe1 a cargo del cliente. En casos de traslado, para que tenga validez, estar\xe1 sujeto a la firma de conformidad y recepci\xf3n del servicio t\xe9cnico. 13. Dejar el equipo en reparaci\xf3n SIGNIFICA ACEPTAR TODAS LAS CONDICIONES DE TRABAJO ANTES DESCRIPTAS."})]})]})]}),Object(C.jsxs)("footer",{class:"footer-pdf",children:[Object(C.jsx)("h3",{children:"DATOS DEL SERVICIO T\xc9CNICO y FIRMA"}),Object(C.jsx)("section",{class:"firmas",children:Object(C.jsxs)("div",{class:"firma-content",children:[Object(C.jsx)("p",{children:"Firma del cliente : .................."}),Object(C.jsx)("p",{children:"Aclaracion : ................"}),Object(C.jsx)("p",{children:"DNI : ................... ................"})]})})]})]})})]})};function Ie(e){var t=e.history,s=Object(a.useState)(!1),n=Object(f.a)(s,2),c=n[0],r=n[1];return Object(C.jsxs)("div",{className:"taller",children:[Object(C.jsx)(se,{}),Object(C.jsxs)("div",{className:"content-principal",children:[Object(C.jsx)(ee,{}),Object(C.jsx)("div",{className:"content-principal-margin",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{exact:!0,path:"/",component:Q}),Object(C.jsx)(l.b,{exact:!0,path:"/works",children:Object(C.jsx)(Oe,{refresh:c,history:t,setRefresh:r})}),Object(C.jsx)(l.b,{exact:!0,path:"/clients",component:be}),Object(C.jsx)(l.b,{exact:!0,path:"/works/:workId/",component:me}),Object(C.jsx)(l.b,{exact:!0,path:"/orders",component:oe}),Object(C.jsx)(l.b,{exact:!0,path:"/works/histories/all",component:we}),Object(C.jsx)(l.b,{exact:!0,path:"/work/edit/:id",component:ye}),Object(C.jsx)(l.b,{exact:!0,path:"/works/order/:id",component:De}),Object(C.jsx)(l.b,{exaxt:!0,path:"/news",component:Ce}),Object(C.jsx)(l.b,{exact:!0,path:"/clients/:clientId",component:de}),Object(C.jsx)(l.b,{exact:!0,path:"/client/add",component:Y}),Object(C.jsx)(l.b,{exact:!0,path:"/user/update-password",component:Se}),Object(C.jsx)(l.b,{exact:!0,path:"/work/add",children:Object(C.jsx)(xe,{history:t,refresh:c,setRefresh:r})}),Object(C.jsx)(l.a,{to:"/"})]})}),Object(C.jsx)(ke,{})]})]})}var Le=s(25),Ae=["isLogged","component"],Pe=function(e){var t=e.isLogged,s=e.component,a=Object(Le.a)(e,Ae);return Object(C.jsx)(l.b,Object(w.a)(Object(w.a)({},a),{},{component:function(e){return t?Object(C.jsx)(s,Object(w.a)({},e)):Object(C.jsx)(l.a,{to:"/index"})}}))},Me=["isLogged","component"],_e=function(e){var t=e.isLogged,s=e.component,a=Object(Le.a)(e,Me);return Object(C.jsx)(l.b,Object(w.a)(Object(w.a)({},a),{},{component:function(e){return t?Object(C.jsx)(l.a,{to:"/"}):Object(C.jsx)(s,Object(w.a)({},e))}}))};function qe(){var e=Object(r.b)();Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("users/renewToken",{},"POST");case 2:return s=e.sent,e.next=5,s.json();case 5:a=e.sent,console.log(a),a.status===h.a.statusSuccess?(console.log("validoooo"),localStorage.setItem("token",a.token),localStorage.setItem("token-start-date",(new Date).getTime()),t(g({uid:a.data.user._id,username:a.data.user.name,role:a.data.user.role}))):(console.log("heree logout "),t(v()),t(O()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(r.c)((function(e){return e.auth})),s=t.uid;return t.checking?Object(C.jsx)(T,{}):Object(C.jsx)(i.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(_e,{isLogged:!!s,component:E,exact:!0,path:"/index"}),Object(C.jsx)(_e,{isLogged:!!s,exact:!0,path:"/login",component:S}),Object(C.jsx)(_e,{isLogged:!!s,exact:!0,path:"/register",component:Y}),Object(C.jsx)(Pe,{isLogged:!!s,path:"/",refresh:!0,component:Ie}),Object(C.jsx)(l.a,{to:"/index"})]})})})}var Ye=s(43),Be={orders:[]},Re={clients:[],client:null,clientWorks:[],clientSearch:[]},Fe={works:[],worksState:[],work:null,total:0,page:1,results:0},ze=s(86),Ge=ze.createStore,We=ze.compose,He=ze.applyMiddleware,Ue=(0,ze.combineReducers)({auth:s(83).authReducer,works:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllWorks:return Object(w.a)(Object(w.a)({},e),{},{works:t.payload.works,total:t.payload.total,page:t.payload.page,results:t.payload.results});case h.a.setOneWork:return Object(w.a)(Object(w.a)({},e),{},{work:t.payload});case h.a.filterWorksState:return Object(w.a)(Object(w.a)({},e),{},{worksState:t.payload.works});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a.getAllClients:return Object(w.a)(Object(w.a)({},e),{},{clients:t.payload});case h.a.setOneClient:return Object(w.a)(Object(w.a)({},e),{},{client:t.payload});case h.a.setWorksClient:return Object(w.a)(Object(w.a)({},e),{},{clientWorks:t.payload});case h.a.resetWorksClient:return Object(w.a)(Object(w.a)({},e),{},{clientWorks:[]});case h.a.filtrarClient:return Object(w.a)(Object(w.a)({},e),{},{clientSearch:t.payload});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;return t.type===h.a.getAllOrders?Object(w.a)(Object(w.a)({},e),{},{orders:t.payload}):e}}),$e=Ge(Ue,("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We)(He(Ye.a))),Ve=function(){return Object(C.jsx)(r.a,{store:$e,children:Object(C.jsx)(qe,{})})};s(84);c.a.render(Object(C.jsx)(Ve,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.43733671.chunk.js.map